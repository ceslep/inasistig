const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/utils-Dc41pFlL.js","assets/excel-G1qE2FwJ.js"])))=>i.map(i=>d[i]);
import{w as To,p as Sr,a as wt,o as Ar,l as Ce,b as Nr,i as jr,c as io,f as Qt,d as W,e as p,g as Ir,s as a,t as B,h as P,j as d,k as y,m as o,n as h,q as be,r as Nt,u as e,v as r,x as l,y as f,z as co,A as ye,B as to,C as vo,D as ct,E as Co,F as Se,G as Mo,H as pt,I as de,J as $e,K as _o,L as st,M as cr,N as Bt,O as Ao,P as go,Q as Oo,R as No,S as jo,T as mo,U as Ro,V as Io,W as Eo,X as Lo,Y as Po}from"./svelte-Cuf3vpgr.js";import{S as Ot}from"./ui-CHfsb5jC.js";import{_ as ao}from"./pdf-CBBHH09D.js";(function(){const $=document.createElement("link").relList;if($&&$.supports&&$.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))ke(u);new MutationObserver(u=>{for(const E of u)if(E.type==="childList")for(const t of E.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&ke(t)}).observe(document,{childList:!0,subtree:!0});function v(u){const E={};return u.integrity&&(E.integrity=u.integrity),u.referrerPolicy&&(E.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?E.credentials="include":u.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function ke(u){if(u.ep)return;u.ep=!0;const E=v(u);fetch(u.href,E)}})();const Ho="/inasistig/assets/asistencia_hero-DmIvUlDZ.png",Go="/inasistig/assets/anotador_hero-DBB4ReZf.png",Uo="/inasistig/assets/diario_hero-B7a5kf5J.png",Kr="/inasistig/assets/eie-DMab_WyA.png",Vo=()=>{if(typeof window<"u"){const N=localStorage.getItem("theme");if(N&&["light","dim","dark"].includes(N))return N}return"dark"},Vr=To(Vo());typeof window<"u"&&Vr.subscribe(N=>{localStorage.setItem("theme",N);const $=document.documentElement;$.classList.remove("light","dim","dark"),$.classList.add(N)});var Yo=y('<div class="relative svelte-dtuciw"><div style="top: -8px; left: 50%; transform: translateX(-50%);"></div></div>'),qo=y('<div class="fixed inset-0 bg-black/30 z-40 svelte-dtuciw" style="pointer-events: none;"></div> <div class="fixed z-50 animate-bounce-in svelte-dtuciw"><!> <div><div class="flex items-center gap-2 mb-3 svelte-dtuciw"><div class="p-1.5 bg-white/20 rounded-lg svelte-dtuciw"><svg class="w-5 h-5 svelte-dtuciw" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" class="svelte-dtuciw"></path></svg></div> <span class="inline-block px-2 py-0.5 text-xs font-bold rounded-full bg-white/25 animate-pulse svelte-dtuciw">¬°NUEVO!</span></div> <h3 class="font-bold text-base mb-2 svelte-dtuciw"> </h3> <p> </p> <div class="flex gap-2 svelte-dtuciw"><button>Probar ahora</button> <button class="px-3 py-2 rounded-lg text-sm hover:bg-white/20 transition-colors svelte-dtuciw" aria-label="Cerrar popup">M√°s tarde</button></div> <button class="absolute top-2 right-2 p-1 rounded-lg hover:bg-white/20 transition-colors svelte-dtuciw" aria-label="Cerrar notificaci√≥n"><svg class="w-4 h-4 svelte-dtuciw" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-dtuciw"></path></svg></button></div></div>',1);function so(N,$){Sr($,!1);const v=h();let ke=wt($,"featureMessage",8),u=wt($,"description",8),E=wt($,"onTryNow",8),t=wt($,"onDismiss",8),xe=wt($,"targetSelector",8,void 0),Ne=wt($,"showPopup",8),D=wt($,"colorTheme",8,"blue"),le=h({top:0,left:0});function H(){if(typeof window<"u"&&xe()){const S=document.querySelector(xe());if(S){const s=S.getBoundingClientRect();d(le,{top:s.bottom+10,left:s.left+s.width/2})}}else d(le,{top:window.innerHeight/2-100,left:window.innerWidth/2})}Ar(()=>(H(),window.addEventListener("resize",H),()=>{window.removeEventListener("resize",H)})),Ce(()=>{},()=>{d(v,{arrowBorder:{blue:"border-t-blue-600 dark:border-t-blue-400",green:"border-t-green-600 dark:border-t-green-400",purple:"border-t-purple-600 dark:border-t-purple-400",emerald:"border-t-emerald-600 dark:border-t-emerald-400"},bgGradientFrom:{blue:"from-blue-600 dark:from-blue-700",green:"from-green-600 dark:from-green-700",purple:"from-purple-600 dark:from-purple-700",emerald:"from-emerald-600 dark:from-emerald-700"},bgGradientTo:{blue:"to-indigo-600 dark:to-indigo-700",green:"to-emerald-600 dark:to-emerald-700",purple:"to-fuchsia-600 dark:to-fuchsia-700",emerald:"to-teal-600 dark:to-teal-700"},borderColor:{blue:"border-blue-400 dark:border-blue-500",green:"border-green-400 dark:border-green-500",purple:"border-purple-400 dark:border-purple-500",emerald:"border-emerald-400 dark:border-emerald-500"},buttonTextColor:{blue:"text-blue-600",green:"text-green-600",purple:"text-purple-600",emerald:"text-emerald-600"},buttonHoverBg:{blue:"hover:bg-blue-50",green:"hover:bg-green-50",purple:"hover:bg-purple-50",emerald:"hover:bg-emerald-50"},descriptionColor:{blue:"text-blue-100",green:"text-green-100",purple:"text-purple-100",emerald:"text-emerald-100"}})}),Ce(()=>be(Ne()),()=>{Ne()&&H()}),Nr(),jr();var V=io(),j=Qt(V);{var R=S=>{var s=qo(),i=a(Qt(s),2),w=o(i);{var Y=m=>{var I=Yo(),re=o(I);B(()=>Nt(re,1,`absolute w-0 h-0 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent ${e(v),be(D()),r(()=>e(v).arrowBorder[D()])??""}`,"svelte-dtuciw")),p(m,I)};W(w,m=>{xe()&&m(Y)})}var ge=a(w,2),G=a(o(ge),2),Ie=o(G),fe=a(G,2),Je=o(fe),ft=a(fe,2),Ze=o(ft),Qe=a(Ze,2),Ve=a(ft,2);B(()=>{l(i,`top: ${e(le),r(()=>e(le).top)??""}px; left: ${e(le),r(()=>e(le).left)??""}px; transform: translateX(-50%);`),Nt(ge,1,`bg-gradient-to-r ${e(v),be(D()),r(()=>e(v).bgGradientFrom[D()])??""} ${e(v),be(D()),r(()=>e(v).bgGradientTo[D()])??""} text-white p-4 rounded-xl shadow-2xl border ${e(v),be(D()),r(()=>e(v).borderColor[D()])??""} min-w-[280px] max-w-[calc(100vw-20px)] md:max-w-[320px]`,"svelte-dtuciw"),f(Ie,ke()),Nt(fe,1,`text-sm ${e(v),be(D()),r(()=>e(v).descriptionColor[D()])??""} mb-3`,"svelte-dtuciw"),f(Je,u()),Nt(Ze,1,`px-3 py-2 rounded-lg text-sm bg-white ${e(v),be(D()),r(()=>e(v).buttonTextColor[D()])??""} font-semibold ${e(v),be(D()),r(()=>e(v).buttonHoverBg[D()])??""} transition-colors`,"svelte-dtuciw")}),P("click",Ze,function(...m){E()?.apply(this,m)}),P("click",Qe,function(...m){t()?.apply(this,m)}),P("click",Ve,function(...m){t()?.apply(this,m)}),p(S,s)};W(j,S=>{Ne()&&S(R)})}p(N,V),Ir()}var Jo=pt('<svg class="w-6 h-6 text-amber-500 svelte-1y1a8hs" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364-6.364l-.707.707M6.343 17.657l-.707.707M16.95 16.95l.707.707M7.636 7.636l.707.707M12 8a4 4 0 100 8 4 4 0 000-8z" class="svelte-1y1a8hs"></path></svg>'),Wo=pt('<svg class="w-6 h-6 text-indigo-400 svelte-1y1a8hs" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" class="svelte-1y1a8hs"></path></svg>'),Ko=pt('<svg class="w-6 h-6 text-indigo-500 svelte-1y1a8hs" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364-6.364l-.707.707M6.343 17.657l-.707.707M16.95 16.95l.707.707M7.636 7.636l.707.707M12 8a4 4 0 100 8 4 4 0 000-8z" class="svelte-1y1a8hs"></path></svg>'),Zo=y('<button class="group relative flex flex-col justify-between overflow-hidden rounded-[2.5rem] border border-[rgb(var(--card-border))] bg-[rgb(var(--card-bg))] backdrop-blur-xl transition-all duration-500 hover:border-[rgb(var(--accent-primary))]/30 hover:bg-[rgb(var(--bg-secondary))] p-1 svelte-1y1a8hs"><div class="absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-white/10 to-transparent svelte-1y1a8hs"></div> <div class="relative p-8 flex flex-col h-full svelte-1y1a8hs"><div class="flex justify-between items-start mb-12 svelte-1y1a8hs"><div class="flex flex-col gap-1 svelte-1y1a8hs"><span class="text-[10px] font-bold uppercase tracking-[0.2em] text-[rgb(var(--accent-primary))] svelte-1y1a8hs"> </span> <h2 class="text-2xl font-bold tracking-tight text-[rgb(var(--text-primary))] group-hover:text-[rgb(var(--accent-primary))] transition-colors duration-300 svelte-1y1a8hs"> </h2></div> <span class="px-3 py-1 rounded-full text-[10px] font-bold bg-[rgb(var(--bg-tertiary))] border border-[rgb(var(--border-primary))] text-[rgb(var(--text-muted))] uppercase tracking-wider svelte-1y1a8hs"> </span></div> <div class="flex flex-col gap-6 mt-auto svelte-1y1a8hs"><div class="relative w-full aspect-video rounded-3xl overflow-hidden bg-black/20 border border-white/5 svelte-1y1a8hs"><div></div> <img class="w-3/4 h-3/4 mx-auto object-cover grayscale-[0.5] group-hover:grayscale-0 group-hover:scale-110 transition-all duration-700 ease-in-out opacity-60 group-hover:opacity-100 svelte-1y1a8hs"/> <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-500 z-20 svelte-1y1a8hs"><div class="p-3 rounded-full bg-white/10 backdrop-blur-md border border-white/20 svelte-1y1a8hs"><svg class="w-6 h-6 text-white svelte-1y1a8hs" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" class="svelte-1y1a8hs"></path></svg></div></div></div> <p class="text-sm font-medium leading-relaxed text-[rgb(var(--text-muted))] line-clamp-2 svelte-1y1a8hs"> </p></div> <div class="mt-8 flex items-center justify-between svelte-1y1a8hs"><div class="flex -space-x-2 svelte-1y1a8hs"><div class="w-6 h-6 rounded-full border border-black bg-indigo-500/20 svelte-1y1a8hs"></div> <div class="w-6 h-6 rounded-full border border-black bg-purple-500/20 svelte-1y1a8hs"></div></div> <div class="text-[10px] font-bold text-[rgb(var(--text-muted))] tracking-[0.1em] group-hover:text-[rgb(var(--accent-primary))] transition-colors uppercase svelte-1y1a8hs">Explorar &rarr;</div></div></div> <div></div></button>'),Qo=y(`<header class="max-w-7xl w-full mb-6 lg:mb-8 text-center relative svelte-1y1a8hs"><div class="absolute right-0 top-0 svelte-1y1a8hs"><button class="p-3 rounded-2xl bg-[rgb(var(--bg-secondary))] border border-[rgb(var(--border-primary))] hover:border-[rgb(var(--accent-primary))] transition-all duration-300 group svelte-1y1a8hs" aria-label="Toggle Theme"><!></button></div> <div class="inline-block mb-4 relative svelte-1y1a8hs"><div class="absolute inset-0 bg-indigo-500/20 blur-2xl rounded-full svelte-1y1a8hs"></div> <img alt="EIE Logo" class="relative h-12 md:h-16 object-contain hover:scale-110 transition-transform duration-700 ease-out cursor-none svelte-1y1a8hs"/></div> <div class="space-y-1 svelte-1y1a8hs"><h1 class="text-3xl md:text-5xl font-black tracking-tight svelte-1y1a8hs"><span class="bg-gradient-to-b from-[rgb(var(--text-primary))] to-[rgb(var(--text-secondary))] bg-clip-text text-transparent svelte-1y1a8hs">Ecosistema Digital</span> <span class="text-[rgb(var(--accent-primary))] svelte-1y1a8hs">Instituto Gu√°tica</span></h1> <p class="text-base md:text-lg text-[rgb(var(--text-muted))] max-w-xl mx-auto font-medium svelte-1y1a8hs">Potenciando la excelencia pedag√≥gica a trav√©s de herramientas
          inteligentes y dise√±o centrado en el docente.</p></div></header> <div class="max-w-7xl w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8 svelte-1y1a8hs"></div> <footer class="mt-20 flex flex-col md:flex-row items-center gap-8 text-[rgb(var(--text-muted))] text-xs font-bold tracking-widest uppercase svelte-1y1a8hs"><div class="flex items-center gap-4 px-6 py-3 rounded-full bg-[rgb(var(--bg-secondary))] border border-[rgb(var(--border-primary))] backdrop-blur-sm svelte-1y1a8hs"><span class="w-2 h-2 rounded-full bg-emerald-500 animate-pulse svelte-1y1a8hs"></span> SISTEMA OPERATIVO</div> <div class="hidden md:block w-px h-4 bg-[rgb(var(--border-primary))] svelte-1y1a8hs"></div> <div class="svelte-1y1a8hs">v2.0.4 PLATINUM</div> <div class="hidden md:block w-px h-4 bg-[rgb(var(--border-primary))] svelte-1y1a8hs"></div> <div class="svelte-1y1a8hs">2026 EIE DIGITAL</div></footer>`,1),Xo=y(`<div class="min-h-screen w-full flex flex-col items-center p-6 lg:p-12 transition-colors duration-700 bg-[rgb(var(--bg-primary))] text-[rgb(var(--text-primary))] svelte-1y1a8hs"><div class="fixed inset-0 overflow-hidden pointer-events-none -z-10 svelte-1y1a8hs"><div class="absolute -top-[20%] -left-[10%] w-[60%] h-[60%] bg-indigo-500/5 blur-[120px] rounded-full animate-pulse svelte-1y1a8hs"></div> <div class="absolute -bottom-[20%] -right-[10%] w-[60%] h-[60%] bg-purple-500/5 blur-[120px] rounded-full animate-pulse svelte-1y1a8hs" style="animation-delay: 2s"></div> <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-[0.02] mix-blend-overlay svelte-1y1a8hs"></div></div> <!></div> <!>`,1);function ea(N,$){Sr($,!1);const v=()=>vo(Vr,"$theme",ke),[ke,u]=co();let E=wt($,"onSelect",8),t=h(!1);const xe="¬°Nueva forma de anotar el Diario de Campo!",Ne="Ahora el Diario de Campo permite seleccionar y personalizar anotaciones predefinidas. ¬°Expl√≥ralo!";function D(){const Y=localStorage.getItem("dismissedFeatureAlertDashboardDiario");if(!Y)return!0;const ge=new Date(Y);return(new Date().getTime()-ge.getTime())/(1e3*60*60*24)>5}const le=()=>{localStorage.setItem("dismissedFeatureAlertDashboardDiario",new Date().toISOString())},H=()=>{localStorage.setItem("dismissedFeatureAlertDashboardDiario",new Date().toISOString()),E()("diario")};Ar(()=>{d(t,!0),D()});const V=()=>{Vr.update(Y=>Y==="light"?"dim":Y==="dim"?"dark":"light")},j=[{id:"inasistencia",title:"Registro Diario",subtitle:"Gesti√≥n de Asistencia",description:"Control preciso de inasistencias y novedades diarias del aula.",image:Ho,color:"from-blue-600/20 to-indigo-600/20",accent:"blue",tag:"Operativo"},{id:"anotador",title:"Anotador de Clase",subtitle:"Seguimiento √Ågil",description:"Registro din√°mico de incidencias y avances pedag√≥gicos por sesi√≥n.",image:Go,color:"from-purple-600/20 to-pink-600/20",accent:"purple",tag:"Acad√©mico"},{id:"diario",title:"Diario de Campo",subtitle:"Reflexi√≥n Docente",description:"Espacio para la reflexi√≥n profunda y documentaci√≥n pedag√≥gica.",image:Uo,color:"from-emerald-600/20 to-teal-600/20",accent:"emerald",tag:"Estrat√©gico"},{id:"horas_laborables",title:"Horas Laborables",subtitle:"Gesti√≥n de Tiempo",description:"Calculadora especializada para el seguimiento de jornadas y horas docentes.",image:Kr,color:"from-orange-600/20 to-amber-600/20",accent:"orange",tag:"Herramienta",url:"https://ceslep.github.io/horas_laborables"}];jr();var R=Xo(),S=Qt(R),s=a(o(S),2);{var i=Y=>{var ge=Qo(),G=Qt(ge),Ie=o(G),fe=o(Ie),Je=o(fe);{var ft=X=>{var ee=Jo();p(X,ee)},Ze=X=>{var ee=Wo();p(X,ee)},Qe=X=>{var ee=Ko();p(X,ee)};W(Je,X=>{v()==="light"?X(ft):v()==="dim"?X(Ze,1):X(Qe,!1)})}var Ve=a(Ie,2),m=a(o(Ve),2),I=a(G,2);ye(I,5,()=>j,Se,(X,ee,Be)=>{var Fe=Zo(),ne=a(o(Fe),2),me=o(ne),ut=o(me),Pe=o(ut),Xe=o(Pe),Me=a(Pe,2),Ye=o(Me),lt=a(ut,2),rt=o(lt),c=a(me,2),k=o(c),z=o(k),T=a(z,2),Q=a(k,2),F=o(Q),K=a(ne,2);B(()=>{ct(Fe,"id",(e(ee),r(()=>e(ee).id==="diario"?"diario-module-target":""))),f(Xe,(e(ee),r(()=>e(ee).subtitle))),f(Ye,(e(ee),r(()=>e(ee).title))),f(rt,(e(ee),r(()=>e(ee).tag))),Nt(z,1,`absolute inset-0 bg-gradient-to-br ${e(ee),r(()=>e(ee).color)??""} mix-blend-overlay z-10`,"svelte-1y1a8hs"),ct(T,"src",(e(ee),r(()=>e(ee).image))),ct(T,"alt",(e(ee),r(()=>e(ee).title))),f(F,(e(ee),r(()=>e(ee).description))),Nt(K,1,`absolute inset-0 bg-gradient-to-br ${e(ee),r(()=>e(ee).color)??""} opacity-0 group-hover:opacity-[0.03] transition-opacity duration-500 pointer-events-none`,"svelte-1y1a8hs")}),P("click",Fe,()=>E()(e(ee).id)),to(1,Fe,()=>Co,()=>({y:40,duration:800,delay:200+Be*150})),p(X,Fe)});var re=a(I,2);B(()=>ct(m,"src",Kr)),P("click",fe,V),to(1,G,()=>Co,()=>({y:-20,duration:800,delay:100})),to(1,re,()=>Mo,()=>({duration:1e3,delay:800})),p(Y,ge)};W(s,Y=>{e(t)&&Y(i)})}var w=a(S,2);so(w,{featureMessage:xe,description:Ne,onTryNow:H,onDismiss:le,targetSelector:"#diario-module-target",showPopup:!1,colorTheme:"emerald"}),p(N,R),Ir(),u()}const lo="1wN7lp7lOGyxKYIUJ9TU89N9knnJjX2Z_TfsOUg48QpQ",ro="https://app.iedeoccidente.com/gs",oo="https://app.iedeoccidente.com/ig",ta=`${oo}/getprofes.php`,ra=`${oo}/getMaterias.php`,oa=`${oo}/getEstudiantes.php`,aa=`${ro}/save_inasistencias.php`,sa=`${ro}/save_anotador.php`,la=`${oo}/getOpcionesAnotador3.php`,na=`${oo}/adiario.php`,ia=`${ro}/save_diario.php`,yo="Inasistencias",ko="Datos",no="1Q6EcSvccB7BoJiw9PD2s5J4PB8AJmr-6v-yKhiE4E8k",So="10pBVNYnS-ctmBYP9Y8KL3h32GZKsyi0bwoyil-kEGaE",da="diario",bo="Selecciona un grado y una asignatura para comenzar a registrar inasistencias. Ahora puedes marcar motivos individuales y observaciones espec√≠ficas por estudiante.Tambien pueden ver el filtro de datos en Locker Studio",xo="Completa los datos de la clase y selecciona las observaciones que correspondan. Puedes editar el texto de cada observaci√≥n si es necesario.Recuerda hacer check en el cuadro de selecci√≥n para guardar esa anotaci√≥n.",fo="Completa los datos de la clase y selecciona las observaciones que correspondan. Puedes editar el texto de cada observaci√≥n si es necesario.Recuerda hacer check en el cuadro de selecci√≥n para guardar esa anotaci√≥n.",ca="https://lookerstudio.google.com/reporting/be2efb22-dc5f-4f21-9dfc-0253e763e19f",ho=[{nombre:"UNO",fecha_inicio:new Date("2026-01-26"),fecha_fin:new Date("2026-03-27")},{nombre:"DOS",fecha_inicio:new Date("2026-03-30"),fecha_fin:new Date("2026-06-12")},{nombre:"TRES",fecha_inicio:new Date("2026-07-07"),fecha_fin:new Date("2026-09-11")},{nombre:"CUATRO",fecha_inicio:new Date("2026-09-14"),fecha_fin:new Date("2026-11-20")}],va=async()=>{try{const N=await fetch(`${na}`);if(!N.ok)throw new Error(`Error: ${N.status}`);return await N.json()}catch(N){throw console.error("Error fetching diario options:",N),N}},Do=async(N={})=>{try{const $=await fetch(`${ro}/get_inasistencias.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});if(!$.ok)throw new Error(`Error: ${$.status}`);return await $.json()}catch($){throw console.error("Error fetching inasistencias:",$),$}},Bo=async(N={})=>{try{const $=await fetch(`${ro}/get_anotador.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});if(!$.ok)throw new Error(`Error: ${$.status}`);return await $.json()}catch($){throw console.error("Error fetching inasistencias:",$),$}},ga=async N=>{try{const $=await fetch(`${aa}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});if(!$.ok)throw new Error(`Error: ${$.status}`);return await $.json()}catch($){throw console.error("Error saving inasistencias:",$),$}},Zr=async()=>{try{const N=await fetch(`${ta}`);if(!N.ok)throw new Error(`Error: ${N.status}`);return await N.json()}catch(N){throw console.error("Error fetching docentes:",N),N}},Qr=async()=>{try{const N=await fetch(`${ra}`);if(!N.ok)throw new Error(`Error: ${N.status}`);return await N.json()}catch(N){throw console.error("Error fetching materias:",N),N}},Xr=async()=>{try{const N=await fetch(`${oa}`);if(!N.ok)throw new Error(`Error: ${N.status}`);return await N.json()}catch(N){throw console.error("Error fetching estudiantes:",N),N}},pa=async()=>{try{const N=await fetch(`${la}`);if(!N.ok)throw new Error(`Error: ${N.status}`);return await N.json()}catch(N){throw console.error("Error fetching opciones anotador3:",N),N}},ua=async N=>{try{const $=await fetch(`${sa}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});if(!$.ok)throw new Error(`Error: ${$.status}`);return await $.json()}catch($){throw console.error("Error saving inasistencias:",$),$}},ba=async N=>{try{const $=await fetch(`${ia}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});if(!$.ok)throw new Error(`Error: ${$.status}`);return await $.json()}catch($){throw console.error("Error saving inasistencias:",$),$}};var xa=y('<div class="flex-1 flex items-center justify-center"><div class="text-center"><div class="animate-spin w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full mx-auto mb-4"></div> <p>Cargando datos...</p></div></div>'),fa=y('<span class="ml-2 px-2 py-1 text-xs bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 rounded-full">Activos</span>'),ha=y("<option> </option>"),ma=y("<option> </option>"),_a=y('<p class="text-[10px] sm:text-xs text-amber-600 dark:text-amber-400 mt-1">Este docente no tiene registros de materias</p>'),ya=y("<option> </option>"),ka=y('<p class="text-[10px] sm:text-xs text-amber-600 dark:text-amber-400 mt-1">No hay grados para los filtros seleccionados</p>'),wa=y("<option> </option>"),$a=y('<p class="text-[10px] sm:text-xs text-amber-600 dark:text-amber-400 mt-1">No hay motivos para los filtros seleccionados</p>'),Ca=y('<div class="flex-1 flex items-center justify-center"><div class="text-center py-12 px-4"><svg class="w-16 h-16 mx-auto mb-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> <p class="text-sm sm:text-base">No se encontraron registros con los filtros seleccionados</p></div></div>'),Aa=y('<button class="text-indigo-600 dark:text-indigo-400 hover:underline font-medium text-left truncate w-full"> </button>'),Sa=y('<tr class="border-b transition-colors hover:bg-black/5 dark:hover:bg-white/5 text-xs"><td class="p-2"> </td><td class="p-2 truncate max-w-[150px]"> </td><td class="p-2 truncate max-w-[150px]"> </td><td class="p-2 text-center"> </td><td class="p-2 truncate max-w-[150px]"><!></td><td class="p-2 text-center"><span><span> </span> </span></td><td class="p-2 text-center"> </td><td class="p-2"><span class="truncate block max-w-xs text-xs"> </span></td></tr>'),Ia=y('<button class="text-indigo-600 dark:text-indigo-400 hover:underline font-medium text-left truncate w-full"> </button>'),Ea=y('<tr class="border-b transition-colors hover:bg-black/5 dark:hover:bg-white/5 text-xs"><td class="p-2 whitespace-nowrap"> </td><td class="p-2"><span class="truncate block max-w-[120px]"> </span></td><td class="p-2 truncate max-w-[120px]"> </td><td class="p-2"><span class="truncate block max-w-[100px]"><!></span></td><td class="p-2 text-center"><span><span> </span> </span></td><td class="p-2 whitespace-nowrap text-center"> </td><td class="p-2 whitespace-nowrap text-center"> </td></tr>'),Da=y('<button class="font-semibold text-xs text-indigo-600 dark:text-indigo-400 truncate hover:underline text-left w-full"> </button>'),Ba=y('<p class="font-semibold text-xs text-indigo-600 dark:text-indigo-400 truncate"> </p>'),za=y('<div class="text-[10px] p-1.5 rounded"><div class="flex items-start"><svg class="w-3 h-3 mr-1 mt-0.5 flex-shrink-0 opacity-60" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> <span class="line-clamp-1"> </span></div></div>'),Fa=y('<div class="border rounded-lg p-2 transition-colors hover:bg-black/5 dark:hover:bg-white/5"><div class="flex justify-between items-center mb-1.5"><div class="flex-1 min-w-0"><!> <p class="text-[10px] opacity-75"> </p></div> <div class="flex flex-col items-end ml-2 flex-shrink-0"><span><span> </span> </span> <span class="text-[10px] font-semibold"> </span></div></div> <div class="flex gap-3 text-[10px] mb-1.5"><div class="flex items-center flex-1 min-w-0"><svg class="w-3 h-3 mr-1 opacity-60 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg> <span class="truncate"> </span></div> <div class="flex items-center flex-1 min-w-0"><svg class="w-3 h-3 mr-1 opacity-60 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg> <span class="truncate"> </span></div></div> <!></div>'),Ta=y('<div class="hidden lg:flex flex-1 flex-col overflow-hidden min-h-0"><div class="flex-1 overflow-auto min-w-full border rounded-lg"><table class="w-full border-collapse text-sm min-w-[800px]"><thead class="sticky top-0 z-10 border-b"><tr><th class="text-left p-2 font-semibold whitespace-nowrap">Fecha</th><th class="text-left p-2 font-semibold whitespace-nowrap">Docente</th><th class="text-left p-2 font-semibold whitespace-nowrap">Materia</th><th class="text-center p-2 font-semibold whitespace-nowrap">Grado</th><th class="text-left p-2 font-semibold whitespace-nowrap">Estudiante</th><th class="text-center p-2 font-semibold whitespace-nowrap">Motivo</th><th class="text-center p-2 font-semibold whitespace-nowrap">Horas</th><th class="text-left p-2 font-semibold whitespace-nowrap">Observaciones</th></tr></thead><tbody></tbody></table></div></div> <div class="hidden md:flex lg:hidden flex-1 overflow-auto"><div class="min-w-full border rounded-lg"><table class="w-full border-collapse text-xs"><thead class="sticky top-0 z-10 border-b"><tr><th class="text-left p-2 font-semibold whitespace-nowrap">Fecha</th><th class="text-left p-2 font-semibold whitespace-nowrap">Docente</th><th class="text-left p-2 font-semibold whitespace-nowrap">Materia</th><th class="text-left p-2 font-semibold whitespace-nowrap">Estudiante</th><th class="text-center p-2 font-semibold whitespace-nowrap">Motivo</th><th class="text-center p-2 font-semibold whitespace-nowrap">Horas</th><th class="text-center p-2 font-semibold whitespace-nowrap">Grado</th></tr></thead><tbody></tbody></table></div></div> <div class="flex-1 overflow-y-auto md:hidden px-1"><div class="space-y-2"></div></div>',1),Ma=y('<div class="p-3 sm:p-4 border-b"><div class="flex items-center justify-between mb-2 sm:mb-3"><h3 class="text-lg font-semibold">Filtros <!></h3> <button class="text-sm px-3 py-1 rounded-lg border transition-colors hover:bg-black/5 dark:hover:bg-white/5">Limpiar filtros</button></div> <div class="mb-3 p-1.5 sm:p-2 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg"><p class="text-[10px] sm:text-xs font-medium mb-1.5">R√°pido: Fechas</p> <div class="flex items-center mb-2"><input id="checkFiltrarFecha" type="checkbox" class="w-4 h-4 rounded text-indigo-600 focus:ring-indigo-500 border-gray-300 dark:border-gray-600 dark:bg-zinc-700"/> <label for="checkFiltrarFecha" class="ml-2 text-xs font-medium">Activar filtro por fechas</label></div> <div class="flex flex-wrap gap-1 sm:gap-2"><button class="text-[10px] sm:text-xs px-1.5 sm:px-2 py-1 bg-white dark:bg-zinc-800 border rounded hover:bg-indigo-100 dark:hover:bg-indigo-800/50 transition-colors">Hoy</button> <button class="text-[10px] sm:text-xs px-1.5 sm:px-2 py-1 bg-white dark:bg-zinc-800 border rounded hover:bg-indigo-100 dark:hover:bg-indigo-800/50 transition-colors">√öltimos 7 d√≠as</button> <button class="text-[10px] sm:text-xs px-1.5 sm:px-2 py-1 bg-white dark:bg-zinc-800 border rounded hover:bg-indigo-100 dark:hover:bg-indigo-800/50 transition-colors">√öltimos 30 d√≠as</button> <button class="text-[10px] sm:text-xs px-1.5 sm:px-2 py-1 bg-white dark:bg-zinc-800 border rounded hover:bg-indigo-100 dark:hover:bg-indigo-800/50 transition-colors">Mes actual</button> <button class="text-[10px] sm:text-xs px-1.5 sm:px-2 py-1 bg-white dark:bg-zinc-800 border rounded hover:bg-indigo-100 dark:hover:bg-indigo-800/50 transition-colors">√öltimo trimestre</button></div></div> <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4"><div class="flex gap-3 sm:gap-4"><div class="flex-1 space-y-1.5 sm:space-y-2"><label for="filtroDocente" class="block text-xs sm:text-sm font-medium">Docente</label> <select id="filtroDocente" class="w-full px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg border focus:ring-2 focus:ring-indigo-500 outline-none text-xs sm:text-sm"><option>Todos los docentes</option><!></select></div> <div class="flex-1 space-y-1.5 sm:space-y-2"><label for="filtroMateria" class="block text-xs sm:text-sm font-medium"> </label> <select id="filtroMateria" class="w-full px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg border focus:ring-2 focus:ring-indigo-500 outline-none text-xs sm:text-sm"><option> </option><!></select> <!></div></div> <div class="flex gap-3 sm:gap-4"><div class="flex-1 space-y-1.5 sm:space-y-2"><label for="filtroGrado" class="block text-xs sm:text-sm font-medium"> </label> <select id="filtroGrado" class="w-full px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg border focus:ring-2 focus:ring-indigo-500 outline-none text-xs sm:text-sm"><option> </option><!></select> <!></div> <div class="flex-1 space-y-1.5 sm:space-y-2"><label for="filtroMotivo" class="block text-xs sm:text-sm font-medium">Motivo</label> <select id="filtroMotivo" class="w-full px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg border focus:ring-2 focus:ring-indigo-500 outline-none text-xs sm:text-sm"><option> </option><!></select> <!></div></div> <div class="flex gap-3 sm:gap-4"><div class="flex-1 space-y-1.5 sm:space-y-2"><label for="filtroFechaInicio" class="block text-xs sm:text-sm font-medium">Fecha desde</label> <input id="filtroFechaInicio" type="date" class="w-full px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg border focus:ring-2 focus:ring-indigo-500 outline-none text-xs sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed"/></div> <div class="flex-1 space-y-1.5 sm:space-y-2"><label for="filtroFechaFin" class="block text-xs sm:text-sm font-medium">Fecha hasta</label> <input id="filtroFechaFin" type="date" class="w-full px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg border focus:ring-2 focus:ring-indigo-500 outline-none text-xs sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed"/></div></div></div></div> <div class="flex-1 flex flex-col p-2 sm:p-4 min-h-0"><div class="mb-4 px-0 sm:px-3"><p class="text-sm">Se encontraron <span class="font-bold text-indigo-500"> </span> registros</p></div> <!></div>',1),Oa=y('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4" role="button" tabindex="0" aria-label="Cerrar ventana"><div class="w-full max-w-7xl max-h-[95vh] bg-white dark:bg-zinc-900 rounded-2xl shadow-2xl overflow-hidden flex flex-col"><div class="flex items-center justify-between p-3 sm:p-4 border-b"><div class="flex items-center gap-3"><img alt="EIE Logo" class="h-8 w-auto hidden sm:block"/> <div><h2 class="text-lg sm:text-xl font-bold">Inasistencias</h2> <p class="text-xs hidden sm:block">Filtra y consulta los registros</p></div></div> <div class="flex items-center gap-3"><button class="inline-flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> Exportar CSV</button> <button class="p-2 rounded-lg transition-colors hover:bg-black/5 dark:hover:bg-white/5" aria-label="Cerrar"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div></div> <div class="flex-1 overflow-hidden flex flex-col min-h-0"><!></div></div></div>');function Na(N,$){Sr($,!1);const v=h(),ke=h(),u=h(),E=h(),t=h();let xe=wt($,"onClose",8),Ne=wt($,"selectedDocente",8,""),D=h([]),le=[],H=[],V=[],j=h(!1),R=h(!1),S=h([]),s=h({docente:Ne()||"",materia:"",grado:"",fechaInicio:"",fechaFin:"",motivo:""});const i=()=>{const c=new Date,k=new Date(c.getFullYear(),c.getMonth()-1,c.getDate()),z=T=>{const Q=T.getFullYear(),F=String(T.getMonth()+1).padStart(2,"0"),K=String(T.getDate()).padStart(2,"0");return`${Q}-${F}-${K}`};de(s,e(s).fechaInicio=z(k)),$e(()=>{e(t),e(G),e(v),e(u),e(E)}),de(s,e(s).fechaFin=z(c)),$e(()=>{e(t),e(G),e(v),e(u),e(E)})},w=c=>{const k=new Date;let z;switch(c){case"hoy":z=new Date(k);break;case"semana":z=new Date(k),z.setDate(k.getDate()-7);break;case"mes":z=new Date(k),z.setDate(k.getDate()-30);break;case"mes_actual":z=new Date(k.getFullYear(),k.getMonth(),1);break;case"trimestre":z=new Date(k),z.setDate(k.getDate()-90);break;default:i();return}const T=Q=>{const F=Q.getFullYear(),K=String(Q.getMonth()+1).padStart(2,"0"),he=String(Q.getDate()).padStart(2,"0");return`${F}-${K}-${he}`};de(s,e(s).fechaInicio=T(z)),$e(()=>{e(t),e(G),e(v),e(u),e(E)}),de(s,e(s).fechaFin=T(k)),$e(()=>{e(t),e(G),e(v),e(u),e(E)}),d(R,!0),console.log("‚úÖ setFechaPreset ejecutado:",{preset:c,fechaInicio:e(s).fechaInicio,fechaFin:e(s).fechaFin,filtrarPorFecha:e(R)})},Y=[{value:"Sin excusa",icon:"üö´",color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"},{value:"Excusa",icon:"üìÑ",color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},{value:"LLegada Tarde",icon:"‚è∞",color:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200"},{value:"Transporte Escolar",icon:"üöå",color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"},{value:"Permiso",icon:"‚úÖ",color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},{value:"No portar/sin uniforme",icon:"üëö",color:"bg-cyan-100 text-cyan-800 dark:bg-cyan-900 dark:text-cyan-200"},{value:"Pacto de Aula",icon:"ü§ù",color:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"},{value:"Uso del celular",icon:"üì±",color:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"},{value:"Desorden en Clase",icon:"üîä",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},{value:"Fuga",icon:"üèÉ‚Äç‚ôÇÔ∏è",color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"},{value:"No realizaci√≥n de Aseo",icon:"üßπ",color:"bg-teal-100 text-teal-800 dark:bg-teal-900 dark:text-teal-200"},{value:"Licencia por salud",icon:"üè•",color:"bg-cyan-100 text-cyan-800 dark:bg-cyan-900 dark:text-cyan-200"},{value:"Incapacidad",icon:"ü©∫",color:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200"},{value:"Reuni√≥n interna",icon:"üë•",color:"bg-zinc-100 text-zinc-800 dark:bg-zinc-900 dark:text-zinc-200"},{value:"Psicoorientaci√≥n",icon:"üß†",color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}],ge=c=>Y.find(k=>k.value===c)||{icon:"‚ùì",color:"bg-gray-100 text-gray-800"};let G=h([]),Ie=h([]),fe=h([]),Je=h([]);const ft=async()=>{d(j,!0);try{const[c,k,z,T]=await Promise.all([Do({spreadsheetId:lo,worksheetTitle:yo}),Zr(),Qr(),Xr()]);console.log("Respuesta cruda de inasistencias:",c),console.log("Tipo de dato:",typeof c),console.log("Es array:",Array.isArray(c)),c&&typeof c=="object"&&console.log("Keys:",Object.keys(c));const Q=_=>{if(!_?.records||!Array.isArray(_.records))return[];const Ee=_.records[0]?.values||[];return _.records.slice(1).map(_e=>{const U=_e.values||[];return{timestamp:U[0]||"",docente:U[1]||"",fecha:U[2]||"",horas:U[3]||"",materia:U[4]||"",motivo:U[5]||"",grado:U[6]||"",nombre:U[7]||"",observaciones:U[8]||""}}).filter(_e=>_e.docente&&_e.fecha)},F=_=>Array.isArray(_)?_:_?.data&&Array.isArray(_.data)?_.data:_?.rows&&Array.isArray(_.rows)?_.rows:_?.values&&Array.isArray(_.values)?_.values:_?.inasistencias&&Array.isArray(_.inasistencias)?_.inasistencias:[];d(D,Q(c)),le=F(k),H=F(z),V=F(T),d(G,e(D).length>0?[...new Set(e(D).map(_=>_.docente).filter(Boolean))].sort():[]),d(Ie,e(D).length>0?[...new Set(e(D).map(_=>_.materia).filter(Boolean))].sort():[]);const K=[...new Set(V.map(_=>(typeof _=="string"?_:_.grado||"").toString()).filter(Boolean))],he=e(D).length>0?e(D).map(_=>_.grado).filter(Boolean):[];d(fe,[...new Set([...K,...he])].sort((_,Ee)=>{const pe=parseInt(_),_e=parseInt(Ee);return!isNaN(pe)&&!isNaN(_e)?pe-_e:_.localeCompare(Ee)})),d(Je,e(D).length>0?[...new Set(e(D).map(_=>_.motivo).filter(Boolean))].sort():[]),i(),console.log("Datos cargados:",{inasistencias:e(D).length,docentes:le.length,docentesUnicos:e(G).length,materiasUnicas:e(Ie).length,gradosUnicos:e(fe).length,motivosUnicos:e(Je).length})}catch(c){console.error("Error cargando datos:",c),await Ot.fire({icon:"error",title:"Error",text:"No se pudieron cargar los datos de inasistencias",confirmButtonColor:"#ef4444"})}finally{d(j,!1)}},Ze=()=>{d(s,{docente:Ne()||"",materia:"",grado:"",fechaInicio:"",fechaFin:"",motivo:""}),i(),d(R,!1)},Qe=()=>{if(e(S).length===0){Ot.fire({icon:"warning",title:"Sin datos",text:"No hay datos para exportar",confirmButtonColor:"#f59e0b"});return}const k=[["Fecha","Docente","Materia","Grado","Estudiante","Motivo","Horas","Observaciones"].join(","),...e(S).map(F=>[F.fecha,`"${F.docente}"`,`"${F.materia}"`,F.grado,`"${F.nombre}"`,`"${F.motivo}"`,F.horas,`"${F.observaciones}"`].join(","))].join(`
`),z=new Blob([k],{type:"text/csv;charset=utf-8;"}),T=document.createElement("a"),Q=URL.createObjectURL(z);T.setAttribute("href",Q),T.setAttribute("download",`inasistencias_${new Date().toISOString().split("T")[0]}.csv`),T.style.visibility="hidden",document.body.appendChild(T),T.click(),document.body.removeChild(T)},Ve=c=>{try{const[k,z,T]=c.split("-");return k&&z&&T?`${T}/${z}/${k}`:c}catch{return c}},m=c=>{if(!e(s).docente||!e(s).materia||!e(s).grado)return;const z=e(D).filter(Q=>{if(Q.nombre!==c||Q.docente!==e(s).docente||Q.materia!==e(s).materia||Q.grado!==e(s).grado)return!1;if(e(R)){const F=Q.fecha;if(e(s).fechaInicio&&F<e(s).fechaInicio||e(s).fechaFin&&F>e(s).fechaFin)return!1}return!0}).reduce((Q,F)=>{const K=parseInt(F.horas)||0;return Q+K},0);let T="";e(R)&&e(s).fechaInicio&&e(s).fechaFin?T=`entre ${Ve(e(s).fechaInicio)} y ${Ve(e(s).fechaFin)}`:T="en total (hist√≥rico)",Ot.fire({icon:"info",title:c,html:`
        <div class="text-left space-y-2">
          <p><strong>Materia:</strong> ${e(s).materia}</p>
          <p><strong>Total inasistencias:</strong> ${z} horas</p>
          <p class="text-sm text-gray-500 text-center mt-4">(${T})</p>
        </div>
      `,confirmButtonColor:"#4f46e5"})};Ar(()=>{ft()}),Ce(()=>(e(s),e(D),e(Ie)),()=>{d(v,e(s).docente?[...new Set(e(D).filter(c=>c.docente===e(s).docente).map(c=>c.materia).filter(Boolean))].sort():e(Ie))}),Ce(()=>(e(s),e(D),e(fe)),()=>{d(ke,e(s).docente?[...new Set(e(D).filter(c=>c.docente===e(s).docente).map(c=>c.grado).filter(Boolean))].sort((c,k)=>{const z=parseInt(c),T=parseInt(k);return!isNaN(z)&&!isNaN(T)?z-T:c.localeCompare(k)}):e(fe))}),Ce(()=>(e(s),e(D),e(ke)),()=>{d(u,e(s).materia?[...new Set(e(D).filter(c=>c.materia===e(s).materia).map(c=>c.grado).filter(Boolean))].sort((c,k)=>{const z=parseInt(c),T=parseInt(k);return!isNaN(z)&&!isNaN(T)?z-T:c.localeCompare(k)}):e(ke))}),Ce(()=>(e(s),e(D),e(Je)),()=>{d(E,e(s).docente||e(s).materia||e(s).grado?[...new Set(e(D).filter(c=>!(e(s).docente&&c.docente!==e(s).docente||e(s).materia&&c.materia!==e(s).materia||e(s).grado&&c.grado!==e(s).grado)).map(c=>c.motivo).filter(Boolean))].sort():e(Je))}),Ce(()=>{},()=>{d(t,{bg:"rgb(var(--bg-primary))",text:"rgb(var(--text-primary))",label:"rgb(var(--text-secondary))",border:"rgb(var(--border-primary))",placeholder:"rgb(var(--text-muted))",icon:"rgb(var(--text-muted))",cardBg:"rgb(var(--card-bg))",cardBorder:"rgb(var(--card-border))",inputBg:"rgb(var(--bg-secondary))"})}),Ce(()=>(e(D),e(R),e(s),e(S)),()=>{console.log("üîÑ Filtro reactivo ejecut√°ndose:",{totalInasistencias:e(D).length,filtrarPorFecha:e(R),fechaInicio:e(s).fechaInicio,fechaFin:e(s).fechaFin}),d(S,e(D).filter(c=>{if(e(s).docente&&c.docente!==e(s).docente||e(s).materia&&c.materia!==e(s).materia||e(s).grado&&c.grado!==e(s).grado||e(s).motivo&&c.motivo!==e(s).motivo)return!1;if(e(R)){const k=c.fecha;if(e(s).fechaInicio&&k<e(s).fechaInicio||e(s).fechaFin&&k>e(s).fechaFin)return!1}return!0})),console.log(`üìä Resultados filtrados: ${e(S).length} de ${e(D).length}`)}),Ce(()=>(e(R),e(s)),()=>{e(R)&&(!e(s).fechaInicio||!e(s).fechaFin)&&i()}),Nr(),jr();var I=Oa(),re=o(I),X=o(re),ee=o(X),Be=o(ee),Fe=a(Be,2),ne=o(Fe),me=a(ne,2),ut=a(ee,2),Pe=o(ut),Xe=a(Pe,2),Me=a(X,2),Ye=o(Me);{var lt=c=>{var k=xa(),z=o(k),T=a(o(z),2);B(()=>l(T,`color: ${e(t),r(()=>e(t).text)??""};`)),p(c,k)},rt=c=>{var k=Ma(),z=Qt(k),T=o(z),Q=o(T),F=a(o(Q));{var K=oe=>{var De=fa();p(oe,De)};W(F,oe=>{e(s),r(()=>e(s).docente||e(s).materia||e(s).grado||e(s).motivo||e(s).fechaInicio||e(s).fechaFin)&&oe(K)})}var he=a(Q,2),_=a(T,2),Ee=o(_),pe=a(Ee,2),_e=o(pe),U=a(_e,2),se=a(pe,2),ie=o(se),ze=a(ie,2),He=a(ze,2),Ct=a(He,2),zt=a(Ct,2),lr=a(_,2),x=o(lr),M=o(x),J=o(M),Z=a(J,2),Re=o(Z);Re.value=Re.__value="";var bt=a(Re);ye(bt,1,()=>e(G),Se,(oe,De)=>{var qe=ha(),gt=o(qe),ht={};B(()=>{f(gt,e(De)),ht!==(ht=e(De))&&(qe.value=(qe.__value=e(De))??"")}),p(oe,qe)});var Ft=a(M,2),we=o(Ft),Xt=o(we),$t=a(we,2),jt=o($t),er=o(jt);jt.value=jt.__value="";var Rt=a(jt);ye(Rt,1,()=>e(v),Se,(oe,De)=>{var qe=ma(),gt=o(qe),ht={};B(()=>{f(gt,e(De)),ht!==(ht=e(De))&&(qe.value=(qe.__value=e(De))??"")}),p(oe,qe)});var vt=a($t,2);{var It=oe=>{var De=_a();p(oe,De)};W(vt,oe=>{e(s),e(v),r(()=>e(s).docente&&e(v).length===0)&&oe(It)})}var Tt=a(x,2),Lt=o(Tt),At=o(Lt),O=o(At),q=a(At,2),ce=o(q),Oe=o(ce);ce.value=ce.__value="";var nt=a(ce);ye(nt,1,()=>e(u),Se,(oe,De)=>{var qe=ya(),gt=o(qe),ht={};B(()=>{f(gt,e(De)),ht!==(ht=e(De))&&(qe.value=(qe.__value=e(De))??"")}),p(oe,qe)});var Pt=a(q,2);{var Yr=oe=>{var De=ka();p(oe,De)};W(Pt,oe=>{e(s),e(u),r(()=>(e(s).docente||e(s).materia)&&e(u).length===0)&&oe(Yr)})}var Rr=a(Lt,2),nr=o(Rr),fr=a(nr,2),ir=o(fr),vr=o(ir);ir.value=ir.__value="";var Lr=a(ir);ye(Lr,1,()=>e(E),Se,(oe,De)=>{const qe=Bt(()=>(e(De),r(()=>ge(e(De)))));var gt=wa(),ht=o(gt),tr={};B(()=>{f(ht,`${be(e(qe)),r(()=>e(qe).icon)??""}
                      ${e(De)??""}`),tr!==(tr=e(De))&&(gt.value=(gt.__value=e(De))??"")}),p(oe,gt)});var Er=a(fr,2);{var Dr=oe=>{var De=$a();p(oe,De)};W(Er,oe=>{e(s),e(E),r(()=>(e(s).docente||e(s).materia||e(s).grado)&&e(E).length===0)&&oe(Dr)})}var gr=a(Tt,2),hr=o(gr),Br=o(hr),pr=a(Br,2),mr=a(hr,2),zr=o(mr),_r=a(zr,2),qr=a(z,2),ur=o(qr),br=o(ur),ve=a(o(br)),Ge=o(ve),et=a(ur,2);{var Ht=oe=>{var De=Ca(),qe=o(De),gt=o(qe),ht=a(gt,2);B(()=>{l(gt,`color: ${e(t),r(()=>e(t).icon)??""};`),l(ht,`color: ${e(t),r(()=>e(t).text)??""};`)}),p(oe,De)},Et=oe=>{var De=Ta(),qe=Qt(De),gt=o(qe),ht=o(gt),tr=o(ht),Pr=o(tr),yr=o(Pr),Hr=a(yr),Gr=a(Hr),Fr=a(Gr),kr=a(Fr),Tr=a(kr),te=a(Tr),Wt=a(te),rr=a(tr);ye(rr,5,()=>e(S),Se,(mt,A)=>{const tt=Bt(()=>(e(A),r(()=>ge(e(A).motivo))));var _t=Sa(),Dt=o(_t),Kt=o(Dt),dt=a(Dt),Ut=o(dt),Zt=a(dt),Mt=o(Zt),Vt=a(Zt),ar=o(Vt),xt=a(Vt),at=o(xt);{var yt=kt=>{var Ke=Aa(),ue=o(Ke);B(()=>f(ue,(e(A),r(()=>e(A).nombre)))),P("click",Ke,()=>m(e(A).nombre)),p(kt,Ke)},wr=kt=>{var Ke=Ao();B(()=>f(Ke,(e(A),r(()=>e(A).nombre)))),p(kt,Ke)};W(at,kt=>{e(s),r(()=>e(s).docente&&e(s).materia&&e(s).grado)?kt(yt):kt(wr,!1)})}var We=a(xt),Or=o(We),Yt=o(Or),Gt=o(Yt),$r=a(Yt),qt=a(We),Cr=o(qt),dr=a(qt),Ur=o(dr),Jt=o(Ur);B(kt=>{l(_t,`border-color: ${e(t),r(()=>e(t).border)??""};`),l(Dt,`color: ${e(t),r(()=>e(t).text)??""};`),f(Kt,kt),l(dt,`color: ${e(t),r(()=>e(t).text)??""};`),ct(dt,"title",(e(A),r(()=>e(A).docente))),f(Ut,(e(A),r(()=>e(A).docente))),l(Zt,`color: ${e(t),r(()=>e(t).text)??""};`),ct(Zt,"title",(e(A),r(()=>e(A).materia))),f(Mt,(e(A),r(()=>e(A).materia))),l(Vt,`color: ${e(t),r(()=>e(t).text)??""};`),f(ar,(e(A),r(()=>e(A).grado))),l(xt,`color: ${e(t),r(()=>e(t).text)??""};`),ct(xt,"title",(e(A),r(()=>e(A).nombre))),Nt(Or,1,`inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium ${be(e(tt)),r(()=>e(tt).color)??""}`),f(Gt,(be(e(tt)),r(()=>e(tt).icon))),f($r,` ${e(A),r(()=>e(A).motivo)??""}`),l(qt,`color: ${e(t),r(()=>e(t).text)??""};`),f(Cr,(e(A),r(()=>e(A).horas))),l(dr,`color: ${e(t),r(()=>e(t).text)??""};`),f(Jt,(e(A),r(()=>e(A).observaciones||"-")))},[()=>(e(A),r(()=>Ve(e(A).fecha)))]),p(mt,_t)});var or=a(qe,2),Mr=o(or),xr=o(Mr),g=o(xr),n=o(g),b=o(n),C=a(b),L=a(C),ae=a(L),Ae=a(ae),Ue=a(Ae),Le=a(Ue),St=a(g);ye(St,5,()=>e(S),Se,(mt,A)=>{const tt=Bt(()=>(e(A),r(()=>ge(e(A).motivo))));var _t=Ea(),Dt=o(_t),Kt=o(Dt),dt=a(Dt),Ut=o(dt),Zt=o(Ut),Mt=a(dt),Vt=o(Mt),ar=a(Mt),xt=o(ar),at=o(xt);{var yt=Jt=>{var kt=Ia(),Ke=o(kt);B(()=>f(Ke,(e(A),r(()=>e(A).nombre)))),P("click",kt,()=>m(e(A).nombre)),p(Jt,kt)},wr=Jt=>{var kt=Ao();B(()=>f(kt,(e(A),r(()=>e(A).nombre)))),p(Jt,kt)};W(at,Jt=>{e(s),r(()=>e(s).docente&&e(s).materia&&e(s).grado)?Jt(yt):Jt(wr,!1)})}var We=a(ar),Or=o(We),Yt=o(Or),Gt=o(Yt),$r=a(Yt),qt=a(We),Cr=o(qt),dr=a(qt),Ur=o(dr);B(Jt=>{l(_t,`border-color: ${e(t),r(()=>e(t).border)??""};`),l(Dt,`color: ${e(t),r(()=>e(t).text)??""};`),f(Kt,Jt),l(dt,`color: ${e(t),r(()=>e(t).text)??""};`),ct(Ut,"title",(e(A),r(()=>e(A).docente))),f(Zt,(e(A),r(()=>e(A).docente))),l(Mt,`color: ${e(t),r(()=>e(t).text)??""};`),ct(Mt,"title",(e(A),r(()=>e(A).materia))),f(Vt,(e(A),r(()=>e(A).materia))),l(ar,`color: ${e(t),r(()=>e(t).text)??""};`),ct(xt,"title",(e(A),r(()=>e(A).nombre))),Nt(Or,1,`inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium ${be(e(tt)),r(()=>e(tt).color)??""}`),f(Gt,(be(e(tt)),r(()=>e(tt).icon))),f($r,` ${e(A),r(()=>e(A).motivo)??""}`),l(qt,`color: ${e(t),r(()=>e(t).text)??""};`),f(Cr,(e(A),r(()=>e(A).horas))),l(dr,`color: ${e(t),r(()=>e(t).text)??""};`),f(Ur,(e(A),r(()=>e(A).grado)))},[()=>(e(A),r(()=>Ve(e(A).fecha)))]),p(mt,_t)});var ot=a(or,2),it=o(ot);ye(it,5,()=>e(S),Se,(mt,A)=>{const tt=Bt(()=>(e(A),r(()=>ge(e(A).motivo))));var _t=Fa(),Dt=o(_t),Kt=o(Dt),dt=o(Kt);{var Ut=Ke=>{var ue=Da(),Te=o(ue);B(()=>f(Te,(e(A),r(()=>e(A).nombre)))),P("click",ue,()=>m(e(A).nombre)),p(Ke,ue)},Zt=Ke=>{var ue=Ba(),Te=o(ue);B(()=>f(Te,(e(A),r(()=>e(A).nombre)))),p(Ke,ue)};W(dt,Ke=>{e(s),r(()=>e(s).docente&&e(s).materia&&e(s).grado)?Ke(Ut):Ke(Zt,!1)})}var Mt=a(dt,2),Vt=o(Mt),ar=a(Kt,2),xt=o(ar),at=o(xt),yt=o(at),wr=a(at),We=a(xt,2),Or=o(We),Yt=a(Dt,2),Gt=o(Yt),$r=a(o(Gt),2),qt=o($r),Cr=a(Gt,2),dr=a(o(Cr),2),Ur=o(dr),Jt=a(Yt,2);{var kt=Ke=>{var ue=za(),Te=o(ue),je=a(o(Te),2),sr=o(je);B(()=>{l(ue,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; color: ${e(t),r(()=>e(t).label)??""};`),f(sr,(e(A),r(()=>e(A).observaciones)))}),p(Ke,ue)};W(Jt,Ke=>{e(A),r(()=>e(A).observaciones)&&Ke(kt)})}B(Ke=>{l(_t,`border-color: ${e(t),r(()=>e(t).cardBorder)??""}; background-color: ${e(t),r(()=>e(t).cardBg)??""};`),l(Mt,`color: ${e(t),r(()=>e(t).label)??""};`),f(Vt,`${e(A),r(()=>e(A).grado)??""} ‚Ä¢ ${Ke??""}`),Nt(xt,1,`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-medium ${be(e(tt)),r(()=>e(tt).color)??""} mb-0.5`),f(yt,(be(e(tt)),r(()=>e(tt).icon))),f(wr,` ${e(A),r(()=>e(A).motivo)??""}`),l(We,`color: ${e(t),r(()=>e(t).text)??""};`),f(Or,`${e(A),r(()=>e(A).horas)??""}h`),l(Yt,`color: ${e(t),r(()=>e(t).text)??""};`),f(qt,(e(A),r(()=>e(A).docente))),ct(dr,"title",(e(A),r(()=>e(A).materia))),f(Ur,(e(A),r(()=>e(A).materia)))},[()=>(e(A),r(()=>Ve(e(A).fecha)))]),p(mt,_t)}),B(()=>{l(gt,`border-color: ${e(t),r(()=>e(t).cardBorder)??""};`),l(tr,`background-color: ${e(t),r(()=>e(t).cardBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""};`),l(yr,`color: ${e(t),r(()=>e(t).text)??""};`),l(Hr,`color: ${e(t),r(()=>e(t).text)??""};`),l(Gr,`color: ${e(t),r(()=>e(t).text)??""};`),l(Fr,`color: ${e(t),r(()=>e(t).text)??""};`),l(kr,`color: ${e(t),r(()=>e(t).text)??""};`),l(Tr,`color: ${e(t),r(()=>e(t).text)??""};`),l(te,`color: ${e(t),r(()=>e(t).text)??""};`),l(Wt,`color: ${e(t),r(()=>e(t).text)??""};`),l(Mr,`border-color: ${e(t),r(()=>e(t).cardBorder)??""};`),l(g,`background-color: ${e(t),r(()=>e(t).cardBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""};`),l(b,`color: ${e(t),r(()=>e(t).text)??""};`),l(C,`color: ${e(t),r(()=>e(t).text)??""};`),l(L,`color: ${e(t),r(()=>e(t).text)??""};`),l(ae,`color: ${e(t),r(()=>e(t).text)??""};`),l(Ae,`color: ${e(t),r(()=>e(t).text)??""};`),l(Ue,`color: ${e(t),r(()=>e(t).text)??""};`),l(Le,`color: ${e(t),r(()=>e(t).text)??""};`)}),p(oe,De)};W(et,oe=>{e(S),r(()=>e(S).length===0)?oe(Ht):oe(Et,!1)})}B(()=>{l(z,`border-color: ${e(t),r(()=>e(t).cardBorder)??""};`),l(Q,`color: ${e(t),r(()=>e(t).text)??""};`),l(he,`border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(Ee,`color: ${e(t),r(()=>e(t).text)??""};`),l(U,`color: ${e(t),r(()=>e(t).text)??""};`),l(ie,`border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(ze,`border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(He,`border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(Ct,`border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(zt,`border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(J,`color: ${e(t),r(()=>e(t).label)??""};`),l(Z,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(we,`color: ${e(t),r(()=>e(t).label)??""};`),f(Xt,`Materia ${e(s),r(()=>e(s).docente?"(del docente)":"")??""}`),l($t,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),f(er,(e(s),r(()=>e(s).docente?"Todas las materias del docente":"Todas las materias"))),l(At,`color: ${e(t),r(()=>e(t).label)??""};`),f(O,`Grado ${e(s),r(()=>e(s).docente||e(s).materia?"(filtrado)":"")??""}`),l(q,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),f(Oe,(e(s),r(()=>e(s).docente||e(s).materia?"Todos los grados filtrados":"Todos los grados"))),l(nr,`color: ${e(t),r(()=>e(t).label)??""};`),l(fr,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),f(vr,(e(s),r(()=>e(s).docente||e(s).materia||e(s).grado?"Todos los motivos filtrados":"Todos los motivos"))),l(Br,`color: ${e(t),r(()=>e(t).label)??""};`),pr.disabled=!e(R),l(pr,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(zr,`color: ${e(t),r(()=>e(t).label)??""};`),_r.disabled=!e(R),l(_r,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(br,`color: ${e(t),r(()=>e(t).label)??""};`),f(Ge,(e(S),r(()=>e(S).length)))}),P("click",he,Ze),_o(_e,()=>e(R),oe=>d(R,oe)),P("click",ie,()=>w("hoy")),P("click",ze,()=>w("semana")),P("click",He,()=>w("mes")),P("click",Ct,()=>w("mes_actual")),P("click",zt,()=>w("trimestre")),st(Z,()=>e(s).docente,oe=>(de(s,e(s).docente=oe),$e(()=>{e(t),e(G),e(v),e(u),e(E)}))),st($t,()=>e(s).materia,oe=>(de(s,e(s).materia=oe),$e(()=>{e(t),e(G),e(v),e(u),e(E)}))),st(q,()=>e(s).grado,oe=>(de(s,e(s).grado=oe),$e(()=>{e(t),e(G),e(v),e(u),e(E)}))),st(fr,()=>e(s).motivo,oe=>(de(s,e(s).motivo=oe),$e(()=>{e(t),e(G),e(v),e(u),e(E)}))),cr(pr,()=>e(s).fechaInicio,oe=>(de(s,e(s).fechaInicio=oe),$e(()=>{e(t),e(G),e(v),e(u),e(E)}))),cr(_r,()=>e(s).fechaFin,oe=>(de(s,e(s).fechaFin=oe),$e(()=>{e(t),e(G),e(v),e(u),e(E)}))),p(c,k)};W(Ye,c=>{e(j)?c(lt):c(rt,!1)})}B(()=>{l(re,`background-color: ${e(t),r(()=>e(t).cardBg)??""};`),l(X,`border-color: ${e(t),r(()=>e(t).cardBorder)??""};`),ct(Be,"src",Kr),l(ne,`color: ${e(t),r(()=>e(t).text)??""};`),l(me,`color: ${e(t),r(()=>e(t).label)??""};`),Pe.disabled=(e(S),r(()=>e(S).length===0)),l(Xe,`color: ${e(t),r(()=>e(t).text)??""};`)}),P("click",Pe,Qe),P("click",Xe,function(...c){xe()?.apply(this,c)}),P("click",I,go(function(...c){xe()?.apply(this,c)})),P("keydown",I,c=>{(c.key==="Enter"||c.key===" ")&&xe()()}),p(N,I),Ir()}var ja=y('<p class="text-sm font-medium tracking-wide animate-pulse" style="color: rgb(var(--text-secondary));"> </p>'),Ra=y('<div class="flex flex-col items-center justify-center gap-4 p-8 animate-in fade-in duration-500"><div><div class="absolute inset-0 bg-indigo-500/20 blur-xl rounded-full animate-pulse"></div> <div class="absolute inset-0 rounded-full border-2 border-indigo-500/20 border-t-indigo-500 animate-spin"></div> <div class="absolute inset-2 rounded-full border-2 border-violet-500/20 border-b-violet-500 animate-[spin_1.5s_linear_infinite_reverse]"></div> <div class="absolute inset-[35%] bg-gradient-to-tr from-indigo-600 to-violet-600 rounded-full shadow-[0_0_15px_rgba(99,102,241,0.5)] animate-pulse"></div></div> <!></div>');function po(N,$){Sr($,!1);const v=h();let ke=wt($,"size",8,"medium"),u=wt($,"message",8,"");const E={small:"w-8 h-8",medium:"w-16 h-16",large:"w-24 h-24"};Ce(()=>be(ke()),()=>{d(v,E[ke()]||E.medium)}),Nr();var t=Ra(),xe=o(t),Ne=a(xe,2);{var D=le=>{var H=ja(),V=o(H);B(()=>f(V,u())),p(le,H)};W(Ne,le=>{u()&&le(D)})}B(()=>Nt(xe,1,`relative ${e(v)??""}`)),p(N,t),Ir()}var La=y('<div class="flex justify-center py-12"><!></div>'),Pa=y("<option> </option>"),Ha=y("<option> </option>"),Ga=y("<option> </option>"),Ua=y("<option> </option>"),Va=pt('<svg class="animate-spin h-5 w-5 text-white" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Generando...',1),Ya=pt('<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg> Descargar Excel',1),qa=y('<div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="space-y-2"><label for="rep-docente" class="block text-sm font-medium">Docente</label> <select id="rep-docente" class="w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-indigo-500 outline-none"><option>Seleccione docente</option><!></select></div> <div class="space-y-2"><label for="rep-materia" class="block text-sm font-medium">Materia</label> <select id="rep-materia" class="w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-indigo-500 outline-none"><option>Seleccione materia</option><!></select></div> <div class="space-y-2"><label for="rep-grado" class="block text-sm font-medium">Grado</label> <select id="rep-grado" class="w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-indigo-500 outline-none"><option>Seleccione grado</option><!></select></div> <div class="space-y-2"><label for="rep-periodo" class="block text-sm font-medium">Periodo</label> <select id="rep-periodo" class="w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-indigo-500 outline-none"></select></div></div> <div class="pt-4 flex gap-3"><button class="flex-1 px-6 py-3 border rounded-xl hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors font-medium">Cancelar</button> <button class="flex-[2] px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all font-bold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg hover:shadow-green-500/20"><!></button></div>',1),Ja=y('<div class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4" role="dialog" aria-modal="true" aria-labelledby="modal-title" tabindex="-1"><div class="bg-white dark:bg-gray-900 rounded-2xl w-full max-w-2xl overflow-hidden shadow-2xl border"><div class="flex items-center justify-between p-6 border-b"><div class="flex items-center gap-3"><div class="p-2 rounded-lg bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-200"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div> <div><h2 id="modal-title" class="text-xl font-bold">Generador de Reporte Excel</h2> <p class="text-sm opacity-75">Inasistencias por materia y grado</p></div></div> <button class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors" aria-label="Cerrar modal"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="p-6 space-y-6"><!></div></div></div>');function Wa(N,$){Sr($,!1);const v=h();let ke=null,u=null,E=wt($,"onClose",8),t=wt($,"initialDocente",8,""),xe=h([]),Ne=h([]),D=h([]),le=h(t()||""),H=h(""),V=h(""),j=h(ho[0].nombre),R=h(!1),S=h(!1);const s=async()=>{if(!ke||!u){const[I,re]=await Promise.all([ao(()=>import("./excel-G1qE2FwJ.js").then(X=>X.e),[]),ao(()=>import("./utils-Dc41pFlL.js").then(X=>X.F),__vite__mapDeps([0,1]))]);ke=I.default,u=re.default}},i=I=>I?I.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9\s]/g,"").replace(/\s+/g," ").trim().toLowerCase():"",w=I=>{if(!I)return"";const re=I.split("/");if(re.length===3){const X=re[0].padStart(2,"0"),ee=re[1].padStart(2,"0");return`${re[2]}-${ee}-${X}`}return I},Y=I=>{const re=[],X=new Date(I.fecha_inicio),ee=new Date(I.fecha_fin);for(;X<=ee;){const Be=X.getUTCDay();Be>=1&&Be<=6&&re.push(new Date(X)),X.setUTCDate(X.getUTCDate()+1)}return re},ge=I=>{const re=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];return`${I.getUTCDate()}/${re[I.getUTCMonth()]}/${I.getUTCFullYear().toString().substr(2)}`};Ar(async()=>{d(R,!0);try{const[I,re,X]=await Promise.all([Zr(),Qr(),Xr()]);d(xe,I),d(Ne,re),d(D,X)}catch(I){console.error("Error cargando datos iniciales:",I)}finally{d(R,!1)}});const G=async()=>{if(await s(),!e(le)||!e(H)||!e(V)){Ot.fire({icon:"warning",title:"Campos incompletos",text:"Por favor seleccione Docente, Materia y Grado."});return}const I=ho.find(re=>re.nombre===e(j));if(!I){Ot.fire({icon:"error",title:"Error",text:"Periodo no encontrado"});return}d(S,!0);try{const re=await Do({spreadsheetId:lo,worksheetTitle:yo});if(!re?.records||!Array.isArray(re.records))throw new Error("No se pudieron obtener los registros de inasistencias");const X=re.records.slice(1),ee=i(e(le)),Be=i(e(H)),Fe=e(V).toString().trim(),ne=X.map(F=>{const K=F.values||[];return{fecha:K[2]||"",docente:K[1]||"",materia:K[4]||"",grado:(K[6]||"").toString().trim(),nombre:K[7]||"",motivo:K[5]||"",horas:K[3]||"0"}}).filter(F=>{const K=i(F.docente),he=i(F.materia),_=F.grado,Ee=K.includes(ee)||ee.includes(K),pe=he.includes(Be)||Be.includes(he),_e=_===Fe||_.startsWith(Fe)||Fe.startsWith(_),U=w(F.fecha),se=new Date(U),ie=new Date(I.fecha_inicio),ze=new Date(I.fecha_fin);ie.setHours(0,0,0,0),ze.setHours(23,59,59,999);const He=se>=ie&&se<=ze;return Ee&&pe&&_e&&He}),me=e(D).filter(F=>F.grado.toString()===e(V)).map(F=>F.nombre).sort();if(me.length===0)throw new Error("No hay estudiantes registrados para el grado seleccionado");const Pe=Y(I).filter(F=>{const K=F.toISOString().split("T")[0];return ne.some(he=>w(he.fecha)===K)});if(Pe.length===0){Ot.fire({icon:"info",title:"Sin datos",text:"No se encontraron inasistencias para los filtros seleccionados en este periodo."}),d(S,!1);return}const Xe=new ke.Workbook,Me=Xe.addWorksheet("Reporte de Inasistencias"),Ye=Pe.length+2,lt=Me.addRow([`REPORTE DE INASISTENCIAS - ${e(H)} - GRADO ${e(V)}`]);lt.height=30,lt.font={bold:!0,size:16,color:{argb:"FFFFFF"}},lt.fill={type:"pattern",pattern:"solid",fgColor:{argb:"2E75B6"}},lt.alignment={vertical:"middle",horizontal:"center"},Me.mergeCells(1,1,1,Ye);const rt=Me.addRow([`Docente: ${e(le)} | Periodo: ${I.nombre} (${ge(I.fecha_inicio)} - ${ge(I.fecha_fin)})`]);rt.height=20,rt.font={bold:!0,size:10,color:{argb:"FFFFFF"}},rt.fill={type:"pattern",pattern:"solid",fgColor:{argb:"5B9BD5"}},rt.alignment={vertical:"middle",horizontal:"left"},Me.mergeCells(2,1,2,Ye);const c=["Estudiantes",...Pe.map(F=>ge(F)),"Total Horas"],k=Me.addRow(c);k.height=25,k.font={bold:!0,size:11,color:{argb:"FFFFFF"}},k.alignment={vertical:"middle",horizontal:"center"},Me.getColumn(1).width=35,Pe.forEach((F,K)=>{Me.getColumn(K+2).width=22}),Me.getColumn(Ye).width=15,k.eachCell((F,K)=>{F.fill={type:"pattern",pattern:"solid",fgColor:{argb:K===Ye?"FF6B6B":"4472C4"}},F.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),me.forEach(F=>{const K=[F];let he=0;Pe.forEach(pe=>{const _e=pe.toISOString().split("T")[0],U=ne.filter(se=>i(se.nombre)===i(F)&&w(se.fecha)===_e);if(U.length>0){const se=U[0],ie=parseFloat(se.horas)||0,ze=se.motivo||"";ie>0?(K.push(ie.toString()),he+=ie):ze?K.push(ze):K.push("X")}else K.push("‚úì")}),K.push(he.toString());const _=Me.addRow(K);_.height=30,_.getCell(1).font={bold:!0},_.getCell(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"F2F2F2"}},Pe.forEach((pe,_e)=>{const U=_.getCell(_e+2);U.alignment={horizontal:"center",vertical:"middle",wrapText:!0};const se=U.value?.toString()||"",ie=parseFloat(se)||0;se==="‚úì"?U.font={color:{argb:"00AA00"}}:ie>0||isNaN(ie)?(U.font={color:{argb:"FF0000"},bold:!0},U.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE6E6"}}):(U.font={color:{argb:"FF0000"},bold:!0},U.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE6E6"}})});const Ee=_.getCell(Ye);Ee.font={bold:!0,color:{argb:he>0?"FF0000":"00AA00"}},Ee.alignment={horizontal:"center"},Ee.fill={type:"pattern",pattern:"solid",fgColor:{argb:he>0?"FFE6E6":"E6FFE6"}},_.eachCell(pe=>{pe.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}})});const z=await Xe.xlsx.writeBuffer(),T=new Blob([z],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),Q=`Reporte_Inasistencias_${e(V)}_${e(H).replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.xlsx`;u(T,Q),Ot.fire({icon:"success",title:"Reporte generado",text:`Se ha generado el reporte con ${me.length} estudiantes.`,timer:2e3,showConfirmButton:!1})}catch(re){console.error("Error generando Excel:",re);const X=re instanceof Error?re.message:"Error desconocido";Ot.fire({icon:"error",title:"Error",text:X})}finally{d(S,!1)}};Ce(()=>{},()=>{d(v,{bg:"rgb(var(--bg-primary))",text:"rgb(var(--text-primary))",label:"rgb(var(--text-secondary))",border:"rgb(var(--border-primary))",cardBg:"rgb(var(--card-bg))",cardBorder:"rgb(var(--card-border))",inputBg:"rgb(var(--bg-secondary))"})}),Nr(),jr();var Ie=Ja(),fe=o(Ie),Je=o(fe),ft=a(o(Je),2),Ze=a(Je,2),Qe=o(Ze);{var Ve=I=>{var re=La(),X=o(re);po(X,{message:"Cargando datos..."}),p(I,re)},m=I=>{var re=qa(),X=Qt(re),ee=o(X),Be=o(ee),Fe=a(Be,2),ne=o(Fe);ne.value=ne.__value="";var me=a(ne);ye(me,1,()=>e(xe),Se,(U,se)=>{var ie=Pa(),ze=o(ie),He={};B(()=>{f(ze,e(se)),He!==(He=e(se))&&(ie.value=(ie.__value=e(se))??"")}),p(U,ie)});var ut=a(ee,2),Pe=o(ut),Xe=a(Pe,2),Me=o(Xe);Me.value=Me.__value="";var Ye=a(Me);ye(Ye,1,()=>e(Ne),Se,(U,se)=>{var ie=Ha(),ze=o(ie),He={};B(()=>{f(ze,(e(se),r(()=>e(se).materia))),He!==(He=(e(se),r(()=>e(se).materia)))&&(ie.value=(ie.__value=(e(se),r(()=>e(se).materia)))??"")}),p(U,ie)});var lt=a(ut,2),rt=o(lt),c=a(rt,2),k=o(c);k.value=k.__value="";var z=a(k);ye(z,1,()=>(e(D),r(()=>[...new Set(e(D).map(U=>U.grado.toString()))])),Se,(U,se)=>{var ie=Ga(),ze=o(ie),He={};B(Ct=>{f(ze,Ct),He!==(He=e(se))&&(ie.value=(ie.__value=e(se))??"")},[()=>(e(se),r(()=>e(se).replace(/0(\d)$/,"¬∞$1").replace(/(\d{1,2})0(\d)/,"$1¬∞$2")))]),p(U,ie)});var T=a(lt,2),Q=o(T),F=a(Q,2);ye(F,5,()=>ho,Se,(U,se)=>{var ie=Ua(),ze=o(ie),He={};B(()=>{f(ze,`Periodo ${e(se),r(()=>e(se).nombre)??""}`),He!==(He=(e(se),r(()=>e(se).nombre)))&&(ie.value=(ie.__value=(e(se),r(()=>e(se).nombre)))??"")}),p(U,ie)});var K=a(X,2),he=o(K),_=a(he,2),Ee=o(_);{var pe=U=>{var se=Va();p(U,se)},_e=U=>{var se=Ya();p(U,se)};W(Ee,U=>{e(S)?U(pe):U(_e,!1)})}B(()=>{l(Be,`color: ${e(v),r(()=>e(v).label)??""};`),l(Fe,`background-color: ${e(v),r(()=>e(v).inputBg)??""}; border-color: ${e(v),r(()=>e(v).border)??""}; color: ${e(v),r(()=>e(v).text)??""};`),l(Pe,`color: ${e(v),r(()=>e(v).label)??""};`),l(Xe,`background-color: ${e(v),r(()=>e(v).inputBg)??""}; border-color: ${e(v),r(()=>e(v).border)??""}; color: ${e(v),r(()=>e(v).text)??""};`),l(rt,`color: ${e(v),r(()=>e(v).label)??""};`),l(c,`background-color: ${e(v),r(()=>e(v).inputBg)??""}; border-color: ${e(v),r(()=>e(v).border)??""}; color: ${e(v),r(()=>e(v).text)??""};`),l(Q,`color: ${e(v),r(()=>e(v).label)??""};`),l(F,`background-color: ${e(v),r(()=>e(v).inputBg)??""}; border-color: ${e(v),r(()=>e(v).border)??""}; color: ${e(v),r(()=>e(v).text)??""};`),l(he,`border-color: ${e(v),r(()=>e(v).border)??""};`),_.disabled=e(S)||!e(le)||!e(H)||!e(V)}),st(Fe,()=>e(le),U=>d(le,U)),st(Xe,()=>e(H),U=>d(H,U)),st(c,()=>e(V),U=>d(V,U)),st(F,()=>e(j),U=>d(j,U)),P("click",he,function(...U){E()?.apply(this,U)}),P("click",_,G),p(I,re)};W(Qe,I=>{e(R)?I(Ve):I(m,!1)})}B(()=>{l(fe,`background-color: ${e(v),r(()=>e(v).cardBg)??""}; border-color: ${e(v),r(()=>e(v).cardBorder)??""}; color: ${e(v),r(()=>e(v).text)??""};`),l(Je,`border-color: ${e(v),r(()=>e(v).cardBorder)??""};`)}),P("click",ft,function(...I){E()?.apply(this,I)}),P("click",Ie,go(function(...I){E()?.apply(this,I)})),P("keydown",Ie,I=>I.key==="Escape"&&E()()),p(N,Ie),Ir()}var Ka=y('<div class="absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-ping svelte-gsxx31"></div> <div class="absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full svelte-gsxx31"></div>',1),Za=y('<div class="absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full animate-ping svelte-gsxx31"></div> <div class="absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full svelte-gsxx31"></div>',1),Qa=pt('<svg class="w-5 h-5 text-indigo-500 svelte-gsxx31" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" class="svelte-gsxx31"></path></svg>'),Xa=pt('<svg class="w-5 h-5 text-amber-500 svelte-gsxx31" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" class="svelte-gsxx31"></path></svg>'),es=pt('<svg class="w-5 h-5 text-indigo-400 svelte-gsxx31" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" class="svelte-gsxx31"></path></svg>'),ts=y('<div class="mb-6 p-4 rounded-xl border flex items-start gap-4 animate-fade-in relative transition-all duration-300 bg-green-50 dark:bg-indigo-900/40 border-green-200 dark:border-indigo-700 shadow-sm svelte-gsxx31"><div class="p-2 rounded-lg bg-green-100 dark:bg-indigo-800 text-green-700 dark:text-indigo-200 flex-shrink-0 svelte-gsxx31"><svg class="w-5 h-5 svelte-gsxx31" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" class="svelte-gsxx31"></path></svg></div> <div class="flex-1 pr-6 pt-0.5 svelte-gsxx31"><h4 class="text-sm font-bold mb-1 text-green-900 dark:text-indigo-100 svelte-gsxx31">Informaci√≥n</h4> <p class="text-sm leading-relaxed text-green-800 dark:text-indigo-200 svelte-gsxx31"> </p></div> <button class="absolute top-3 right-3 p-1.5 rounded-lg hover:bg-green-100 dark:hover:bg-indigo-700 text-green-600 hover:text-green-800 dark:text-indigo-400 dark:hover:text-indigo-100 transition-colors svelte-gsxx31" aria-label="Cerrar alerta"><svg class="w-4 h-4 svelte-gsxx31" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-gsxx31"></path></svg></button></div>'),rs=y('<option class="svelte-gsxx31"> </option>'),os=y('<option class="svelte-gsxx31"> </option>'),as=y('<option class="svelte-gsxx31"> </option>'),ss=y('<option class="svelte-gsxx31"> </option>'),ls=y('<span><span class="mr-1.5 svelte-gsxx31"> </span> <button type="button" class="ml-1.5 hover:opacity-70 transition-opacity svelte-gsxx31" aria-label="Eliminar motivo"><svg class="w-3 h-3 svelte-gsxx31" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12" class="svelte-gsxx31"></path></svg></button></span>'),ns=y('<option class="svelte-gsxx31"> </option>'),is=y('<option class="svelte-gsxx31"> </option>'),ds=y('<div class="flex items-center gap-2 svelte-gsxx31"><button type="button" class="p-2 rounded-lg transition-colors hover:bg-black/5 dark:hover:bg-white/5 svelte-gsxx31" title="Agregar observaci√≥n"><svg class="w-5 h-5 svelte-gsxx31" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" class="svelte-gsxx31"></path></svg></button></div>'),cs=y('<div class="px-4 pb-4 animate-fade-in svelte-gsxx31"><textarea placeholder="Escribe una observaci√≥n espec√≠fica para este estudiante..." rows="2" class="w-full px-4 py-2 rounded-xl border focus:ring-2 focus:ring-indigo-500 transition-all outline-none resize-none text-sm svelte-gsxx31"></textarea></div>'),vs=y('<div><div class="flex-1 min-w-0 svelte-gsxx31"><span class="text-base font-medium block svelte-gsxx31"> </span> <div class="flex flex-wrap gap-2 mt-2 svelte-gsxx31"></div></div> <div class="flex flex-col sm:flex-row items-center gap-2 w-full sm:w-auto svelte-gsxx31"><div><select class="w-full appearance-none border rounded-lg px-4 py-2 pr-10 text-sm focus:ring-2 focus:ring-indigo-500 cursor-pointer transition-all outline-none svelte-gsxx31"><option class="svelte-gsxx31">Hora...</option><option class="svelte-gsxx31">0 (Sin hora)</option><!></select> <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 svelte-gsxx31"><svg class="w-4 h-4 svelte-gsxx31" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" class="svelte-gsxx31"></path></svg></div></div> <div class="relative w-full sm:w-56 svelte-gsxx31"><select class="w-full appearance-none border rounded-lg px-4 py-2 pr-10 text-sm focus:ring-2 focus:ring-indigo-500 cursor-pointer transition-all outline-none svelte-gsxx31"><option class="svelte-gsxx31">A√±adir motivo...</option><option class="svelte-gsxx31">üö´ Limpiar todo</option><!></select> <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 svelte-gsxx31"><svg class="w-4 h-4 svelte-gsxx31" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" class="svelte-gsxx31"></path></svg></div></div></div> <!></div> <!>',1),gs=y('<div class="text-center py-12 opacity-60 svelte-gsxx31">No hay estudiantes en este grado.</div>'),ps=y('<div class="space-y-3 animate-fade-in svelte-gsxx31"><label class="block text-sm font-semibold uppercase tracking-wider svelte-gsxx31"> </label> <div class="space-y-2 max-h-[700px] overflow-y-auto border rounded-2xl p-4 bg-zinc-50/50 dark:bg-zinc-900/50 backdrop-blur-sm scrollbar-thin scrollbar-thumb-zinc-300 dark:scrollbar-thumb-zinc-600 svelte-gsxx31"><!> <!></div></div>'),us=pt('<svg class="animate-spin h-6 w-6 lg:h-7 lg:w-7 svelte-gsxx31" fill="none" viewBox="0 0 24 24"><circle class="opacity-25 svelte-gsxx31" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75 svelte-gsxx31" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>'),bs=pt('<svg class="h-6 w-6 lg:h-7 lg:w-7 svelte-gsxx31" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" class="svelte-gsxx31"></path></svg>'),xs=y('<span class="absolute -top-1 -right-1 lg:-top-2 lg:-right-2 bg-red-500 text-white text-[10px] lg:text-xs font-bold rounded-full h-5 w-5 lg:h-6 lg:w-6 flex items-center justify-center ring-2 ring-white dark:ring-zinc-950 animate-bounce svelte-gsxx31"> </span>'),fs=y('<div class="min-h-screen flex flex-col lg:flex-row transition-colors duration-200 svelte-gsxx31"><aside class="w-full lg:w-80 lg:h-screen lg:sticky lg:top-0 border-b lg:border-b-0 lg:border-r transition-colors duration-200 p-6 lg:p-8 flex flex-col flex-shrink-0 z-40 svelte-gsxx31"><div class="flex flex-col lg:flex-col items-center justify-between lg:justify-start gap-4 lg:gap-8 svelte-gsxx31"><div class="flex items-center gap-4 lg:flex-col svelte-gsxx31"><img alt="EIE Logo" class="h-12 lg:h-20 w-auto svelte-gsxx31"/> <h1 class="text-xl lg:text-2xl tracking-tight font-bold lg:text-center svelte-gsxx31">Registrar Inasistencias</h1></div> <div class="flex flex-wrap justify-center lg:flex-col gap-3 w-full svelte-gsxx31"><button class="inline-flex items-center justify-center gap-2 px-3 lg:px-4 py-2 lg:py-3 border rounded-lg transition-all duration-200 hover:bg-black/5 dark:hover:bg-white/5 svelte-gsxx31" title="Abrir hoja de c√°lculo"><svg class="w-5 h-5 svelte-gsxx31" viewBox="0 0 24 24" fill="currentColor"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z" class="svelte-gsxx31"></path></svg> <span class="text-sm font-medium hidden lg:inline svelte-gsxx31">Hoja de C√°lculo</span></button> <button id="filter-button-target" class="inline-flex items-center justify-center gap-2 px-3 lg:px-4 py-2 lg:py-3 border rounded-lg transition-all duration-200 hover:bg-black/5 dark:hover:bg-white/5 relative svelte-gsxx31" title="Abrir Looker Studio"><svg class="w-5 h-5 svelte-gsxx31" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z" class="svelte-gsxx31"></path></svg> <span class="text-sm font-medium hidden lg:inline svelte-gsxx31">Filtros</span> <!></button> <button id="report-button-target" class="inline-flex items-center justify-center gap-2 px-3 lg:px-4 py-2 lg:py-3 border rounded-lg transition-all duration-200 hover:bg-black/5 dark:hover:bg-white/5 relative svelte-gsxx31" title="Generar reportes Excel"><svg class="w-5 h-5 svelte-gsxx31" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" class="svelte-gsxx31"></path></svg> <span class="text-sm font-medium hidden lg:inline svelte-gsxx31">Reporte Excel</span> <!></button> <button class="inline-flex items-center justify-center gap-2 px-3 lg:px-4 py-2 lg:py-3 border rounded-lg transition-all duration-200 hover:bg-black/5 dark:hover:bg-white/5 svelte-gsxx31" title="Abrir Looker Studio"><svg class="w-5 h-5 svelte-gsxx31" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" class="svelte-gsxx31"></path></svg> <span class="text-sm font-medium hidden lg:inline svelte-gsxx31">Looker Studio</span></button> <button class="inline-flex items-center justify-center gap-2 px-3 lg:px-4 py-2 lg:py-3 border rounded-lg transition-all duration-200 hover:bg-black/5 dark:hover:bg-white/5 svelte-gsxx31" title="Volver al Dashboard"><svg class="w-5 h-5 svelte-gsxx31" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" class="svelte-gsxx31"></path></svg> <span class="text-sm font-medium hidden lg:inline svelte-gsxx31">Dashboard</span></button> <div class="relative svelte-gsxx31"><button class="inline-flex items-center justify-center gap-2 px-3 lg:px-4 py-2 lg:py-3 border rounded-lg transition-all duration-200 hover:bg-black/5 dark:hover:bg-white/5 w-full svelte-gsxx31" aria-label="Cambiar tema"><!> <span class="text-sm font-medium hidden lg:inline capitalize svelte-gsxx31"> </span></button></div></div></div></aside> <main class="flex-1 p-4 sm:p-6 lg:p-8 overflow-y-auto svelte-gsxx31"><div class="max-w-4xl mx-auto rounded-2xl p-6 lg:p-8 transition-colors duration-200 border svelte-gsxx31"><!> <!> <!> <form class="space-y-6 svelte-gsxx31"><div class="grid grid-cols-1 md:grid-cols-2 gap-6 svelte-gsxx31"><div class="space-y-2 svelte-gsxx31"><label for="docente" class="block text-sm font-medium svelte-gsxx31">Docente</label> <select id="docente" name="docente" required="" class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-indigo-500 transition-all outline-none appearance-none cursor-pointer disabled:opacity-50 svelte-gsxx31"><option class="svelte-gsxx31"> </option><!></select></div> <div class="space-y-2 svelte-gsxx31"><div class="flex items-center justify-between svelte-gsxx31"><label for="materia" class="block text-sm font-medium svelte-gsxx31">Materia</label></div> <select id="materia" name="materia" required="" class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-indigo-500 transition-all outline-none appearance-none cursor-pointer disabled:opacity-50 svelte-gsxx31"><option class="svelte-gsxx31"> </option><!></select></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6 svelte-gsxx31"><div class="space-y-2 svelte-gsxx31"><label for="horas" class="block text-sm font-medium svelte-gsxx31">Cantidad de Horas</label> <select id="horas" name="horas" required="" class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-indigo-500 transition-all outline-none appearance-none cursor-pointer svelte-gsxx31"><option class="svelte-gsxx31">Seleccione horas</option><option class="svelte-gsxx31">Sin hora espec√≠fica</option><!></select></div> <div class="space-y-2 svelte-gsxx31"><label for="grado" class="block text-sm font-medium svelte-gsxx31">Grado</label> <select id="grado" name="grado" required="" class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-indigo-500 transition-all outline-none appearance-none cursor-pointer disabled:opacity-50 svelte-gsxx31"><option class="svelte-gsxx31"> </option><!></select></div></div> <!> <div class="grid grid-cols-1 md:grid-cols-2 gap-6 svelte-gsxx31"><div class="space-y-2 svelte-gsxx31"><label for="fecha" class="block text-sm font-medium svelte-gsxx31">Fecha</label> <input type="date" id="fecha" name="fecha" required="" class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-indigo-500 transition-all outline-none svelte-gsxx31"/></div> <div class="space-y-2 svelte-gsxx31"><label for="observaciones" class="block text-sm font-medium svelte-gsxx31">Observaciones</label> <textarea id="observaciones" name="observaciones" rows="3" placeholder="Opcional..." class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-indigo-500 transition-all outline-none resize-none svelte-gsxx31"></textarea></div></div> <div class="flex items-center justify-between pt-6 border-t svelte-gsxx31"><div class="text-sm font-medium svelte-gsxx31">Inasistencias marcadas: <span class="text-indigo-500 font-bold ml-1 svelte-gsxx31"> </span></div></div></form></div></main> <button class="fixed bottom-6 right-6 lg:bottom-10 lg:right-10 bg-green-600 hover:bg-green-700 text-white p-4 lg:p-5 rounded-full shadow-2xl hover:shadow-green-500/20 transform transition-all duration-300 hover:scale-110 active:scale-95 disabled:opacity-50 disabled:grayscale disabled:cursor-not-allowed z-50 group svelte-gsxx31" title="Guardar inasistencias"><!> <!></button></div> <!> <!>',1);function hs(N,$){Sr($,!1);const v=()=>vo(Vr,"$theme",ke),[ke,u]=co(),E=h(),t=h(),xe=h(),Ne="¬°Nueva funci√≥n de filtrado avanzado disponible!",D="¬°Nueva funci√≥n de reporte en Excel disponible!";let le=wt($,"onBack",8),H=h([]),V=h([]),j=h([]),R=h(!1),S=h(!1),s=h(!1),i=h({docente:localStorage.getItem("lastDocente")||"",materia:"",horas:"",grado:"",fecha:new Date().toISOString().split("T")[0],observaciones:""}),w=h([]),Y=h({}),ge=h({}),G=h(!1),Ie=h(!1),fe=h(!1);const Je=()=>{d(Ie,!0)},ft=()=>{d(Ie,!1)},Ze=()=>{d(fe,!0)},Qe=()=>{d(fe,!1)};let Ve=h(localStorage.getItem("dismissedInfoInasistenciaContent")!==bo),m=h(!0),I=h(!0);function re(n){return!0}const X=()=>{localStorage.setItem("dismissedInfoInasistenciaContent",bo),d(Ve,!1)},ee=()=>{localStorage.setItem("dismissedFeatureAlertFilters",new Date().toISOString()),d(m,!1)},Be=()=>{localStorage.setItem("dismissedFeatureAlertFilters",new Date().toISOString()),Je()},Fe=()=>{localStorage.setItem("dismissedFeatureAlertReport",new Date().toISOString()),d(I,!1)},ne=()=>{localStorage.setItem("dismissedFeatureAlertReport",new Date().toISOString()),Ze(),d(I,!1)};let me=h(JSON.parse(localStorage.getItem("docenteMaterias")||"{}"));const ut=(n,b)=>{!n||!b||(e(me)[n]||de(me,e(me)[n]=[]),e(me)[n].includes(b)||(de(me,e(me)[n]=[...e(me)[n],b]),localStorage.setItem("docenteMaterias",JSON.stringify(e(me)))))},Pe=()=>`https://docs.google.com/spreadsheets/d/${lo}`,Xe=()=>{window.open(Pe(),"_blank")},Me=()=>{window.open(ca,"_blank")},Ye=[{value:"Sin excusa",label:"Sin excusa",icon:"üö´",bgColor:"bg-red-50",borderColor:"border-red-300",textColor:"text-red-700",darkBgColor:"dark:bg-red-950",darkBorderColor:"dark:border-red-800",darkTextColor:"dark:text-red-300",obligaHoras:!0},{value:"Excusa",label:"Excusa",icon:"üìÑ",bgColor:"bg-blue-50",borderColor:"border-blue-300",textColor:"text-blue-700",darkBgColor:"dark:bg-blue-950",darkBorderColor:"dark:border-blue-800",darkTextColor:"dark:text-blue-300",obligaHoras:!0},{value:"LLegada Tarde",label:"Llegada Tarde",icon:"‚è∞",bgColor:"bg-indigo-50",borderColor:"border-indigo-300",textColor:"text-indigo-700",darkBgColor:"dark:bg-indigo-950",darkBorderColor:"dark:border-indigo-800",darkTextColor:"dark:text-indigo-300",obligaHoras:!1},{value:"Transporte Escolar",label:"Transporte Escolar",icon:"üöå",bgColor:"bg-red-50",borderColor:"border-red-300",textColor:"text-red-700",darkBgColor:"dark:bg-red-950",darkBorderColor:"dark:border-red-800",darkTextColor:"dark:text-red-300",obligaHoras:!0},{value:"Permiso",label:"Permiso",icon:"‚úÖ",bgColor:"bg-green-50",borderColor:"border-green-300",textColor:"text-green-700",darkBgColor:"dark:bg-green-950",darkBorderColor:"dark:border-green-800",darkTextColor:"dark:text-green-300",obligaHoras:!0},{value:"No portar/sin uniforme",label:"No portar/sin uniforme",icon:"üëö",bgColor:"bg-cyan-50",borderColor:"border-cyan-300",textColor:"text-cyan-700",darkBgColor:"dark:bg-cyan-950",darkBorderColor:"dark:border-cyan-800",darkTextColor:"dark:text-cyan-300",obligaHoras:!1},{value:"Pacto de Aula",label:"Pacto de Aula",icon:"ü§ù",bgColor:"bg-purple-50",borderColor:"border-purple-300",textColor:"text-purple-700",darkBgColor:"dark:bg-purple-950",darkBorderColor:"dark:border-purple-800",darkTextColor:"dark:text-purple-300",obligaHoras:!1},{value:"Uso del celular",label:"Uso del celular",icon:"üì±",bgColor:"bg-orange-50",borderColor:"border-orange-300",textColor:"text-orange-700",darkBgColor:"dark:bg-orange-950",darkBorderColor:"dark:border-orange-800",darkTextColor:"dark:text-orange-300",obligaHoras:!1},{value:"Desorden en Clase",label:"Desorden en Clase",icon:"üîä",bgColor:"bg-yellow-50",borderColor:"border-yellow-300",textColor:"text-yellow-700",darkBgColor:"dark:bg-yellow-950",darkBorderColor:"dark:border-yellow-800",darkTextColor:"dark:text-yellow-300",obligaHoras:!1},{value:"Fuga",label:"Fuga",icon:"üèÉ‚Äç‚ôÇÔ∏è",bgColor:"bg-red-100",borderColor:"border-red-400",textColor:"text-red-800",darkBgColor:"dark:bg-red-950",darkBorderColor:"dark:border-red-800",darkTextColor:"dark:text-red-300",obligaHoras:!0},{value:"No realizaci√≥n de Aseo",label:"No realizaci√≥n de Aseo",icon:"üßπ",bgColor:"bg-teal-50",borderColor:"border-teal-300",textColor:"text-teal-700",darkBgColor:"dark:bg-teal-950",darkBorderColor:"dark:border-teal-800",darkTextColor:"dark:text-teal-300",obligaHoras:!1},{value:"Licencia por salud",label:"Licencia por salud",icon:"üè•",bgColor:"bg-cyan-50",borderColor:"border-cyan-300",textColor:"text-cyan-700",darkBgColor:"dark:bg-cyan-950",darkBorderColor:"dark:border-cyan-800",darkTextColor:"dark:text-cyan-300",obligaHoras:!0},{value:"Incapacidad",label:"Incapacidad",icon:"ü©∫",bgColor:"bg-pink-50",borderColor:"border-pink-300",textColor:"text-pink-700",darkBgColor:"dark:bg-pink-950",darkBorderColor:"dark:border-pink-800",darkTextColor:"dark:text-pink-300",obligaHoras:!0},{value:"Reuni√≥n interna",label:"Reuni√≥n interna",icon:"üë•",bgColor:"bg-zinc-50",borderColor:"border-zinc-300",textColor:"text-zinc-700",darkBgColor:"dark:bg-zinc-950",darkBorderColor:"dark:border-zinc-800",darkTextColor:"dark:text-zinc-300",obligaHoras:!1},{value:"Ignorar",label:"Ignorar",icon:"üö´",bgColor:"bg-zinc-50",borderColor:"border-zinc-300",textColor:"text-zinc-700",darkBgColor:"dark:bg-zinc-950",darkBorderColor:"dark:border-zinc-800",darkTextColor:"dark:text-zinc-300",obligaHoras:!1},{value:"Psicoorientaci√≥n",label:"Psicoorientaci√≥n",icon:"üß†",bgColor:"bg-green-50",borderColor:"border-green-300",textColor:"text-green-700",darkBgColor:"dark:bg-green-950",darkBorderColor:"dark:border-green-800",darkTextColor:"dark:text-green-300",obligaHoras:!1},{value:"Retirado por el acudiente",label:"Retirado por el acudiente",icon:"üë®",bgColor:"bg-green-50",borderColor:"border-green-300",textColor:"text-green-700",darkBgColor:"dark:bg-green-950",darkBorderColor:"dark:border-green-800",darkTextColor:"dark:text-green-300",obligaHoras:!1}],lt=()=>{Vr.update(n=>n==="light"?"dim":n==="dim"?"dark":"light")},rt=async()=>{d(R,!0),d(S,!0),d(s,!0);try{const[n,b,C]=await Promise.all([Zr(),Qr(),Xr()]);d(H,n),d(V,b),d(j,C)}catch(n){console.error("Error cargando datos iniciales:",n)}finally{d(R,!1),d(S,!1),d(s,!1)}},c=(n,b)=>{d(w,e(w).filter(C=>!(C.nombre===n&&C.motivo===b)))},k=(n,b,C)=>{if(b===""||b==="Ignorar"){d(w,e(w).filter(Ue=>Ue.nombre!==n));return}const L=Ye.find(Ue=>Ue.value===b);if(!L)return;let ae=e(Y)[n]||e(i).horas;if(L.obligaHoras||(ae="0"),L.obligaHoras&&d(w,e(w).filter(Ue=>{if(Ue.nombre!==n)return!0;const Le=Ye.find(St=>St.value===Ue.motivo);return Le&&!Le.obligaHoras})),!e(w).some(Ue=>Ue.nombre===n&&Ue.motivo===b)){const Ue=e(w).find(Le=>Le.nombre===n)?.observaciones||"";d(w,[...e(w),{nombre:n,motivo:b,horas:ae,observaciones:Ue}])}},z=(n,b)=>{d(w,e(w).map(C=>C.nombre===n?{...C,observaciones:b}:C))},T=n=>{de(ge,e(ge)[n]=!e(ge)[n])},Q=(n,b)=>{de(Y,e(Y)[n]=b),d(w,e(w).map(C=>{if(C.nombre===n){const L=Ye.find(ae=>ae.value===C.motivo);if(L&&L.obligaHoras)return{...C,horas:b}}return C}))},F=async n=>{if(n.preventDefault(),!(e(G)||e(w).length===0)){d(G,!0);try{const b=new Date().toISOString(),C=e(w).filter(L=>L.motivo&&L.motivo!=="Ignorar").map(L=>[b,e(i).docente,e(i).fecha,L.horas,e(i).materia,L.motivo,e(i).grado,L.nombre,L.observaciones||e(i).observaciones]);await ga({spreadsheetId:lo,worksheetTitle:yo,inasistencias:C}),ut(e(i).docente,e(i).materia),await Ot.fire({icon:"success",title:"¬°√âxito!",text:`${e(w).length} inasistencia(s) registrada(s) exitosamente`,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,position:"top-end",toast:!0}),d(i,{...e(i),grado:"",fecha:new Date().toISOString().split("T")[0],observaciones:"",horas:""}),d(w,[]),d(Y,{}),d(ge,{})}catch(b){console.error("Error enviando:",b),await Ot.fire({icon:"error",title:"Error",text:"Error al registrar la inasistencia",confirmButtonColor:"#ef4444"})}finally{d(G,!1)}}};Ar(()=>{rt(),d(m,re()),d(I,re())}),Ce(()=>e(i),()=>{e(i).docente&&localStorage.setItem("lastDocente",e(i).docente)}),Ce(()=>(e(i),e(V),e(me)),()=>{d(E,e(i).docente?[...e(V)].sort((n,b)=>{const C=e(me)[e(i).docente]?.includes(n.materia),L=e(me)[e(i).docente]?.includes(b.materia);return C&&!L?-1:!C&&L?1:n.materia.localeCompare(b.materia)}):e(V))}),Ce(()=>{},()=>{d(t,{bg:"rgb(var(--bg-primary))",text:"rgb(var(--text-primary))",label:"rgb(var(--text-secondary))",border:"rgb(var(--border-primary))",placeholder:"rgb(var(--text-muted))",icon:"rgb(var(--text-muted))",cardBg:"rgb(var(--card-bg))",cardBorder:"rgb(var(--card-border))",inputBg:"rgb(var(--bg-secondary))"})}),Ce(()=>(e(i),e(j)),()=>{d(xe,e(i).grado?e(j).filter(n=>n.grado.toString()===e(i).grado):[])}),Nr(),jr();var K=fs(),he=Qt(K),_=o(he),Ee=o(_),pe=o(Ee),_e=o(pe),U=a(_e,2),se=a(pe,2),ie=o(se),ze=a(ie,2),He=a(o(ze),4);{var Ct=n=>{var b=Ka();p(n,b)};W(He,n=>{e(m)&&n(Ct)})}var zt=a(ze,2),lr=a(o(zt),4);{var x=n=>{var b=Za();p(n,b)};W(lr,n=>{e(I)&&n(x)})}var M=a(zt,2),J=a(M,2),Z=a(J,2),Re=o(Z),bt=o(Re);{var Ft=n=>{var b=Qa();p(n,b)},we=n=>{var b=Xa();p(n,b)},Xt=n=>{var b=es();p(n,b)};W(bt,n=>{v()==="dark"?n(Ft):v()==="light"?n(we,1):n(Xt,!1)})}var $t=a(bt,2),jt=o($t),er=a(_,2),Rt=o(er),vt=o(Rt);{var It=n=>{var b=ts(),C=a(o(b),2),L=a(o(C),2),ae=o(L),Ae=a(C,2);B(()=>f(ae,bo)),P("click",Ae,X),p(n,b)};W(vt,n=>{e(Ve)&&n(It)})}var Tt=a(vt,2);so(Tt,{featureMessage:Ne,description:"Ahora puedes filtrar tus datos de forma avanzada. ¬°Pru√©balo!",onTryNow:Be,onDismiss:ee,targetSelector:"#filter-button-target",showPopup:!1,colorTheme:"blue"});var Lt=a(Tt,2);so(Lt,{featureMessage:D,description:"Ahora puedes generar reportes de inasistencias en formato Excel. ¬°Descarga y analiza tus datos!",onTryNow:ne,onDismiss:Fe,targetSelector:"#report-button-target",showPopup:!1,colorTheme:"green"});var At=a(Lt,2),O=o(At),q=o(O),ce=o(q),Oe=a(ce,2),nt=o(Oe),Pt=o(nt);nt.value=nt.__value="";var Yr=a(nt);ye(Yr,1,()=>e(H),Se,(n,b)=>{var C=rs(),L=o(C),ae={};B(()=>{f(L,e(b)),ae!==(ae=e(b))&&(C.value=(C.__value=e(b))??"")}),p(n,C)});var Rr=a(q,2),nr=o(Rr),fr=o(nr),ir=a(nr,2),vr=o(ir),Lr=o(vr);vr.value=vr.__value="";var Er=a(vr);ye(Er,1,()=>e(E),Se,(n,b)=>{const C=Bt(()=>(e(me),e(i),e(b),r(()=>e(me)[e(i).docente]?.includes(e(b).materia))));var L=os(),ae=o(L),Ae={};B(()=>{l(L,e(C)?"color: #6366f1; font-weight: 600;":""),f(ae,`${e(C)?"‚≠ê ":""}${e(b),r(()=>e(b).materia)??""}`),Ae!==(Ae=(e(b),r(()=>e(b).materia)))&&(L.value=(L.__value=(e(b),r(()=>e(b).materia)))??"")}),p(n,L)});var Dr=a(O,2),gr=o(Dr),hr=o(gr),Br=a(hr,2),pr=o(Br);pr.value=pr.__value="";var mr=a(pr);mr.value=mr.__value="0";var zr=a(mr);ye(zr,0,()=>[1,2,3,4],Se,(n,b)=>{var C=as(),L=o(C),ae={};B(Ae=>{f(L,`${b??""} ${b===1?"Hora":"Horas"}`),ae!==(ae=Ae)&&(C.value=(C.__value=Ae)??"")},[()=>r(()=>b.toString())]),p(n,C)});var _r=a(gr,2),qr=o(_r),ur=a(qr,2),br=o(ur),ve=o(br);br.value=br.__value="";var Ge=a(br);ye(Ge,1,()=>(e(j),r(()=>[...new Set(e(j).map(n=>n.grado.toString()))])),Se,(n,b)=>{var C=ss(),L=o(C),ae={};B(Ae=>{f(L,Ae),ae!==(ae=e(b))&&(C.value=(C.__value=e(b))??"")},[()=>(e(b),r(()=>e(b).replace(/0(\d)$/,"¬∞$1").replace(/(\d{1,2})0(\d)/,"$1¬∞$2")))]),p(n,C)});var et=a(Dr,2);{var Ht=n=>{var b=ps(),C=o(b),L=o(C),ae=a(C,2),Ae=o(ae);ye(Ae,1,()=>e(xe),St=>St.nombre,(St,ot)=>{const it=Bt(()=>(e(w),e(ot),r(()=>e(w).filter(ue=>ue.nombre===e(ot).nombre)))),mt=Bt(()=>(be(e(it)),r(()=>e(it).length>0))),A=Bt(()=>(be(e(it)),r(()=>e(it).some(ue=>{const Te=Ye.find(je=>je.value===ue.motivo);return Te&&Te.obligaHoras}))));var tt=vs(),_t=Qt(tt);let Dt;var Kt=o(_t),dt=o(Kt),Ut=o(dt),Zt=a(dt,2);ye(Zt,5,()=>e(it),Se,(ue,Te)=>{const je=Bt(()=>(e(Te),r(()=>Ye.find(Wr=>Wr.value===e(Te).motivo))));var sr=io(),eo=Qt(sr);{var Jr=Wr=>{var uo=ls(),wo=o(uo),zo=o(wo),$o=a(wo),Fo=a($o);B(()=>{Nt(uo,1,(be(e(je)),r(()=>`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold border ${e(je).bgColor} ${e(je).textColor} ${e(je).borderColor} ${e(je).darkBgColor} ${e(je).darkTextColor} ${e(je).darkBorderColor}`)),"svelte-gsxx31"),f(zo,(be(e(je)),r(()=>e(je).icon))),f($o,` ${be(e(je)),r(()=>e(je).label)??""} `)}),P("click",Fo,()=>c(e(ot).nombre,e(Te).motivo)),p(Wr,uo)};W(eo,Wr=>{e(je)&&Wr(Jr)})}p(ue,sr)});var Mt=a(Kt,2),Vt=o(Mt);let ar;var xt=o(Vt),at=o(xt);at.value=at.__value="";var yt=a(at);yt.value=yt.__value="0";var wr=a(yt);ye(wr,0,()=>[1,2,3,4],Se,(ue,Te)=>{var je=ns(),sr=o(je),eo={};B(Jr=>{f(sr,Te),eo!==(eo=Jr)&&(je.value=(je.__value=Jr)??"")},[()=>r(()=>Te.toString())]),p(ue,je)});var We;Oo(xt);var Or=a(xt,2),Yt=a(Vt,2),Gt=o(Yt),$r=o(Gt);$r.value=$r.__value="";var qt=a($r);qt.value=qt.__value="Ignorar";var Cr=a(qt);ye(Cr,1,()=>Ye,Se,(ue,Te)=>{const je=Bt(()=>(be(e(it)),e(Te),r(()=>e(it).some(Wr=>Wr.motivo===e(Te).value))));var sr=is(),eo=o(sr),Jr={};B(()=>{sr.disabled=e(je),f(eo,`${e(Te),r(()=>e(Te).icon)??""} ${e(Te),r(()=>e(Te).label)??""} ${e(je)?"‚úì":""}`),Jr!==(Jr=(e(Te),r(()=>e(Te).value)))&&(sr.value=(sr.__value=(e(Te),r(()=>e(Te).value)))??"")}),p(ue,sr)}),Gt.value=Gt.__value="";var dr=a(Gt,2),Ur=a(Mt,2);{var Jt=ue=>{var Te=ds(),je=o(Te);B(()=>l(je,`color: ${be(e(it)),e(t),r(()=>e(it)[0]?.observaciones?"rgb(var(--text-primary))":e(t).icon)??""};`)),P("click",je,()=>T(e(ot).nombre)),p(ue,Te)};W(Ur,ue=>{e(mt)&&ue(Jt)})}var kt=a(_t,2);{var Ke=ue=>{var Te=cs(),je=o(Te);B(()=>{jo(je,(be(e(it)),r(()=>e(it)[0]?.observaciones||""))),l(je,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`)}),P("input",je,sr=>z(e(ot).nombre,sr.currentTarget.value)),p(ue,Te)};W(kt,ue=>{be(e(mt)),e(ge),e(ot),be(e(it)),r(()=>e(mt)&&(e(ge)[e(ot).nombre]||e(it)[0]?.observaciones))&&ue(Ke)})}B(ue=>{Dt=Nt(_t,1,"flex flex-col sm:flex-row sm:items-center justify-between p-4 border rounded-xl transition-all duration-200 gap-4 svelte-gsxx31",null,Dt,{"ring-2":e(mt),"ring-indigo-500":e(mt)}),l(_t,`background-color: ${e(t),r(()=>e(t).bg)??""}; border-color: ${be(e(mt)),e(t),r(()=>e(mt)?"transparent":e(t).border)??""};`),l(dt,`color: ${e(t),r(()=>e(t).text)??""};`),f(Ut,(e(ot),r(()=>e(ot).nombre))),ar=Nt(Vt,1,"relative w-full sm:w-32 transition-opacity duration-200 svelte-gsxx31",null,ar,{"opacity-40":!e(A)}),xt.disabled=!e(A),l(xt,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),We!==(We=ue)&&(xt.value=(xt.__value=ue)??"",No(xt,ue)),l(Or,`color: ${e(t),r(()=>e(t).icon)??""};`),l(Gt,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(dr,`color: ${e(t),r(()=>e(t).icon)??""};`)},[()=>(be(e(it)),e(Y),e(ot),e(i),r(()=>e(it).find(ue=>{const Te=Ye.find(je=>je.value===ue.motivo);return Te&&Te.obligaHoras})?.horas||e(Y)[e(ot).nombre]||e(i).horas))]),P("change",xt,ue=>Q(e(ot).nombre,ue.currentTarget.value)),P("change",Gt,ue=>{k(e(ot).nombre,ue.currentTarget.value),ue.currentTarget.value=""}),p(St,tt)});var Ue=a(Ae,2);{var Le=St=>{var ot=gs();B(()=>l(ot,`color: ${e(t),r(()=>e(t).text)??""};`)),p(St,ot)};W(Ue,St=>{e(xe),r(()=>e(xe).length===0)&&St(Le)})}B(()=>{l(C,`color: ${e(t),r(()=>e(t).label)??""};`),f(L,`Estudiantes del Grado ${e(i),r(()=>e(i).grado)??""}`),l(ae,`border-color: ${e(t),r(()=>e(t).border)??""};`)}),p(n,b)};W(et,n=>{e(i),r(()=>e(i).grado&&e(i).horas!=="")&&n(Ht)})}var Et=a(et,2),oe=o(Et),De=o(oe),qe=a(De,2),gt=a(oe,2),ht=o(gt),tr=a(ht,2),Pr=a(Et,2),yr=o(Pr),Hr=a(o(yr)),Gr=o(Hr),Fr=a(er,2),kr=o(Fr);{var Tr=n=>{var b=us();p(n,b)},te=n=>{var b=bs();p(n,b)};W(kr,n=>{e(G)?n(Tr):n(te,!1)})}var Wt=a(kr,2);{var rr=n=>{var b=xs(),C=o(b);B(()=>f(C,(e(w),r(()=>e(w).length)))),p(n,b)};W(Wt,n=>{e(G),e(w),r(()=>!e(G)&&e(w).length>0)&&n(rr)})}var or=a(he,2);{var Mr=n=>{Na(n,{onClose:ft,get selectedDocente(){return e(i),r(()=>e(i).docente)}})};W(or,n=>{e(Ie)&&n(Mr)})}var xr=a(or,2);{var g=n=>{Wa(n,{onClose:Qe,get initialDocente(){return e(i),r(()=>e(i).docente)}})};W(xr,n=>{e(fe)&&n(g)})}B(()=>{l(he,`background-color: ${e(t),r(()=>e(t).bg)??""};`),l(_,`background-color: ${e(t),r(()=>e(t).cardBg)??""}; border-color: ${e(t),r(()=>e(t).cardBorder)??""};`),ct(_e,"src",Kr),l(U,`color: ${e(t),r(()=>e(t).text)??""};`),l(ie,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(ze,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(zt,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(M,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(J,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(Re,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),f(jt,v()),l(Rt,`background-color: ${e(t),r(()=>e(t).cardBg)??""}; border-color: ${e(t),r(()=>e(t).cardBorder)??""};`),l(ce,`color: ${e(t),r(()=>e(t).label)??""};`),Oe.disabled=e(R),l(Oe,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),f(Pt,e(R)?"Cargando...":"Seleccione docente"),l(fr,`color: ${e(t),r(()=>e(t).label)??""};`),ir.disabled=e(S),l(ir,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),f(Lr,e(S)?"Cargando...":"Seleccione materia"),l(hr,`color: ${e(t),r(()=>e(t).label)??""};`),l(Br,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(qr,`color: ${e(t),r(()=>e(t).label)??""};`),ur.disabled=e(s),l(ur,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),f(ve,e(s)?"Cargando...":"Seleccione grado"),l(De,`color: ${e(t),r(()=>e(t).label)??""};`),l(qe,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(ht,`color: ${e(t),r(()=>e(t).label)??""};`),l(tr,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(Pr,`border-color: ${e(t),r(()=>e(t).border)??""};`),l(yr,`color: ${e(t),r(()=>e(t).label)??""};`),f(Gr,(e(w),r(()=>e(w).length))),Fr.disabled=(e(G),e(w),e(i),r(()=>e(G)||e(w).length===0||!e(i).docente||!e(i).materia))}),P("click",ie,Xe),P("click",ze,Je),P("click",zt,Ze),P("click",M,Me),P("click",J,function(...n){le()?.apply(this,n)}),P("click",Re,lt),st(Oe,()=>e(i).docente,n=>(de(i,e(i).docente=n),$e(()=>{e(R),e(t),e(H),e(S),e(E),e(me),e(s),e(j)}))),st(ir,()=>e(i).materia,n=>(de(i,e(i).materia=n),$e(()=>{e(R),e(t),e(H),e(S),e(E),e(me),e(s),e(j)}))),st(Br,()=>e(i).horas,n=>(de(i,e(i).horas=n),$e(()=>{e(R),e(t),e(H),e(S),e(E),e(me),e(s),e(j)}))),st(ur,()=>e(i).grado,n=>(de(i,e(i).grado=n),$e(()=>{e(R),e(t),e(H),e(S),e(E),e(me),e(s),e(j)}))),cr(qe,()=>e(i).fecha,n=>(de(i,e(i).fecha=n),$e(()=>{e(R),e(t),e(H),e(S),e(E),e(me),e(s),e(j)}))),cr(tr,()=>e(i).observaciones,n=>(de(i,e(i).observaciones=n),$e(()=>{e(R),e(t),e(H),e(S),e(E),e(me),e(s),e(j)}))),P("submit",At,F),P("click",Fr,F),p(N,K),Ir(),u()}var ms=y('<div class="flex-1 flex items-center justify-center"><div class="text-center"><div class="animate-spin w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full mx-auto mb-4"></div> <p>Cargando datos...</p></div></div>'),_s=y('<span class="ml-2 px-2 py-1 text-xs bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 rounded-full">Activos</span>'),ys=y("<option> </option>"),ks=y("<option> </option>"),ws=y('<p class="text-[10px] sm:text-xs text-amber-600 dark:text-amber-400 mt-1">Este docente no tiene registros de materias</p>'),$s=y("<option> </option>"),Cs=y('<p class="text-[10px] sm:text-xs text-amber-600 dark:text-amber-400 mt-1">No hay grados para los filtros seleccionados</p>'),As=y('<div class="flex-1 flex items-center justify-center"><div class="text-center py-12 px-4"><svg class="w-16 h-16 mx-auto mb-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> <p class="text-sm sm:text-base">No se encontraron registros con los filtros seleccionados</p></div></div>'),Ss=y('<tr class="border-b transition-colors hover:bg-black/5 dark:hover:bg-white/5 text-xs"><td class="p-2"> </td><td class="p-2 truncate max-w-[150px]"> </td><td class="p-2 truncate max-w-[150px]"> </td><td class="p-2 text-center"> </td><td class="p-2 text-center"> </td><td class="p-2"><div class="flex items-center gap-2 max-w-[300px]"><span><span> </span></span> <span class="truncate"> </span></div></td><td class="p-2"><span class="truncate block max-w-xs text-xs"> </span></td></tr>'),Is=y('<div><p class="text-xs font-medium mb-1">Observaci√≥n:</p> <p class="text-xs"> </p></div>'),Es=y('<div class="border rounded-lg p-3 transition-colors hover:bg-black/5 dark:hover:bg-white/5"><div class="flex justify-between items-center mb-2"><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-1"><span><span> </span></span> <p class="text-xs opacity-75"> </p></div></div></div> <div class="flex gap-2 text-[10px] mb-2"><div class="flex items-center flex-1 min-w-0"><svg class="w-3 h-3 mr-1 opacity-60 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg> <span class="truncate"> </span></div> <div class="flex items-center flex-1 min-w-0"><svg class="w-3 h-3 mr-1 opacity-60 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg> <span class="truncate"> </span></div></div> <div class="mb-2"><p class="text-xs font-medium mb-1">Anotaci√≥n:</p> <p class="text-xs"> </p></div> <!></div>'),Ds=y('<div class="hidden lg:flex flex-1 flex-col overflow-hidden min-h-0"><div class="flex-1 overflow-auto min-w-full border rounded-lg"><table class="w-full border-collapse text-sm min-w-[900px]"><thead class="sticky top-0 z-10 border-b"><tr><th class="text-left p-2 font-semibold whitespace-nowrap">Fecha</th><th class="text-left p-2 font-semibold whitespace-nowrap">Docente</th><th class="text-left p-2 font-semibold whitespace-nowrap">Materia</th><th class="text-center p-2 font-semibold whitespace-nowrap">Grado</th><th class="text-center p-2 font-semibold whitespace-nowrap">Horas</th><th class="text-left p-2 font-semibold whitespace-nowrap">Anotaci√≥n</th><th class="text-left p-2 font-semibold whitespace-nowrap">Observaci√≥n</th></tr></thead><tbody></tbody></table></div></div> <div class="flex-1 overflow-y-auto lg:hidden px-1"><div class="space-y-2"></div></div>',1),Bs=y('<div class="p-3 sm:p-4 border-b"><div class="flex items-center justify-between mb-2 sm:mb-3"><h3 class="text-lg font-semibold">Filtros <!></h3> <button class="text-sm px-3 py-1 rounded-lg border transition-colors hover:bg-black/5 dark:hover:bg-white/5">Limpiar filtros</button></div> <div class="mb-3 p-1.5 sm:p-2 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg"><p class="text-[10px] sm:text-xs font-medium mb-1.5">R√°pido: Fechas</p> <div class="flex items-center mb-2"><input id="checkFiltrarFecha" type="checkbox" class="w-4 h-4 rounded text-indigo-600 focus:ring-indigo-500 border-gray-300 dark:border-gray-600 dark:bg-zinc-700"/> <label for="checkFiltrarFecha" class="ml-2 text-xs font-medium">Activar filtro por fechas</label></div> <div class="flex flex-wrap gap-1 sm:gap-2"><button class="text-[10px] sm:text-xs px-1.5 sm:px-2 py-1 bg-white dark:bg-zinc-800 border rounded hover:bg-indigo-100 dark:hover:bg-indigo-800/50 transition-colors">Hoy</button> <button class="text-[10px] sm:text-xs px-1.5 sm:px-2 py-1 bg-white dark:bg-zinc-800 border rounded hover:bg-indigo-100 dark:hover:bg-indigo-800/50 transition-colors">√öltimos 7 d√≠as</button> <button class="text-[10px] sm:text-xs px-1.5 sm:px-2 py-1 bg-white dark:bg-zinc-800 border rounded hover:bg-indigo-100 dark:hover:bg-indigo-800/50 transition-colors">√öltimos 30 d√≠as</button> <button class="text-[10px] sm:text-xs px-1.5 sm:px-2 py-1 bg-white dark:bg-zinc-800 border rounded hover:bg-indigo-100 dark:hover:bg-indigo-800/50 transition-colors">Mes actual</button> <button class="text-[10px] sm:text-xs px-1.5 sm:px-2 py-1 bg-white dark:bg-zinc-800 border rounded hover:bg-indigo-100 dark:hover:bg-indigo-800/50 transition-colors">√öltimo trimestre</button></div></div> <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4"><div class="flex gap-3 sm:gap-4"><div class="flex-1 space-y-1.5 sm:space-y-2"><label for="filtroDocente" class="block text-xs sm:text-sm font-medium">Docente</label> <select id="filtroDocente" class="w-full px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg border focus:ring-2 focus:ring-indigo-500 outline-none text-xs sm:text-sm"><option>Todos los docentes</option><!></select></div> <div class="flex-1 space-y-1.5 sm:space-y-2"><label for="filtroMateria" class="block text-xs sm:text-sm font-medium"> </label> <select id="filtroMateria" class="w-full px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg border focus:ring-2 focus:ring-indigo-500 outline-none text-xs sm:text-sm"><option> </option><!></select> <!></div></div> <div class="flex gap-3 sm:gap-4"><div class="flex-1 space-y-1.5 sm:space-y-2"><label for="filtroGrado" class="block text-xs sm:text-sm font-medium"> </label> <select id="filtroGrado" class="w-full px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg border focus:ring-2 focus:ring-indigo-500 outline-none text-xs sm:text-sm"><option> </option><!></select> <!></div> <div class="flex-1 space-y-1.5 sm:space-y-2"><label for="filtroAnotacion" class="block text-xs sm:text-sm font-medium">B√∫squeda en anotaci√≥n</label> <input id="filtroAnotacion" type="text" placeholder="Buscar en anotaciones..." class="w-full px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg border focus:ring-2 focus:ring-indigo-500 outline-none text-xs sm:text-sm"/></div></div> <div class="flex gap-3 sm:gap-4"><div class="flex-1 space-y-1.5 sm:space-y-2"><label for="filtroFechaInicio" class="block text-xs sm:text-sm font-medium">Fecha desde</label> <input id="filtroFechaInicio" type="date" class="w-full px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg border focus:ring-2 focus:ring-indigo-500 outline-none text-xs sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed"/></div> <div class="flex-1 space-y-1.5 sm:space-y-2"><label for="filtroFechaFin" class="block text-xs sm:text-sm font-medium">Fecha hasta</label> <input id="filtroFechaFin" type="date" class="w-full px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg border focus:ring-2 focus:ring-indigo-500 outline-none text-xs sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed"/></div></div></div></div> <div class="flex-1 flex flex-col p-2 sm:p-4 min-h-0"><div class="mb-4 px-0 sm:px-3"><p class="text-sm">Se encontraron <span class="font-bold text-indigo-500"> </span> registros</p></div> <!></div>',1),zs=y('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4" role="button" tabindex="0" aria-label="Cerrar ventana"><div class="w-full max-w-7xl max-h-[95vh] bg-white dark:bg-zinc-900 rounded-2xl shadow-2xl overflow-hidden flex flex-col"><div class="flex items-center justify-between p-3 sm:p-4 border-b"><div class="flex items-center gap-3"><img alt="EIE Logo" class="h-8 w-auto hidden sm:block"/> <div><h2 class="text-lg sm:text-xl font-bold">Anotaciones de Clase</h2> <p class="text-xs hidden sm:block">Filtra y consulta los registros</p></div></div> <div class="flex items-center gap-3"><button class="inline-flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> Exportar CSV</button> <button class="p-2 rounded-lg transition-colors hover:bg-black/5 dark:hover:bg-white/5" aria-label="Cerrar"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div></div> <div class="flex-1 overflow-hidden flex flex-col min-h-0"><!></div></div></div>');function Fs(N,$){Sr($,!1);const v=h(),ke=h(),u=h(),E=h(),t=h();let xe=wt($,"onClose",8),Ne=wt($,"selectedDocente",8,""),D=h([]),le=[],H=[],V=[],j=h(!1),R=h(!1),S=h([]),s=h({docente:Ne()||"",materia:"",grado:"",fechaInicio:"",fechaFin:"",anotacion:""});const i=()=>{const c=new Date,k=new Date(c.getFullYear(),c.getMonth()-1,c.getDate()),z=T=>{const Q=T.getFullYear(),F=String(T.getMonth()+1).padStart(2,"0"),K=String(T.getDate()).padStart(2,"0");return`${Q}-${F}-${K}`};de(s,e(s).fechaInicio=z(k)),$e(()=>{e(t),e(G),e(v),e(u)}),de(s,e(s).fechaFin=z(c)),$e(()=>{e(t),e(G),e(v),e(u)})},w=c=>{const k=new Date;let z;switch(c){case"hoy":z=new Date(k);break;case"semana":z=new Date(k),z.setDate(k.getDate()-7);break;case"mes":z=new Date(k),z.setDate(k.getDate()-30);break;case"mes_actual":z=new Date(k.getFullYear(),k.getMonth(),1);break;case"trimestre":z=new Date(k),z.setDate(k.getDate()-90);break;default:i();return}const T=Q=>{const F=Q.getFullYear(),K=String(Q.getMonth()+1).padStart(2,"0"),he=String(Q.getDate()).padStart(2,"0");return`${F}-${K}-${he}`};de(s,e(s).fechaInicio=T(z)),$e(()=>{e(t),e(G),e(v),e(u)}),de(s,e(s).fechaFin=T(k)),$e(()=>{e(t),e(G),e(v),e(u)}),d(R,!0)},Y=[{value:"Estrategias de Ense√±anza-Aprendizaje",icon:"üìö",color:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200"},{value:"Evaluaci√≥n y Verificaci√≥n de Saberes",icon:"üìù",color:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200"},{value:"Enfoque STEM+ y Contexto Rural",icon:"üî¨",color:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200"},{value:"Pr√°cticas de Laboratorio y Mantenimiento",icon:"üîß",color:"bg-rose-100 text-rose-800 dark:bg-rose-900 dark:text-rose-200"},{value:"Ciudadan√≠a Digital y √âtica",icon:"üíª",color:"bg-violet-100 text-violet-800 dark:bg-violet-900 dark:text-violet-200"},{value:"Pensamiento Computacional y Programaci√≥n",icon:"üíª",color:"bg-cyan-100 text-cyan-800 dark:bg-cyan-900 dark:text-cyan-200"},{value:"Recursos Anal√≥gicos y Contingencias",icon:"üìã",color:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"},{value:"Ofim√°tica y Competencias Productivas",icon:"üñ•Ô∏è",color:"bg-teal-100 text-teal-800 dark:bg-teal-900 dark:text-teal-200"},{value:"Gesti√≥n Administrativa y Proyectos Transversales",icon:"üìä",color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}],ge=c=>{for(const k of Y)if(c.includes(k.value))return k;return{icon:"üìù",color:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}};let G=h([]),Ie=h([]),fe=h([]),Je=h([]);const ft=async()=>{d(j,!0);try{const[c,k,z,T]=await Promise.all([Bo({spreadsheetId:no,worksheetTitle:ko}),Zr(),Qr(),Xr()]),Q=_=>{if(!_?.records||!Array.isArray(_.records))return[];const Ee=_.records[0]?.values||[];return _.records.slice(1).map(_e=>{const U=_e.values||[];return{timestamp:U[0]||"",fecha:U[1]||"",docente:U[2]||"",materia:U[3]||"",grado:U[4]||"",horas:U[5]||"",anotacion:U[6]||"",observacion:U[7]||""}}).filter(_e=>_e.docente&&_e.fecha)},F=_=>Array.isArray(_)?_:_?.data&&Array.isArray(_.data)?_.data:_?.rows&&Array.isArray(_.rows)?_.rows:_?.values&&Array.isArray(_.values)?_.values:_?.anotaciones&&Array.isArray(_.anotaciones)?_.anotaciones:[];d(D,Q(c)),le=F(k),H=F(z),V=F(T),d(G,e(D).length>0?[...new Set(e(D).map(_=>_.docente).filter(Boolean))].sort():[]),d(Ie,e(D).length>0?[...new Set(e(D).map(_=>_.materia).filter(Boolean))].sort():[]);const K=[...new Set(V.map(_=>(typeof _=="string"?_:_.grado||"").toString()).filter(Boolean))],he=e(D).length>0?e(D).map(_=>_.grado).filter(Boolean):[];d(fe,[...new Set([...K,...he])].sort((_,Ee)=>{const pe=parseInt(_),_e=parseInt(Ee);return!isNaN(pe)&&!isNaN(_e)?pe-_e:_.localeCompare(Ee)})),d(Je,e(D).length>0?[...new Set(e(D).map(_=>_.anotacion).filter(Boolean))].sort():[]),i(),console.log("Datos cargados:",{anotaciones:e(D).length,docentes:le.length,docentesUnicos:e(G).length,materiasUnicas:e(Ie).length,gradosUnicos:e(fe).length,anotacionesUnicas:e(Je).length})}catch(c){console.error("Error cargando datos:",c),await Ot.fire({icon:"error",title:"Error",text:"No se pudieron cargar los datos de anotaciones",confirmButtonColor:"#ef4444"})}finally{d(j,!1)}},Ze=()=>{d(s,{docente:Ne()||"",materia:"",grado:"",fechaInicio:"",fechaFin:"",anotacion:""}),i(),d(R,!1)},Qe=()=>{if(e(S).length===0){Ot.fire({icon:"warning",title:"Sin datos",text:"No hay datos para exportar",confirmButtonColor:"#f59e0b"});return}const k=[["Fecha","Docente","Materia","Grado","Horas","Anotaci√≥n","Observaci√≥n"].join(","),...e(S).map(F=>[F.fecha,`"${F.docente}"`,`"${F.materia}"`,F.grado,F.horas,`"${F.anotacion}"`,`"${F.observacion}"`].join(","))].join(`
`),z=new Blob([k],{type:"text/csv;charset=utf-8;"}),T=document.createElement("a"),Q=URL.createObjectURL(z);T.setAttribute("href",Q),T.setAttribute("download",`anotaciones_${new Date().toISOString().split("T")[0]}.csv`),T.style.visibility="hidden",document.body.appendChild(T),T.click(),document.body.removeChild(T)},Ve=c=>{try{const[k,z,T]=c.split("-");return k&&z&&T?`${T}/${z}/${k}`:c}catch{return c}},m=(c,k=50)=>c.length<=k?c:c.substring(0,k)+"...";Ar(()=>{ft()}),Ce(()=>(e(s),e(D),e(Ie)),()=>{d(v,e(s).docente?[...new Set(e(D).filter(c=>c.docente===e(s).docente).map(c=>c.materia).filter(Boolean))].sort():e(Ie))}),Ce(()=>(e(s),e(D),e(fe)),()=>{d(ke,e(s).docente?[...new Set(e(D).filter(c=>c.docente===e(s).docente).map(c=>c.grado).filter(Boolean))].sort((c,k)=>{const z=parseInt(c),T=parseInt(k);return!isNaN(z)&&!isNaN(T)?z-T:c.localeCompare(k)}):e(fe))}),Ce(()=>(e(s),e(D),e(ke)),()=>{d(u,e(s).materia?[...new Set(e(D).filter(c=>c.materia===e(s).materia).map(c=>c.grado).filter(Boolean))].sort((c,k)=>{const z=parseInt(c),T=parseInt(k);return!isNaN(z)&&!isNaN(T)?z-T:c.localeCompare(k)}):e(ke))}),Ce(()=>(e(s),e(D),e(Je)),()=>{d(E,e(s).docente||e(s).materia||e(s).grado?[...new Set(e(D).filter(c=>!(e(s).docente&&c.docente!==e(s).docente||e(s).materia&&c.materia!==e(s).materia||e(s).grado&&c.grado!==e(s).grado)).map(c=>c.anotacion).filter(Boolean))].sort():e(Je))}),Ce(()=>{},()=>{d(t,{bg:"rgb(var(--bg-primary))",text:"rgb(var(--text-primary))",label:"rgb(var(--text-secondary))",border:"rgb(var(--border-primary))",placeholder:"rgb(var(--text-muted))",icon:"rgb(var(--text-muted))",cardBg:"rgb(var(--card-bg))",cardBorder:"rgb(var(--card-border))",inputBg:"rgb(var(--bg-secondary))"})}),Ce(()=>(e(D),e(s),e(R)),()=>{d(S,e(D).filter(c=>{if(e(s).docente&&c.docente!==e(s).docente||e(s).materia&&c.materia!==e(s).materia||e(s).grado&&c.grado!==e(s).grado||e(s).anotacion&&!c.anotacion.toLowerCase().includes(e(s).anotacion.toLowerCase()))return!1;if(e(R)){const k=c.fecha;if(e(s).fechaInicio&&k<e(s).fechaInicio||e(s).fechaFin&&k>e(s).fechaFin)return!1}return!0}))}),Ce(()=>(e(R),e(s)),()=>{e(R)&&(!e(s).fechaInicio||!e(s).fechaFin)&&i()}),Nr(),jr();var I=zs(),re=o(I),X=o(re),ee=o(X),Be=o(ee),Fe=a(Be,2),ne=o(Fe),me=a(ne,2),ut=a(ee,2),Pe=o(ut),Xe=a(Pe,2),Me=a(X,2),Ye=o(Me);{var lt=c=>{var k=ms(),z=o(k),T=a(o(z),2);B(()=>l(T,`color: ${e(t),r(()=>e(t).text)??""};`)),p(c,k)},rt=c=>{var k=Bs(),z=Qt(k),T=o(z),Q=o(T),F=a(o(Q));{var K=ve=>{var Ge=_s();p(ve,Ge)};W(F,ve=>{e(s),r(()=>e(s).docente||e(s).materia||e(s).grado||e(s).anotacion||e(s).fechaInicio||e(s).fechaFin)&&ve(K)})}var he=a(Q,2),_=a(T,2),Ee=o(_),pe=a(Ee,2),_e=o(pe),U=a(_e,2),se=a(pe,2),ie=o(se),ze=a(ie,2),He=a(ze,2),Ct=a(He,2),zt=a(Ct,2),lr=a(_,2),x=o(lr),M=o(x),J=o(M),Z=a(J,2),Re=o(Z);Re.value=Re.__value="";var bt=a(Re);ye(bt,1,()=>e(G),Se,(ve,Ge)=>{var et=ys(),Ht=o(et),Et={};B(()=>{f(Ht,e(Ge)),Et!==(Et=e(Ge))&&(et.value=(et.__value=e(Ge))??"")}),p(ve,et)});var Ft=a(M,2),we=o(Ft),Xt=o(we),$t=a(we,2),jt=o($t),er=o(jt);jt.value=jt.__value="";var Rt=a(jt);ye(Rt,1,()=>e(v),Se,(ve,Ge)=>{var et=ks(),Ht=o(et),Et={};B(()=>{f(Ht,e(Ge)),Et!==(Et=e(Ge))&&(et.value=(et.__value=e(Ge))??"")}),p(ve,et)});var vt=a($t,2);{var It=ve=>{var Ge=ws();p(ve,Ge)};W(vt,ve=>{e(s),e(v),r(()=>e(s).docente&&e(v).length===0)&&ve(It)})}var Tt=a(x,2),Lt=o(Tt),At=o(Lt),O=o(At),q=a(At,2),ce=o(q),Oe=o(ce);ce.value=ce.__value="";var nt=a(ce);ye(nt,1,()=>e(u),Se,(ve,Ge)=>{var et=$s(),Ht=o(et),Et={};B(()=>{f(Ht,e(Ge)),Et!==(Et=e(Ge))&&(et.value=(et.__value=e(Ge))??"")}),p(ve,et)});var Pt=a(q,2);{var Yr=ve=>{var Ge=Cs();p(ve,Ge)};W(Pt,ve=>{e(s),e(u),r(()=>(e(s).docente||e(s).materia)&&e(u).length===0)&&ve(Yr)})}var Rr=a(Lt,2),nr=o(Rr),fr=a(nr,2),ir=a(Tt,2),vr=o(ir),Lr=o(vr),Er=a(Lr,2),Dr=a(vr,2),gr=o(Dr),hr=a(gr,2),Br=a(z,2),pr=o(Br),mr=o(pr),zr=a(o(mr)),_r=o(zr),qr=a(pr,2);{var ur=ve=>{var Ge=As(),et=o(Ge),Ht=o(et),Et=a(Ht,2);B(()=>{l(Ht,`color: ${e(t),r(()=>e(t).icon)??""};`),l(Et,`color: ${e(t),r(()=>e(t).text)??""};`)}),p(ve,Ge)},br=ve=>{var Ge=Ds(),et=Qt(Ge),Ht=o(et),Et=o(Ht),oe=o(Et),De=o(oe),qe=o(De),gt=a(qe),ht=a(gt),tr=a(ht),Pr=a(tr),yr=a(Pr),Hr=a(yr),Gr=a(oe);ye(Gr,5,()=>e(S),Se,(Tr,te)=>{const Wt=Bt(()=>(e(te),r(()=>ge(e(te).anotacion))));var rr=Ss(),or=o(rr),Mr=o(or),xr=a(or),g=o(xr),n=a(xr),b=o(n),C=a(n),L=o(C),ae=a(C),Ae=o(ae),Ue=a(ae),Le=o(Ue),St=o(Le),ot=o(St),it=o(ot),mt=a(St,2),A=o(mt),tt=a(Ue),_t=o(tt),Dt=o(_t);B((Kt,dt)=>{l(rr,`border-color: ${e(t),r(()=>e(t).border)??""};`),l(or,`color: ${e(t),r(()=>e(t).text)??""};`),f(Mr,Kt),l(xr,`color: ${e(t),r(()=>e(t).text)??""};`),ct(xr,"title",(e(te),r(()=>e(te).docente))),f(g,(e(te),r(()=>e(te).docente))),l(n,`color: ${e(t),r(()=>e(t).text)??""};`),ct(n,"title",(e(te),r(()=>e(te).materia))),f(b,(e(te),r(()=>e(te).materia))),l(C,`color: ${e(t),r(()=>e(t).text)??""};`),f(L,(e(te),r(()=>e(te).grado))),l(ae,`color: ${e(t),r(()=>e(t).text)??""};`),f(Ae,(e(te),r(()=>e(te).horas))),l(Ue,`color: ${e(t),r(()=>e(t).text)??""};`),Nt(St,1,`inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium ${be(e(Wt)),r(()=>e(Wt).color)??""} flex-shrink-0`),f(it,(be(e(Wt)),r(()=>e(Wt).icon))),ct(mt,"title",(e(te),r(()=>e(te).anotacion))),f(A,dt),l(tt,`color: ${e(t),r(()=>e(t).text)??""};`),f(Dt,(e(te),r(()=>e(te).observacion||"-")))},[()=>(e(te),r(()=>Ve(e(te).fecha))),()=>(e(te),r(()=>m(e(te).anotacion,100)))]),p(Tr,rr)});var Fr=a(et,2),kr=o(Fr);ye(kr,5,()=>e(S),Se,(Tr,te)=>{const Wt=Bt(()=>(e(te),r(()=>ge(e(te).anotacion))));var rr=Es(),or=o(rr),Mr=o(or),xr=o(Mr),g=o(xr),n=o(g),b=o(n),C=a(g,2),L=o(C),ae=a(or,2),Ae=o(ae),Ue=a(o(Ae),2),Le=o(Ue),St=a(Ae,2),ot=a(o(St),2),it=o(ot),mt=a(ae,2),A=o(mt),tt=a(A,2),_t=o(tt),Dt=a(mt,2);{var Kt=dt=>{var Ut=Is(),Zt=o(Ut),Mt=a(Zt,2),Vt=o(Mt);B(ar=>{l(Zt,`color: ${e(t),r(()=>e(t).label)??""};`),l(Mt,`color: ${e(t),r(()=>e(t).text)??""};`),ct(Mt,"title",(e(te),r(()=>e(te).observacion))),f(Vt,ar)},[()=>(e(te),r(()=>m(e(te).observacion,150)))]),p(dt,Ut)};W(Dt,dt=>{e(te),r(()=>e(te).observacion)&&dt(Kt)})}B((dt,Ut)=>{l(rr,`border-color: ${e(t),r(()=>e(t).cardBorder)??""}; background-color: ${e(t),r(()=>e(t).cardBg)??""};`),Nt(g,1,`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-medium ${be(e(Wt)),r(()=>e(Wt).color)??""} flex-shrink-0`),f(b,(be(e(Wt)),r(()=>e(Wt).icon))),l(C,`color: ${e(t),r(()=>e(t).label)??""};`),f(L,`${e(te),r(()=>e(te).grado)??""} ‚Ä¢ ${dt??""} ‚Ä¢ ${e(te),r(()=>e(te).horas)??""}h`),l(ae,`color: ${e(t),r(()=>e(t).text)??""};`),f(Le,(e(te),r(()=>e(te).docente))),ct(ot,"title",(e(te),r(()=>e(te).materia))),f(it,(e(te),r(()=>e(te).materia))),l(A,`color: ${e(t),r(()=>e(t).label)??""};`),l(tt,`color: ${e(t),r(()=>e(t).text)??""};`),ct(tt,"title",(e(te),r(()=>e(te).anotacion))),f(_t,Ut)},[()=>(e(te),r(()=>Ve(e(te).fecha))),()=>(e(te),r(()=>m(e(te).anotacion,150)))]),p(Tr,rr)}),B(()=>{l(Ht,`border-color: ${e(t),r(()=>e(t).cardBorder)??""};`),l(oe,`background-color: ${e(t),r(()=>e(t).cardBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""};`),l(qe,`color: ${e(t),r(()=>e(t).text)??""};`),l(gt,`color: ${e(t),r(()=>e(t).text)??""};`),l(ht,`color: ${e(t),r(()=>e(t).text)??""};`),l(tr,`color: ${e(t),r(()=>e(t).text)??""};`),l(Pr,`color: ${e(t),r(()=>e(t).text)??""};`),l(yr,`color: ${e(t),r(()=>e(t).text)??""};`),l(Hr,`color: ${e(t),r(()=>e(t).text)??""};`)}),p(ve,Ge)};W(qr,ve=>{e(S),r(()=>e(S).length===0)?ve(ur):ve(br,!1)})}B(()=>{l(z,`border-color: ${e(t),r(()=>e(t).cardBorder)??""};`),l(Q,`color: ${e(t),r(()=>e(t).text)??""};`),l(he,`border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(Ee,`color: ${e(t),r(()=>e(t).text)??""};`),l(U,`color: ${e(t),r(()=>e(t).text)??""};`),l(ie,`border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(ze,`border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(He,`border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(Ct,`border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(zt,`border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(J,`color: ${e(t),r(()=>e(t).label)??""};`),l(Z,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(we,`color: ${e(t),r(()=>e(t).label)??""};`),f(Xt,`Materia ${e(s),r(()=>e(s).docente?"(del docente)":"")??""}`),l($t,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),f(er,(e(s),r(()=>e(s).docente?"Todas las materias del docente":"Todas las materias"))),l(At,`color: ${e(t),r(()=>e(t).label)??""};`),f(O,`Grado ${e(s),r(()=>e(s).docente||e(s).materia?"(filtrado)":"")??""}`),l(q,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),f(Oe,(e(s),r(()=>e(s).docente||e(s).materia?"Todos los grados filtrados":"Todos los grados"))),l(nr,`color: ${e(t),r(()=>e(t).label)??""};`),l(fr,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(Lr,`color: ${e(t),r(()=>e(t).label)??""};`),Er.disabled=!e(R),l(Er,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(gr,`color: ${e(t),r(()=>e(t).label)??""};`),hr.disabled=!e(R),l(hr,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(mr,`color: ${e(t),r(()=>e(t).label)??""};`),f(_r,(e(S),r(()=>e(S).length)))}),P("click",he,Ze),_o(_e,()=>e(R),ve=>d(R,ve)),P("click",ie,()=>w("hoy")),P("click",ze,()=>w("semana")),P("click",He,()=>w("mes")),P("click",Ct,()=>w("mes_actual")),P("click",zt,()=>w("trimestre")),st(Z,()=>e(s).docente,ve=>(de(s,e(s).docente=ve),$e(()=>{e(t),e(G),e(v),e(u)}))),st($t,()=>e(s).materia,ve=>(de(s,e(s).materia=ve),$e(()=>{e(t),e(G),e(v),e(u)}))),st(q,()=>e(s).grado,ve=>(de(s,e(s).grado=ve),$e(()=>{e(t),e(G),e(v),e(u)}))),cr(fr,()=>e(s).anotacion,ve=>(de(s,e(s).anotacion=ve),$e(()=>{e(t),e(G),e(v),e(u)}))),cr(Er,()=>e(s).fechaInicio,ve=>(de(s,e(s).fechaInicio=ve),$e(()=>{e(t),e(G),e(v),e(u)}))),cr(hr,()=>e(s).fechaFin,ve=>(de(s,e(s).fechaFin=ve),$e(()=>{e(t),e(G),e(v),e(u)}))),p(c,k)};W(Ye,c=>{e(j)?c(lt):c(rt,!1)})}B(()=>{l(re,`background-color: ${e(t),r(()=>e(t).cardBg)??""};`),l(X,`border-color: ${e(t),r(()=>e(t).cardBorder)??""};`),ct(Be,"src",Kr),l(ne,`color: ${e(t),r(()=>e(t).text)??""};`),l(me,`color: ${e(t),r(()=>e(t).label)??""};`),Pe.disabled=(e(S),r(()=>e(S).length===0)),l(Xe,`color: ${e(t),r(()=>e(t).text)??""};`)}),P("click",Pe,Qe),P("click",Xe,function(...c){xe()?.apply(this,c)}),P("click",I,go(function(...c){xe()?.apply(this,c)})),P("keydown",I,c=>{(c.key==="Enter"||c.key===" ")&&xe()()}),p(N,I),Ir()}var Ts=y("<option> </option>"),Ms=y("<option> </option>"),Os=y("<option> </option>"),Ns=pt('<svg class="animate-spin h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Cargando...',1),js=pt('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"></path></svg> Aplicar Filtros',1),Rs=y('<div class="text-sm opacity-75"> </div>'),Ls=y('<div class="flex items-center justify-center py-12"><!></div>'),Ps=y('<div class="text-center py-12"><svg class="w-16 h-16 mx-auto mb-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v2a2 2 0 002 2h6a2 2 0 002-2v-2M9 17H5a2 2 0 01-2-2v-6a2 2 0 012-2h4M9 7V5a2 2 0 012-2h6a2 2 0 012 2v2M9 7h10a2 2 0 012 2v6a2 2 0 01-2 2H9M9 7V17m0 0h10"></path></svg> <p class="text-lg font-medium mb-2">No hay datos disponibles</p> <p class="text-sm"> </p></div>'),Hs=y('<tr class="border-t transition-colors hover:bg-gray-50 dark:hover:bg-gray-800"><td class="px-4 py-3 text-sm"> </td><td class="px-4 py-3 text-sm"> </td><td class="px-4 py-3 text-sm"><div class="truncate"> </div></td></tr>'),Gs=y('<tr class="border-t-2 font-bold bg-gray-100 dark:bg-gray-800"><td class="px-4 py-3 text-sm font-bold">TOTAL</td><td class="px-4 py-3 text-sm font-bold text-center"> </td><td class="px-4 py-3 text-sm font-bold text-center"> </td></tr>'),Us=y('<div class="overflow-x-auto rounded-lg border"><table class="w-full"><thead><tr><th class="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider">Fecha</th><th class="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider">Horas</th><th class="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider">Anotaci√≥n</th></tr></thead><tbody><!><!></tbody></table></div>'),Vs=y('<div class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4" role="dialog" aria-modal="true" aria-labelledby="modal-title" tabindex="-1"><div class="bg-white dark:bg-gray-900 rounded-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden shadow-2xl" role="document"><div class="flex items-center justify-between p-6 border-b"><div class="flex items-center gap-3"><div class="p-2 rounded-lg bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-200"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v2a2 2 0 002 2h6a2 2 0 002-2v-2M9 17H5a2 2 0 01-2-2v-6a2 2 0 012-2h4M9 7V5a2 2 0 012-2h6a2 2 0 012 2v2M9 7h10a2 2 0 012 2v6a2 2 0 01-2 2H9M9 7V17m0 0h10"></path></svg></div> <div><h2 id="modal-title" class="text-xl font-bold">Generador de Reportes PDF</h2> <p class="text-sm opacity-75">Filtre y genere reportes de anotaciones</p></div></div> <button class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors" aria-label="Cerrar ventana de reportes" title="Cerrar"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="p-6 overflow-y-auto" style="max-height: calc(90vh - 140px);"><div class="mb-6 p-4 rounded-xl border"><h3 class="text-lg font-semibold mb-4">Filtros</h3> <div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div class="space-y-2"><label for="docente-filter" class="block text-sm font-medium">Docente</label> <select id="docente-filter" class="w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-indigo-500 transition-all outline-none"><option>Todos los docentes</option><!></select></div> <div class="space-y-2"><label for="materia-filter" class="block text-sm font-medium">Asignatura</label> <select id="materia-filter" class="w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-indigo-500 transition-all outline-none"><option>Todas las asignaturas</option><!></select></div> <div class="space-y-2"><label for="grado-filter" class="block text-sm font-medium">Grado</label> <select id="grado-filter" class="w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-indigo-500 transition-all outline-none"><option>Todos los grados</option><!></select></div></div> <div class="flex gap-3 mt-4"><button class="px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2"><!></button> <button class="px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-lg transition-colors flex items-center gap-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg> Limpiar</button> <button class="ml-auto px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white rounded-lg transition-colors flex items-center gap-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> Generar PDF</button></div></div> <div class="mb-4"><div class="flex items-center justify-between"><h3 class="text-lg font-semibold"> </h3> <!></div></div> <!></div></div></div>');function Ys(N,$){Sr($,!1);const v=h(),ke=h(),u=h();let E=null,t=null,xe=wt($,"onClose",8),Ne=wt($,"initialDocente",8,""),D=h([]),le=h([]),H=h([]),V=[],j=h([]),R=h(!1);const S=async()=>{if(!E||!t){const[x,M]=await Promise.all([ao(()=>import("./pdf-CBBHH09D.js").then(J=>J.j),[]),ao(()=>import("./pdf-CBBHH09D.js").then(J=>J.b),[])]);E=x.default,t=M.default}};let s=h(JSON.parse(localStorage.getItem("docenteMaterias")||"{}")),i=h(""),w=h(""),Y=h("");Ar(()=>{Ne()&&d(i,Ne())}),Ar(async()=>{console.log("üöÄ ReportGenerator montado"),await ge()});const ge=async()=>{try{const[x,M,J]=await Promise.all([Zr(),Qr(),Xr()]);d(D,x),d(le,M),d(H,J),d(s,JSON.parse(localStorage.getItem("docenteMaterias")||"{}"))}catch(x){console.error("Error cargando datos iniciales:",x)}},G=async()=>{d(R,!0);try{const x={spreadsheetId:no,worksheetTitle:ko};e(i)&&(x.docente=e(i)),e(w)&&(x.materia=e(w)),e(Y)&&(x.grado=e(Y)),console.log("üîç Enviando payload a getAnotador:",x);const M=await Bo(x);console.log("üìä Respuesta de getAnotador:",M);let J=M;if(M&&typeof M=="object"&&(M.data?J=M.data:M.records?J=M.records:Array.isArray(M)&&(J=M)),V=Array.isArray(J)?J:[],console.log("‚úÖ Datos procesados:",V.length,"registros"),console.log("üîç Keys del primer registro:",V[0]?Object.keys(V[0]):"No hay registros"),V.length>0&&V[0].values){console.log("üîÑ Transformando datos desde formato .values");const Z=["Marca Temporal","Fecha","Docente","Asignatura","Grado","Horas","Anotaci√≥n"];V=V.map(Re=>{const bt={"Marca Temporal":"",Fecha:"",Docente:"",Asignatura:"",Grado:"",Horas:"",Anotaci√≥n:""};return Z.forEach((Ft,we)=>{bt[Ft]=Re.values?.[we]||""}),bt}),console.log("üìä Datos transformados:",V.length,"registros")}Ie()}catch(x){if(console.error("‚ùå Error cargando datos del anotador:",x),x instanceof Error&&console.error("üìã Error details:",x.message),x&&typeof x=="object"&&"response"in x){const M=x.response;M&&(console.error("üåê Response status:",M.status),console.error("üåê Response data:",M.data))}V=[],d(j,[])}finally{d(R,!1)}},Ie=()=>{if(console.log("üîç Aplicando filtros locales:",{totalRegistros:V.length,isArray:Array.isArray(V),docente:e(i),materia:e(w),grado:e(Y)}),!Array.isArray(V)){console.error("‚ùå anotadorData no es un array:",typeof V,V),d(j,[]);return}d(j,V.filter(x=>{if(!x||typeof x!="object")return console.log("‚ö†Ô∏è Registro inv√°lido:",x),!1;const M=!e(i)||x.Docente===e(i),J=!e(w)||x.Asignatura===e(w),Z=!e(Y)||x.Grado===e(Y);return!M&&e(i)&&console.log("‚ùå No coincide docente:",{expected:e(i),actual:x.Docente}),!J&&e(w)&&console.log("‚ùå No coincide materia:",{expected:e(w),actual:x.Asignatura}),!Z&&e(Y)&&console.log("‚ùå No coincide grado:",{expected:e(Y),actual:x.Grado}),M&&J&&Z})),console.log("‚úÖ Registros filtrados:",e(j).length)},fe=()=>{G()},Je=()=>{d(i,""),d(w,""),d(Y,""),V=[],d(j,[])},ft=async()=>{if(await S(),e(j).length===0){alert("No hay datos para generar el PDF");return}const x=new E({format:"letter"}),M="Anotador de Clases",J=[];e(i)&&J.push(`Docente: ${e(i)}`),e(w)&&J.push(`Asignatura: ${e(w)}`),e(Y)&&J.push(`Grado: ${e(Y)}`);let Z=20;try{console.log("üñºÔ∏è Intentando agregar logo EIE al PDF..."),x.setTextColor(99,102,241),x.setFontSize(28),x.setFont("helvetica","bold"),x.text("EIE",x.internal.pageSize.getWidth()/2,Z,{align:"center"}),Z+=15,console.log("‚úÖ Logo EIE (texto) agregado correctamente")}catch(we){console.log("‚ùå Error con logo EIE, usando fallback:",we),x.setTextColor(99,102,241),x.setFontSize(24),x.text("EIE",x.internal.pageSize.getWidth()/2,Z,{align:"center"}),Z+=15}x.setTextColor(0,0,0),x.setFontSize(18),x.setFont("helvetica","bold"),x.text(M,x.internal.pageSize.getWidth()/2,Z,{align:"center"}),Z+=12,x.setTextColor(0,0,0),x.setFontSize(12),x.setFont("helvetica","normal"),x.text("Instituci√≥n Educativa Instituto Gu√°tica",x.internal.pageSize.getWidth()/2,Z,{align:"center"}),Z+=10,x.setTextColor(60,60,60),x.setFontSize(10),x.setFont("helvetica","normal"),x.text(`Fecha de generaci√≥n: ${new Date().toLocaleDateString()}`,x.internal.pageSize.getWidth()/2,Z,{align:"center"}),Z+=15,x.setDrawColor(200,200,200),x.setLineWidth(1),x.line(20,Z,x.internal.pageSize.getWidth()-20,Z),Z+=15,J.length>0&&(x.setTextColor(80,80,80),x.setFontSize(9),x.setFont("helvetica","normal"),J.forEach(we=>{x.text(we,20,Z,{align:"left"}),Z+=6}),Z+=10);const Re=e(j).map(we=>[we.Fecha||"",we.Horas||"",we.Anotaci√≥n||""]),bt=["TOTAL",e(v).toFixed(1),""];Re.push(bt),console.log("üìä Generando PDF con:",{totalHoras:e(v),registros:e(j).length,filasTabla:Re.length}),t(x,{head:[["Fecha","Horas","Anotaci√≥n"]],body:Re,startY:Z,styles:{fontSize:8,cellPadding:2,cellWidth:"wrap",valign:"top",overflow:"linebreak"},headStyles:{fillColor:[99,102,241],textColor:255,fontSize:9,fontStyle:"bold",halign:"center"},bodyStyles:{fillColor:[255,255,255],textColor:[0,0,0]},alternateRowStyles:{fillColor:[248,250,252]},columnStyles:{0:{cellWidth:60,minCellHeight:8,halign:"center"},1:{cellWidth:30,minCellHeight:8,halign:"center"},2:{cellWidth:"auto",minCellHeight:12}},margin:{top:15,right:15,bottom:15,left:15},tableWidth:"auto",didParseCell:we=>{we.row.index===Re.length-1&&(we.cell.styles.fillColor=[240,240,240],we.cell.styles.fontStyle="bold",we.cell.styles.textColor=[0,0,0],we.column.index===0&&(we.cell.styles.halign="center",we.cell.styles.fillColor=[230,230,230]),we.column.index===1&&(we.cell.styles.halign="center",we.cell.styles.fillColor=[220,220,220]),we.column.index===2&&(we.cell.styles.halign="center",we.cell.styles.fillColor=[220,220,220]))}});const Ft=`reporte_anotaciones_${e(i)||"todos"}_${e(w)||"todas"}_${e(Y)||"todos"}_${new Date().toISOString().split("T")[0]}.pdf`;x.save(Ft),console.log("üíæ PDF guardado exitosamente:",Ft)};Ce(()=>e(j),()=>{d(v,e(j).reduce((x,M)=>{const J=parseFloat(M.Horas||"0");return x+(isNaN(J)?0:J)},0))}),Ce(()=>(e(i),e(le),e(s)),()=>{d(ke,e(i)?[...e(le)].sort((x,M)=>{const J=e(s)[e(i)]?.includes(x.materia),Z=e(s)[e(i)]?.includes(M.materia);return J&&!Z?-1:!J&&Z?1:x.materia.localeCompare(M.materia)}):e(le))}),Ce(()=>{},()=>{d(u,{bg:"rgb(var(--bg-primary))",text:"rgb(var(--text-primary))",label:"rgb(var(--text-secondary))",border:"rgb(var(--border-primary))",placeholder:"rgb(var(--text-muted))",cardBg:"rgb(var(--card-bg))",cardBorder:"rgb(var(--card-border))",inputBg:"rgb(var(--bg-secondary))"})}),Nr(),jr();var Ze=Vs(),Qe=o(Ze),Ve=o(Qe),m=a(o(Ve),2),I=a(Ve,2),re=o(I),X=a(o(re),2),ee=o(X),Be=o(ee),Fe=a(Be,2),ne=o(Fe);ne.value=ne.__value="";var me=a(ne);ye(me,1,()=>e(D),Se,(x,M)=>{var J=Ts(),Z=o(J),Re={};B(()=>{f(Z,e(M)),Re!==(Re=e(M))&&(J.value=(J.__value=e(M))??"")}),p(x,J)});var ut=a(ee,2),Pe=o(ut),Xe=a(Pe,2),Me=o(Xe);Me.value=Me.__value="";var Ye=a(Me);ye(Ye,1,()=>e(ke),Se,(x,M)=>{const J=Bt(()=>(e(i),e(s),e(M),r(()=>e(i)&&e(s)[e(i)]?.includes(e(M).materia))));var Z=Ms(),Re=o(Z),bt={};B(()=>{l(Z,e(J)?"color: #6366f1; font-weight: 600;":""),f(Re,`${e(J)?"‚≠ê ":""}${e(M),r(()=>e(M).materia)??""}`),bt!==(bt=(e(M),r(()=>e(M).materia)))&&(Z.value=(Z.__value=(e(M),r(()=>e(M).materia)))??"")}),p(x,Z)});var lt=a(ut,2),rt=o(lt),c=a(rt,2),k=o(c);k.value=k.__value="";var z=a(k);ye(z,1,()=>(e(H),r(()=>[...new Set(e(H).map(x=>x.grado.toString()))])),Se,(x,M)=>{var J=Os(),Z=o(J),Re={};B(bt=>{f(Z,bt),Re!==(Re=e(M))&&(J.value=(J.__value=e(M))??"")},[()=>(e(M),r(()=>e(M).replace(/0(\d)$/,"¬∞$1").replace(/(\d{1,2})0(\d)/,"$1¬∞$2")))]),p(x,J)});var T=a(X,2),Q=o(T),F=o(Q);{var K=x=>{var M=Ns();p(x,M)},he=x=>{var M=js();p(x,M)};W(F,x=>{e(R)?x(K):x(he,!1)})}var _=a(Q,2),Ee=a(_,2),pe=a(re,2),_e=o(pe),U=o(_e),se=o(U),ie=a(U,2);{var ze=x=>{var M=Rs(),J=o(M);B(()=>f(J,`${(e(i)&&`Docente: ${e(i)}`)??""}
              ${(e(w)&&` | Asignatura: ${e(w)}`)??""}
              ${(e(Y)&&` | Grado: ${e(Y)}`)??""}`)),p(x,M)};W(ie,x=>{e(j),r(()=>e(j).length>0)&&x(ze)})}var He=a(pe,2);{var Ct=x=>{var M=Ls(),J=o(M);po(J,{message:"Cargando datos del anotador..."}),p(x,M)},zt=x=>{var M=Ps(),J=a(o(M),4),Z=o(J);B(()=>{l(M,`color: ${e(u),r(()=>e(u).placeholder)??""};`),f(Z,e(i)||e(w)||e(Y)?"No se encontraron registros con los filtros seleccionados. Intente con otros criterios.":"Seleccione filtros y haga clic en 'Aplicar Filtros' para cargar los datos.")}),p(x,M)},lr=x=>{var M=Us(),J=o(M),Z=o(J),Re=o(Z),bt=o(Re),Ft=a(bt),we=a(Ft),Xt=a(Z),$t=o(Xt);ye($t,1,()=>e(j),Se,(Rt,vt)=>{var It=Hs(),Tt=o(It),Lt=o(Tt),At=a(Tt),O=o(At),q=a(At),ce=o(q),Oe=o(ce);B(()=>{l(It,`border-color: ${e(u),r(()=>e(u).border)??""};`),f(Lt,(e(vt),r(()=>e(vt).Fecha||"-"))),f(O,(e(vt),r(()=>e(vt).Horas||"-"))),ct(ce,"title",(e(vt),r(()=>e(vt).Anotaci√≥n))),f(Oe,(e(vt),r(()=>e(vt).Anotaci√≥n||"-")))}),p(Rt,It)});var jt=a($t);{var er=Rt=>{var vt=Gs(),It=a(o(vt)),Tt=o(It),Lt=a(It),At=o(Lt);B(O=>{l(vt,`border-color: ${e(u),r(()=>e(u).border)??""}; border-top-width: 2px;`),f(Tt,O),f(At,`${e(j),r(()=>e(j).length)??""} registros`)},[()=>(e(v),r(()=>e(v).toFixed(1)))]),p(Rt,vt)};W(jt,Rt=>{e(j),r(()=>e(j).length>0)&&Rt(er)})}B(()=>{l(M,`border-color: ${e(u),r(()=>e(u).border)??""};`),l(Z,`background-color: ${e(u),r(()=>e(u).inputBg)??""};`),l(bt,`color: ${e(u),r(()=>e(u).label)??""};`),l(Ft,`color: ${e(u),r(()=>e(u).label)??""};`),l(we,`color: ${e(u),r(()=>e(u).label)??""};`)}),p(x,M)};W(He,x=>{e(R)?x(Ct):(e(j),r(()=>e(j).length===0)?x(zt,1):x(lr,!1))})}B(()=>{l(Qe,`background-color: ${e(u),r(()=>e(u).cardBg)??""}; color: ${e(u),r(()=>e(u).text)??""};`),l(Ve,`border-color: ${e(u),r(()=>e(u).cardBorder)??""};`),l(re,`background-color: ${e(u),r(()=>e(u).inputBg)??""}; border-color: ${e(u),r(()=>e(u).border)??""};`),l(Be,`color: ${e(u),r(()=>e(u).label)??""};`),l(Fe,`background-color: ${e(u),r(()=>e(u).cardBg)??""}; border-color: ${e(u),r(()=>e(u).border)??""}; color: ${e(u),r(()=>e(u).text)??""};`),l(Pe,`color: ${e(u),r(()=>e(u).label)??""};`),l(Xe,`background-color: ${e(u),r(()=>e(u).cardBg)??""}; border-color: ${e(u),r(()=>e(u).border)??""}; color: ${e(u),r(()=>e(u).text)??""};`),l(rt,`color: ${e(u),r(()=>e(u).label)??""};`),l(c,`background-color: ${e(u),r(()=>e(u).cardBg)??""}; border-color: ${e(u),r(()=>e(u).border)??""}; color: ${e(u),r(()=>e(u).text)??""};`),Q.disabled=e(R),l(_,`color: ${e(u),r(()=>e(u).text)??""};`),Ee.disabled=(e(j),r(()=>e(j).length===0)),f(se,`Resultados (${e(j),r(()=>e(j).length)??""} registros)`)}),P("click",m,function(...x){xe()?.apply(this,x)}),st(Fe,()=>e(i),x=>d(i,x)),st(Xe,()=>e(w),x=>d(w,x)),st(c,()=>e(Y),x=>d(Y,x)),P("click",Q,fe),P("click",_,Je),P("click",Ee,ft),P("click",Ze,go(function(...x){xe()?.apply(this,x)})),P("keydown",Ze,x=>x.key==="Escape"&&xe()()),p(N,Ze),Ir()}var qs=y('<div class="absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-ping svelte-1p7gzb0"></div> <div class="absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full svelte-1p7gzb0"></div>',1),Js=pt('<svg class="w-5 h-5 text-indigo-500 svelte-1p7gzb0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" class="svelte-1p7gzb0"></path></svg>'),Ws=pt('<svg class="w-5 h-5 text-amber-500 svelte-1p7gzb0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" class="svelte-1p7gzb0"></path></svg>'),Ks=pt('<svg class="w-5 h-5 text-indigo-400 svelte-1p7gzb0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" class="svelte-1p7gzb0"></path></svg>'),Zs=y('<div class="mb-6 p-4 rounded-xl border flex items-start gap-4 animate-fade-in relative transition-all duration-300 bg-green-50 dark:bg-indigo-900/40 border-green-200 dark:border-indigo-700 shadow-sm svelte-1p7gzb0"><div class="p-2 rounded-lg bg-green-100 dark:bg-indigo-800 text-green-700 dark:text-indigo-200 flex-shrink-0 svelte-1p7gzb0"><svg class="w-5 h-5 svelte-1p7gzb0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" class="svelte-1p7gzb0"></path></svg></div> <div class="flex-1 pr-6 pt-0.5 svelte-1p7gzb0"><h4 class="text-sm font-bold mb-1 text-green-900 dark:text-indigo-100 svelte-1p7gzb0">Informaci√≥n</h4> <p class="text-sm leading-relaxed text-green-800 dark:text-indigo-200 svelte-1p7gzb0"> </p></div> <button class="absolute top-3 right-3 p-1.5 rounded-lg hover:bg-green-100 dark:hover:bg-indigo-700 text-green-600 hover:text-green-800 dark:text-indigo-400 dark:hover:text-indigo-100 transition-colors svelte-1p7gzb0" aria-label="Cerrar alerta"><svg class="w-4 h-4 svelte-1p7gzb0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-1p7gzb0"></path></svg></button></div>'),Qs=y('<option class="svelte-1p7gzb0"> </option>'),Xs=y('<option class="svelte-1p7gzb0"> </option>'),el=y('<option class="svelte-1p7gzb0"> </option>'),tl=y('<option class="svelte-1p7gzb0"> </option>'),rl=y('<button class="absolute right-4 top-1/2 transform -translate-y-1/2 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors svelte-1p7gzb0" title="Limpiar b√∫squeda"><svg class="w-4 h-4 svelte-1p7gzb0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-1p7gzb0"></path></svg></button>'),ol=y('<div class="text-center py-8 svelte-1p7gzb0"><svg class="w-12 h-12 mx-auto mb-4 opacity-50 svelte-1p7gzb0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" class="svelte-1p7gzb0"></path></svg> <p class="text-sm svelte-1p7gzb0"> </p></div>'),al=y('<div class="flex items-center justify-center py-12 svelte-1p7gzb0"><!></div>'),sl=y('<span class="ml-2 inline-block animate-bounce svelte-1p7gzb0">‚ú®</span>'),ll=y('<span class="text-xs font-medium svelte-1p7gzb0"> </span>'),nl=y('<div class="h-px flex-1 transition-all duration-300 group-hover:opacity-50 svelte-1p7gzb0"></div>'),il=pt('<svg class="w-3 h-3 text-white svelte-1p7gzb0" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" class="svelte-1p7gzb0"></path></svg>'),dl=y('<div class="relative group flex flex-col p-0 rounded-2xl border transition-all duration-200 shadow-sm hover:shadow-md svelte-1p7gzb0"><div class="flex items-start gap-1 p-4 svelte-1p7gzb0"><label class="flex-shrink-0 cursor-pointer p-1 mt-1 svelte-1p7gzb0"><input type="checkbox" class="hidden svelte-1p7gzb0"/> <div class="w-5 h-5 rounded border flex items-center justify-center transition-colors cursor-pointer svelte-1p7gzb0"><!></div></label> <textarea rows="8" class="w-full bg-transparent border-none focus:ring-0 text-base font-medium leading-relaxed resize-none p-1 transition-colors min-h-[180px] pb-6 svelte-1p7gzb0" placeholder="Escriba aqu√≠..."></textarea></div></div>'),cl=y('<div class="grid grid-cols-1 md:grid-cols-2 gap-4 svelte-1p7gzb0"></div>'),vl=y('<div class="space-y-4 svelte-1p7gzb0"><button type="button" class="flex items-center gap-3 w-full text-left cursor-pointer group focus:outline-none svelte-1p7gzb0"><div class="flex items-center gap-3 flex-1 svelte-1p7gzb0"><h3> <!></h3> <!></div> <!> <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" class="svelte-1p7gzb0"></path></svg></button> <!></div>'),gl=pt('<svg class="animate-spin h-7 w-7 text-white svelte-1p7gzb0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25 svelte-1p7gzb0" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75 svelte-1p7gzb0" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>'),pl=pt('<svg class="w-8 h-8 transform rotate-90 svelte-1p7gzb0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" class="svelte-1p7gzb0"></path></svg>'),ul=y('<div class="min-h-screen flex flex-col lg:flex-row transition-colors duration-200 svelte-1p7gzb0"><aside class="w-full lg:w-80 lg:h-screen lg:sticky lg:top-0 border-b lg:border-b-0 lg:border-r transition-colors duration-200 p-6 lg:p-8 flex flex-col flex-shrink-0 z-40 svelte-1p7gzb0"><div class="flex flex-col lg:flex-col items-center justify-between lg:justify-start gap-4 lg:gap-8 svelte-1p7gzb0"><div class="flex items-center gap-4 lg:flex-col svelte-1p7gzb0"><img alt="EIE Logo" class="h-12 lg:h-20 w-auto svelte-1p7gzb0"/> <h1 class="text-xl lg:text-2xl tracking-tight font-bold lg:text-center svelte-1p7gzb0">Anotador de Clase</h1></div> <div class="flex flex-wrap justify-center lg:flex-col gap-3 w-full svelte-1p7gzb0"><button class="inline-flex items-center justify-center gap-2 px-3 lg:px-4 py-2 lg:py-3 border rounded-lg transition-all duration-200 hover:bg-black/5 dark:hover:bg-white/5 svelte-1p7gzb0" title="Abrir hoja de c√°lculo"><svg class="w-5 h-5 svelte-1p7gzb0" viewBox="0 0 24 24" fill="currentColor"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z" class="svelte-1p7gzb0"></path></svg> <span class="text-sm font-medium hidden lg:inline svelte-1p7gzb0">Hoja de C√°lculo</span></button> <button id="filter-button-target" class="inline-flex items-center justify-center gap-2 px-3 lg:px-4 py-2 lg:py-3 border rounded-lg transition-all duration-200 hover:bg-black/5 dark:hover:bg-white/5 svelte-1p7gzb0" title="Abrir filtros de anotaciones"><svg class="w-5 h-5 svelte-1p7gzb0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z" class="svelte-1p7gzb0"></path></svg> <span class="text-sm font-medium hidden lg:inline svelte-1p7gzb0">Filtros</span> <!></button> <button class="inline-flex items-center justify-center gap-2 px-3 lg:px-4 py-2 lg:py-3 border rounded-lg transition-all duration-200 hover:bg-black/5 dark:hover:bg-white/5 svelte-1p7gzb0" title="Generar reportes PDF"><svg class="w-5 h-5 svelte-1p7gzb0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z" class="svelte-1p7gzb0"></path></svg> <span class="text-sm font-medium hidden lg:inline svelte-1p7gzb0">Reportes PDF</span></button> <button class="inline-flex items-center justify-center gap-2 px-3 lg:px-4 py-2 lg:py-3 border rounded-lg transition-all duration-200 hover:bg-black/5 dark:hover:bg-white/5 svelte-1p7gzb0" title="Volver al Dashboard"><svg class="w-5 h-5 svelte-1p7gzb0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" class="svelte-1p7gzb0"></path></svg> <span class="text-sm font-medium hidden lg:inline svelte-1p7gzb0">Dashboard</span></button> <button class="inline-flex items-center justify-center gap-2 px-3 lg:px-4 py-2 lg:py-3 border rounded-lg transition-all duration-200 hover:bg-black/5 dark:hover:bg-white/5 w-full svelte-1p7gzb0" aria-label="Cambiar tema"><!> <span class="text-sm font-medium hidden lg:inline capitalize svelte-1p7gzb0"> </span></button></div></div></aside> <main class="flex-1 p-4 sm:p-6 lg:p-8 overflow-y-auto pb-32 svelte-1p7gzb0"><div class="max-w-4xl mx-auto rounded-2xl p-6 lg:p-8 transition-colors duration-200 border svelte-1p7gzb0"><!> <!> <form class="space-y-6 svelte-1p7gzb0"><div class="grid grid-cols-1 md:grid-cols-3 gap-6 svelte-1p7gzb0"><div class="space-y-2 svelte-1p7gzb0"><label for="fecha" class="block text-sm font-medium svelte-1p7gzb0">Fecha</label> <input type="date" id="fecha" required="" class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-indigo-500 transition-all outline-none svelte-1p7gzb0"/></div> <div class="space-y-2 svelte-1p7gzb0"><label for="docente" class="block text-sm font-medium svelte-1p7gzb0">Docente</label> <select id="docente" required="" class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-indigo-500 transition-all outline-none appearance-none cursor-pointer disabled:opacity-50 svelte-1p7gzb0"><option class="svelte-1p7gzb0"> </option><!></select></div> <div class="space-y-2 svelte-1p7gzb0"><label for="materia" class="block text-sm font-medium svelte-1p7gzb0">Asignatura</label> <select id="materia" required="" class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-indigo-500 transition-all outline-none appearance-none cursor-pointer disabled:opacity-50 svelte-1p7gzb0"><option class="svelte-1p7gzb0"> </option><!></select></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6 svelte-1p7gzb0"><div class="space-y-2 svelte-1p7gzb0"><label for="grado" class="block text-sm font-medium svelte-1p7gzb0">Grado</label> <select id="grado" required="" class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-indigo-500 transition-all outline-none appearance-none cursor-pointer disabled:opacity-50 svelte-1p7gzb0"><option class="svelte-1p7gzb0"> </option><!></select></div> <div class="space-y-2 svelte-1p7gzb0"><label for="horas" class="block text-sm font-medium svelte-1p7gzb0">Horas</label> <select id="horas" required="" class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-indigo-500 transition-all outline-none appearance-none cursor-pointer svelte-1p7gzb0"><option class="svelte-1p7gzb0">Seleccione horas</option><!></select></div></div> <div class="space-y-2 svelte-1p7gzb0"><label for="search" class="block text-sm font-medium svelte-1p7gzb0">Buscar anotaciones</label> <div class="relative svelte-1p7gzb0"><input type="text" id="search" placeholder="Buscar por palabra clave o categor√≠a..." class="w-full px-4 py-3 pl-12 rounded-xl border focus:ring-2 focus:ring-indigo-500 transition-all outline-none svelte-1p7gzb0"/> <svg class="absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 svelte-1p7gzb0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" class="svelte-1p7gzb0"></path></svg> <!></div> <!></div> <div class="space-y-8 svelte-1p7gzb0"><!></div> <div class="space-y-2 svelte-1p7gzb0"><label for="observacion" class="block text-sm font-medium svelte-1p7gzb0">Observaci√≥n</label> <textarea id="observacion" rows="3" class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-indigo-500 transition-all outline-none resize-none svelte-1p7gzb0" placeholder="Observaciones adicionales (opcional)..."></textarea></div> <div class="fixed bottom-8 right-8 z-50 svelte-1p7gzb0"><button type="submit" class="w-16 h-16 bg-indigo-600 hover:bg-indigo-700 disabled:bg-slate-400 dark:disabled:bg-slate-700 disabled:cursor-not-allowed disabled:scale-100 text-white rounded-full shadow-2xl transition-all duration-300 transform hover:scale-110 active:scale-95 backdrop-blur-sm bg-opacity-95 flex items-center justify-center overflow-hidden border border-white/20 svelte-1p7gzb0" aria-label="Guardar Anotaci√≥n"><!></button></div></form></div></main></div> <!> <!>',1);function bl(N,$){Sr($,!1);const v=()=>vo(Vr,"$theme",ke),[ke,u]=co(),E=h(),t=h(),xe=h(),Ne=h();let D=wt($,"onBack",8),le=h([]),H=h([]),V=h([]),j=h(!1),R=h(!1),S=h(!1),s=h(!1),i=h({}),w=h({}),Y=h(""),ge=h({}),G=h([]),Ie=h(""),fe=h("");const Je=g=>{de(w,e(w)[g]=!e(w)[g]),d(w,e(w))},ft=(g,n)=>{const b=e(i)[g].indexOf(n);if(b!==-1){const C={...n,selected:!n.selected},L=[...e(i)[g].slice(0,b),C,...e(i)[g].slice(b+1)];d(i,{...e(i),[g]:L}),console.log("üîÑ Anotaci√≥n toggle:",{categoria:g,index:b,texto:C.text,nuevoEstado:C.selected,totalSeleccionadas:Object.values(e(i)).flat().filter(ae=>ae.selected).length})}},Ze=g=>({"C√ÅTEDRA DE LA PAZ":"#8b5cf6","CIENCIAS NATURALES Y EDUCACI√ìN AMBIENTAL":"#10b981","CIENCIAS SOCIALES (HISTORIA, GEOGRAF√çA Y":"#f59e0b","DIRECCI√ìN DE GRUPO":"#3b82f6","EDUCACI√ìN ART√çSTICA":"#f43f5e","EDUCACI√ìN F√çSICA, RECREACI√ìN Y DEPORTES":"#ef4444","EDUCACI√ìN RELIGIOSA, √âTICA Y V. HUMANOS":"#8b5cf6",EMPRENDIMIENTO:"#f97316",ESTAD√çSTICA:"#06b6d4","FILOSOF√çA Y CIENCIAS SOCIALES (CIENCIAS":"#6366f1",F√çSICA:"#3b82f6",INGL√âS:"#14b8a6","LENGUA CASTELLANA":"#10b981",MATEM√ÅTICAS:"#3b82f6","PROYECTO Y EMPRENDIMIENTO":"#f97316",QU√çMICA:"#06b6d4","TECNOLOG√çA E INFORM√ÅTICA":"#6366f1","√âTICA PROFESIONAL":"#8b5cf6","Estrategias de Ense√±anza-Aprendizaje":"#6366f1","Evaluaci√≥n y Verificaci√≥n de Saberes":"#10b981","Enfoque STEM+ y Contexto Rural":"#f59e0b","Pr√°cticas de Laboratorio y Mantenimiento":"#f43f5e","Ciudadan√≠a Digital y √âtica":"#8b5cf6","Pensamiento Computacional y Programaci√≥n":"#06b6d4","Recursos Anal√≥gicos y Contingencias":"#f97316","Ofim√°tica y Competencias Productivas":"#14b8a6","Gesti√≥n Administrativa y Proyectos Transversales":"#3b82f6"})[g]||"#6366f1",Qe={MATEM√ÅTICAS:"MATEM√ÅTICAS","LENGUA CASTELLANA":"LENGUA CASTELLANA",INGL√âS:"INGL√âS","CIENCIAS NATURALES Y EDUCACI√ìN AMBIENTAL":"CIENCIAS NATURALES Y EDUCACI√ìN AMBIENTAL","CIENCIAS NATURALES":"CIENCIAS NATURALES Y EDUCACI√ìN AMBIENTAL","CIENCIAS SOCIALES (HISTORIA, GEOGRAF√çA Y":"CIENCIAS SOCIALES (HISTORIA, GEOGRAF√çA Y","CIENCIAS SOCIALES":"CIENCIAS SOCIALES (HISTORIA, GEOGRAF√çA Y",F√çSICA:"F√çSICA",QU√çMICA:"QU√çMICA","EDUCACI√ìN ART√çSTICA":"EDUCACI√ìN ART√çSTICA","EDUCACI√ìN F√çSICA, RECREACI√ìN Y DEPORTES":"EDUCACI√ìN F√çSICA, RECREACI√ìN Y DEPORTES","EDUCACI√ìN F√çSICA":"EDUCACI√ìN F√çSICA, RECREACI√ìN Y DEPORTES","TECNOLOG√çA E INFORM√ÅTICA":"TECNOLOG√çA E INFORM√ÅTICA",TECNOLOG√çA:"TECNOLOG√çA E INFORM√ÅTICA",INFORM√ÅTICA:"TECNOLOG√çA E INFORM√ÅTICA",EMPRENDIMIENTO:"EMPRENDIMIENTO","FILOSOF√çA Y CIENCIAS SOCIALES (CIENCIAS":"FILOSOF√çA Y CIENCIAS SOCIALES (CIENCIAS",FILOSOF√çA:"FILOSOF√çA Y CIENCIAS SOCIALES (CIENCIAS",ESTAD√çSTICA:"ESTAD√çSTICA","EDUCACI√ìN RELIGIOSA, √âTICA Y V. HUMANOS":"EDUCACI√ìN RELIGIOSA, √âTICA Y V. HUMANOS",√âTICA:"EDUCACI√ìN RELIGIOSA, √âTICA Y V. HUMANOS","DIRECCI√ìN DE GRUPO":"DIRECCI√ìN DE GRUPO","PROYECTO Y EMPRENDIMIENTO":"PROYECTO Y EMPRENDIMIENTO",PROYECTO:"PROYECTO Y EMPRENDIMIENTO","C√ÅTEDRA DE LA PAZ":"C√ÅTEDRA DE LA PAZ","√âTICA PROFESIONAL":"√âTICA PROFESIONAL"},Ve=g=>{if(!e(m).materia)return g;let n=Qe[e(m).materia.toUpperCase()]||Qe[e(m).materia]||"";if(!n){const b=e(m).materia.toUpperCase();for(const[C,L]of Object.entries(Qe))if(C.includes(b)||b.includes(C)){n=L;break}}return console.log("Materia seleccionada:",e(m).materia,"‚Üí Categor√≠a:",n),g.sort(([b],[C])=>b===n&&C!==n?-1:C===n&&b!==n?1:b.localeCompare(C))};let m=h({fecha:new Date().toISOString().split("T")[0],docente:localStorage.getItem("lastDocente")||"",materia:"",horas:"",grado:"",anotacion:"",observacion:""}),I=h(JSON.parse(localStorage.getItem("docenteMaterias")||"{}"));const re=(g,n)=>{!g||!n||(e(I)[g]||de(I,e(I)[g]=[]),e(I)[g].includes(n)||(de(I,e(I)[g]=[...e(I)[g],n]),localStorage.setItem("docenteMaterias",JSON.stringify(e(I)))))};let X=h(localStorage.getItem("dismissedInfoAnotadorContent")!==xo);const ee=()=>{d(X,!1),localStorage.setItem("dismissedInfoAnotadorContent",xo)};let Be=h(!1),Fe=h(!1),ne=h(!1);const me=()=>{d(Fe,!0)},ut=()=>{d(Fe,!1)},Pe=()=>{d(ne,!0)},Xe=()=>{d(ne,!1)};let Me=h(!0);const Ye="¬°Nueva funci√≥n de filtrado avanzado disponible!";function lt(){return!0}const rt=()=>{localStorage.setItem("dismissedFeatureAlertAnotador",new Date().toISOString()),d(Me,!1)},c=()=>{localStorage.setItem("dismissedFeatureAlertAnotador",new Date().toISOString()),me()},k=()=>`https://docs.google.com/spreadsheets/d/${no}`,z=()=>{window.open(k(),"_blank")},T=()=>{Vr.update(g=>g==="light"?"dim":g==="dim"?"dark":"light")},Q=async()=>{d(j,!0),d(R,!0),d(S,!0),d(s,!0);try{const[g,n,b,C]=await Promise.all([Zr(),Qr(),Xr(),pa()]);d(le,g),d(H,n),d(V,b);const L={},ae={};for(const[Ae,Ue]of Object.entries(C))L[Ae]=Ue.map(Le=>({text:Le,selected:!1})),ae[Ae]=!1;d(i,L),d(w,ae)}catch(g){console.error("Error cargando datos iniciales:",g)}finally{d(j,!1),d(R,!1),d(S,!1),d(s,!1)}},F=async g=>{if(g.preventDefault(),e(Be))return;const n=Object.values(e(i)).flat().filter(L=>L.selected).map(L=>L.text),b=n.join(" | ");if((await Ot.fire({title:"¬øConfirmar Registro?",html:`
        <div class="text-left space-y-2 p-2 rounded-xl bg-black/5 dark:bg-white/5 border border-black/10 dark:border-white/10" style="font-size: 0.9rem; line-height: 1.4;">
          <div style="margin-bottom: 8px;"><strong style="color: #6366f1;">Fecha:</strong> ${e(m).fecha}</div>
          <div style="margin-bottom: 8px;"><strong style="color: #6366f1;">Docente:</strong> ${e(m).docente}</div>
          <div style="margin-bottom: 8px;"><strong style="color: #6366f1;">Asignatura:</strong> ${e(m).materia}</div>
          <div style="margin-bottom: 8px;"><strong style="color: #6366f1;">Grado:</strong> ${e(m).grado}</div>
          <div style="margin-bottom: 8px;"><strong style="color: #6366f1;">Horas:</strong> ${e(m).horas}</div>
          <div style="margin-top: 12px; border-top: 1px solid rgba(0,0,0,0.1); padding-top: 8px;">
            <strong style="color: #6366f1;">Anotaciones:</strong>
            <ul style="list-style-type: disc; padding-left: 20px; margin-top: 4px; font-size: 0.8rem; opacity: 0.8;">
              ${n.map(L=>`<li>${L}</li>`).join("")}
            </ul>
          </div>
          ${e(m).observacion?`<div style="margin-top: 12px;"><strong style="color: #6366f1;">Observaci√≥n:</strong> <span style="font-size: 0.8rem;">${e(m).observacion}</span></div>`:""}
        </div>
      `,icon:"question",showCancelButton:!0,confirmButtonText:"Si, de acuerdo",cancelButtonText:"No",confirmButtonColor:"#4f46e5",cancelButtonColor:"#64748b",reverseButtons:!0,background:v()==="light"?"#fff":"#1e293b",color:v()==="light"?"#1e293b":"#f1f5f9"})).isConfirmed){d(Be,!0);try{const ae=[[new Date().toLocaleString(),e(m).fecha,e(m).docente,e(m).materia,e(m).grado,e(m).horas,b,e(m).observacion]];await ua({spreadsheetId:no,worksheetTitle:ko,datos:ae}),re(e(m).docente,e(m).materia),await Ot.fire({icon:"success",title:"¬°√âxito!",text:"Anotaci√≥n registrada exitosamente",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,position:"top-end",toast:!0}),d(m,{fecha:new Date().toISOString().split("T")[0],docente:e(m).docente,materia:e(m).materia,grado:e(m).grado,horas:"",anotacion:"",observacion:""});for(const Ae in e(i))de(i,e(i)[Ae]=e(i)[Ae].map(Ue=>({...Ue,selected:!1})));d(i,{...e(i)})}catch(L){console.error("Error enviando:",L),await Ot.fire({icon:"error",title:"Error",text:"Error al registrar la anotaci√≥n",confirmButtonColor:"#ef4444"})}finally{d(Be,!1)}}};Ar(()=>{Q(),d(Me,lt())}),Ce(()=>(e(m),e(fe)),()=>{if(e(m).materia&&e(m).materia!==e(fe)){d(fe,e(m).materia);let g=Qe[e(m).materia.toUpperCase()]||Qe[e(m).materia]||"";if(!g){const n=e(m).materia.toUpperCase();for(const[b,C]of Object.entries(Qe))if(b.includes(n)||n.includes(b)){g=C;break}}g&&(d(Ie,g),console.log("‚ú® Categoria destacada:",g),setTimeout(()=>{d(Ie,"")},3e3))}}),Ce(()=>(e(i),e(Y)),()=>{d(ge,Object.entries(e(i)).reduce((g,[n,b])=>{if(!e(Y).trim())return g[n]=b,g;const C=e(Y).toLowerCase().trim(),L=b.filter(ae=>ae.text.toLowerCase().includes(C));return L.length>0&&(g[n]=L),g},{}))}),Ce(()=>(e(H),e(m),e(i),e(ge),e(G)),()=>{console.log("üîÑ Reactividad actualizada"),console.log("üìö Materias disponibles:",e(H).map(g=>g.materia)),console.log("‚úçÔ∏è Materia seleccionada:",e(m).materia),console.log("üìä Categor√≠as disponibles:",Object.keys(e(i))),console.log("üîç Categor√≠as filtradas:",Object.keys(e(ge))),d(G,Ve(Object.entries(e(ge)))),console.log("üìã Entradas ordenadas:",e(G).map(([g])=>g))}),Ce(()=>e(m),()=>{e(m).docente&&localStorage.setItem("lastDocente",e(m).docente)}),Ce(()=>(e(m),e(H),e(I)),()=>{d(E,e(m).docente?[...e(H)].sort((g,n)=>{const b=e(I)[e(m).docente]?.includes(g.materia),C=e(I)[e(m).docente]?.includes(n.materia);return b&&!C?-1:!b&&C?1:g.materia.localeCompare(n.materia)}):e(H))}),Ce(()=>{},()=>{d(t,{bg:"rgb(var(--bg-primary))",text:"rgb(var(--text-primary))",label:"rgb(var(--text-secondary))",border:"rgb(var(--border-primary))",placeholder:"rgb(var(--text-muted))",icon:"rgb(var(--text-muted))",cardBg:"rgb(var(--card-bg))",cardBorder:"rgb(var(--card-border))",inputBg:"rgb(var(--bg-secondary))"})}),Ce(()=>e(i),()=>{d(xe,Object.values(e(i)).flat().some(g=>g.selected))}),Ce(()=>(e(m),e(xe)),()=>{d(Ne,e(m).fecha&&e(m).docente&&e(m).materia&&e(m).grado&&e(m).horas&&e(xe))}),Ce(()=>(e(m),e(xe),e(Ne),e(i)),()=>{console.log("üîç Validaci√≥n formulario:",{fecha:e(m).fecha,docente:e(m).docente,materia:e(m).materia,grado:e(m).grado,horas:e(m).horas,hasSelectedAnotacion:e(xe),isFormValid:e(Ne),totalAnotaciones:Object.values(e(i)).flat().length,selectedCount:Object.values(e(i)).flat().filter(g=>g.selected).length})}),Nr(),jr();var K=ul(),he=Qt(K),_=o(he),Ee=o(_),pe=o(Ee),_e=o(pe),U=a(_e,2),se=a(pe,2),ie=o(se),ze=a(ie,2),He=a(o(ze),4);{var Ct=g=>{var n=qs();p(g,n)};W(He,g=>{e(Me)&&g(Ct)})}var zt=a(ze,2),lr=a(zt,2),x=a(lr,2),M=o(x);{var J=g=>{var n=Js();p(g,n)},Z=g=>{var n=Ws();p(g,n)},Re=g=>{var n=Ks();p(g,n)};W(M,g=>{v()==="dark"?g(J):v()==="light"?g(Z,1):g(Re,!1)})}var bt=a(M,2),Ft=o(bt),we=a(_,2),Xt=o(we),$t=o(Xt);{var jt=g=>{var n=Zs(),b=a(o(n),2),C=a(o(b),2),L=o(C),ae=a(b,2);B(()=>f(L,xo)),P("click",ae,ee),p(g,n)};W($t,g=>{e(X)&&g(jt)})}var er=a($t,2);so(er,{featureMessage:Ye,description:"Ahora puedes filtrar tus anotaciones de forma avanzada. ¬°Pru√©balo!",onTryNow:c,onDismiss:rt,targetSelector:"#filter-button-target",showPopup:!1,colorTheme:"purple"});var Rt=a(er,2),vt=o(Rt),It=o(vt),Tt=o(It),Lt=a(Tt,2),At=a(It,2),O=o(At),q=a(O,2),ce=o(q),Oe=o(ce);ce.value=ce.__value="";var nt=a(ce);ye(nt,1,()=>e(le),Se,(g,n)=>{var b=Qs(),C=o(b),L={};B(()=>{f(C,e(n)),L!==(L=e(n))&&(b.value=(b.__value=e(n))??"")}),p(g,b)});var Pt=a(At,2),Yr=o(Pt),Rr=a(Yr,2),nr=o(Rr),fr=o(nr);nr.value=nr.__value="";var ir=a(nr);ye(ir,1,()=>e(E),Se,(g,n)=>{const b=Bt(()=>(e(I),e(m),e(n),r(()=>e(I)[e(m).docente]?.includes(e(n).materia))));var C=Xs(),L=o(C),ae={};B(()=>{l(C,e(b)?"color: #6366f1; font-weight: 600;":""),f(L,`${e(b)?"‚≠ê ":""}${e(n),r(()=>e(n).materia)??""}`),ae!==(ae=(e(n),r(()=>e(n).materia)))&&(C.value=(C.__value=(e(n),r(()=>e(n).materia)))??"")}),p(g,C)});var vr=a(vt,2),Lr=o(vr),Er=o(Lr),Dr=a(Er,2),gr=o(Dr),hr=o(gr);gr.value=gr.__value="";var Br=a(gr);ye(Br,1,()=>(e(V),r(()=>[...new Set(e(V).map(g=>g.grado.toString()))])),Se,(g,n)=>{var b=el(),C=o(b),L={};B(ae=>{f(C,ae),L!==(L=e(n))&&(b.value=(b.__value=e(n))??"")},[()=>(e(n),r(()=>e(n).replace(/0(\d)$/,"¬∞$1").replace(/(\d{1,2})0(\d)/,"$1¬∞$2")))]),p(g,b)});var pr=a(Lr,2),mr=o(pr),zr=a(mr,2),_r=o(zr);_r.value=_r.__value="";var qr=a(_r);ye(qr,0,()=>[1,2,3,4],Se,(g,n)=>{var b=tl(),C=o(b),L={};B(ae=>{f(C,`${n??""} ${n===1?"Hora":"Horas"}`),L!==(L=ae)&&(b.value=(b.__value=ae)??"")},[()=>r(()=>n.toString())]),p(g,b)});var ur=a(vr,2),br=o(ur),ve=a(br,2),Ge=o(ve),et=a(Ge,2),Ht=a(et,2);{var Et=g=>{var n=rl();B(()=>l(n,`color: ${e(t),r(()=>e(t).placeholder)??""};`)),P("click",n,()=>d(Y,"")),p(g,n)};W(Ht,g=>{e(Y)&&g(Et)})}var oe=a(ve,2);{var De=g=>{var n=ol(),b=a(o(n),2),C=o(b);B(()=>{l(n,`color: ${e(t),r(()=>e(t).placeholder)??""};`),f(C,`No se encontraron anotaciones para "${e(Y)??""}"`)}),p(g,n)},qe=mo(()=>(e(Y),e(ge),r(()=>e(Y)&&Object.keys(e(ge)).length===0)));W(oe,g=>{e(qe)&&g(De)})}var gt=a(ur,2),ht=o(gt);{var tr=g=>{var n=al(),b=o(n);po(b,{message:"Cargando opciones de anotaci√≥n..."}),p(g,n)},Pr=g=>{var n=io(),b=Qt(n);ye(b,1,()=>e(G),Se,(C,L)=>{var ae=mo(()=>Eo(e(L),2));let Ae=()=>e(ae)[0],Ue=()=>e(ae)[1];const Le=Bt(()=>(Ae(),r(()=>Ze(Ae())))),St=Bt(()=>(Ue(),r(()=>Ue().length)));var ot=vl(),it=o(ot),mt=o(it),A=o(mt),tt=o(A),_t=a(tt);{var Dt=at=>{var yt=sl();p(at,yt)};W(_t,at=>{Ae()===e(Ie)&&at(Dt)})}var Kt=a(A,2);{var dt=at=>{var yt=ll(),wr=o(yt);B(()=>{l(yt,`color: ${e(Le)??""};`),f(wr,`(${e(St)??""} resultado${e(St)!==1?"s":""})`)}),p(at,yt)};W(Kt,at=>{e(Y)&&at(dt)})}var Ut=a(mt,2);{var Zt=at=>{var yt=nl();B(()=>l(yt,`background-color: ${e(Le)??""}; opacity: 0.2;`)),p(at,yt)};W(Ut,at=>{e(Y)||at(Zt)})}var Mt=a(Ut,2);let Vt;var ar=a(it,2);{var xt=at=>{var yt=cl();ye(yt,5,Ue,Se,(wr,We,Or)=>{const Yt=Bt(()=>(e(Y),e(We),r(()=>e(Y)&&e(We).text.toLowerCase().includes(e(Y).toLowerCase()))));var Gt=dl(),$r=o(Gt),qt=o($r),Cr=o(qt),dr=a(Cr,2),Ur=o(dr);{var Jt=Ke=>{var ue=il();p(Ke,ue)};W(Ur,Ke=>{e(We),r(()=>e(We).selected)&&Ke(Jt)})}var kt=a(qt,2);B(()=>{l(Gt,`
                          background-color: ${e(We),be(e(Le)),be(e(Yt)),e(t),r(()=>e(We).selected?`${e(Le)}10`:e(Yt)?`${e(Le)}05`:e(t).inputBg)??""};
                          border-color: ${e(We),be(e(Le)),be(e(Yt)),e(t),r(()=>e(We).selected?e(Le):e(Yt)?e(Le):e(t).border)??""};
                        `),Ro(Cr,(e(We),r(()=>e(We).selected))),l(dr,`
                              border-color: ${e(We),be(e(Le)),e(t),r(()=>e(We).selected?e(Le):e(t).border)??""};
                              background-color: ${e(We),be(e(Le)),r(()=>e(We).selected?e(Le):"transparent")??""};
                            `),l(kt,`color: ${e(t),r(()=>e(t).text)??""};`)}),P("change",Cr,()=>ft(Ae(),e(We))),cr(kt,()=>e(We).text,Ke=>(e(We).text=Ke,$e(()=>(Ue(),e(G))))),p(wr,Gt)}),to(3,yt,()=>Io),p(at,yt)};W(ar,at=>{e(w),Ae(),r(()=>e(w)[Ae()])&&at(xt)})}B(()=>{Nt(A,1,`text-xs font-black uppercase tracking-widest px-3 py-1 rounded-full text-white flex-shrink-0 transition-all duration-300 group-hover:shadow-md ${Ae()===e(Ie)?"animate-glow ring-4 ring-opacity-50":""}`,"svelte-1p7gzb0"),l(A,`background-color: ${e(Le)??""}; ${Ae()===e(Ie)?`box-shadow: 0 0 25px ${e(Le)}60, 0 0 50px ${e(Le)}30; ring-color: ${e(Le)}; border: 2px solid ${e(Le)};`:""}`),f(tt,`${Ae()??""} `),Vt=Nt(Mt,0,"w-5 h-5 text-gray-500 transform transition-transform duration-200 flex-shrink-0 svelte-1p7gzb0",null,Vt,{"rotate-180":e(w)[Ae()]})}),P("click",it,()=>Je(Ae())),p(C,ot)}),p(g,n)};W(ht,g=>{e(s)?g(tr):g(Pr,!1)})}var yr=a(gt,2),Hr=o(yr),Gr=a(Hr,2),Fr=a(yr,2),kr=o(Fr),Tr=o(kr);{var te=g=>{var n=gl();p(g,n)},Wt=g=>{var n=pl();p(g,n)};W(Tr,g=>{e(Be)?g(te):g(Wt,!1)})}var rr=a(he,2);{var or=g=>{Fs(g,{onClose:ut,get selectedDocente(){return e(m),r(()=>e(m).docente)}})};W(rr,g=>{e(Fe)&&g(or)})}var Mr=a(rr,2);{var xr=g=>{Ys(g,{onClose:Xe,get initialDocente(){return e(m),r(()=>e(m).docente)}})};W(Mr,g=>{e(ne)&&g(xr)})}B(()=>{l(he,`background-color: ${e(t),r(()=>e(t).bg)??""};`),l(_,`background-color: ${e(t),r(()=>e(t).cardBg)??""}; border-color: ${e(t),r(()=>e(t).cardBorder)??""};`),ct(_e,"src",Kr),l(U,`color: ${e(t),r(()=>e(t).text)??""};`),l(ie,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(ze,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(zt,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(lr,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(x,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),f(Ft,v()),l(Xt,`background-color: ${e(t),r(()=>e(t).cardBg)??""}; border-color: ${e(t),r(()=>e(t).cardBorder)??""};`),l(Tt,`color: ${e(t),r(()=>e(t).label)??""};`),l(Lt,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""}; color-scheme: ${v()==="light"?"light":"dark"};`),l(O,`color: ${e(t),r(()=>e(t).label)??""};`),l(q,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),f(Oe,e(j)?"Cargando...":"Seleccione docente"),l(Yr,`color: ${e(t),r(()=>e(t).label)??""};`),l(Rr,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),f(fr,e(R)?"Cargando...":"Seleccione asignatura"),l(Er,`color: ${e(t),r(()=>e(t).label)??""};`),l(Dr,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),f(hr,e(S)?"Cargando...":"Seleccione grado"),l(mr,`color: ${e(t),r(()=>e(t).label)??""};`),l(zr,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(br,`color: ${e(t),r(()=>e(t).label)??""};`),l(Ge,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(et,`color: ${e(t),r(()=>e(t).placeholder)??""};`),l(Hr,`color: ${e(t),r(()=>e(t).label)??""};`),l(Gr,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),kr.disabled=e(Be)||!e(Ne),ct(kr,"title",e(Ne)?"Guardar Anotaci√≥n":"Complete todos los campos requeridos y al menos una anotaci√≥n")}),P("click",ie,z),P("click",ze,me),P("click",zt,Pe),P("click",lr,function(...g){D()?.apply(this,g)}),P("click",x,T),cr(Lt,()=>e(m).fecha,g=>(de(m,e(m).fecha=g),$e(()=>{e(t),e(j),e(le),e(R),e(E),e(I),e(S),e(V)}))),st(q,()=>e(m).docente,g=>(de(m,e(m).docente=g),$e(()=>{e(t),e(j),e(le),e(R),e(E),e(I),e(S),e(V)}))),st(Rr,()=>e(m).materia,g=>(de(m,e(m).materia=g),$e(()=>{e(t),e(j),e(le),e(R),e(E),e(I),e(S),e(V)}))),st(Dr,()=>e(m).grado,g=>(de(m,e(m).grado=g),$e(()=>{e(t),e(j),e(le),e(R),e(E),e(I),e(S),e(V)}))),st(zr,()=>e(m).horas,g=>(de(m,e(m).horas=g),$e(()=>{e(t),e(j),e(le),e(R),e(E),e(I),e(S),e(V)}))),cr(Ge,()=>e(Y),g=>d(Y,g)),cr(Gr,()=>e(m).observacion,g=>(de(m,e(m).observacion=g),$e(()=>{e(t),e(j),e(le),e(R),e(E),e(I),e(S),e(V)}))),P("submit",Rt,F),p(N,K),Ir(),u()}var xl=y('<div class="flex items-center justify-center py-12"><!></div>'),fl=pt('<svg class="w-3 h-3 text-white" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'),hl=y('<div class="relative group flex flex-col p-0 rounded-2xl border transition-all duration-200 shadow-sm hover:shadow-md"><div class="flex flex-col p-4 gap-3"><div class="flex items-start justify-between gap-2"><div class="flex items-center gap-2"><label class="flex-shrink-0 cursor-pointer"><input type="checkbox" class="hidden"/> <div class="w-5 h-5 rounded border flex items-center justify-center transition-colors"><!></div></label> <span class="font-bold text-sm leading-tight"> </span></div> <div class="flex gap-1.5 flex-shrink-0"><span class="text-[10px] font-bold px-1.5 py-0.5 rounded bg-black/5 dark:bg-white/5 border border-black/10 dark:border-white/10 opacity-60"> </span> <span class="text-[10px] font-bold px-1.5 py-0.5 rounded bg-black/5 dark:bg-white/5 border border-black/10 dark:border-white/10 opacity-60"> </span></div></div> <textarea rows="4" class="w-full bg-transparent border-none focus:ring-0 text-sm font-medium leading-relaxed resize-none p-0 transition-colors opacity-80" placeholder="Escriba aqu√≠..."></textarea></div></div>'),ml=y('<div class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>'),_l=y('<div class="space-y-4"><button type="button" class="flex items-center gap-3 w-full text-left cursor-pointer group focus:outline-none"><h3 class="text-xs font-black uppercase tracking-widest px-3 py-1 rounded-full text-white flex-shrink-0 transition-all duration-300 group-hover:shadow-md"> </h3> <div class="h-px flex-1 transition-all duration-300 group-hover:opacity-50"></div> <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button> <!></div>'),yl=y('<div class="space-y-8"><!></div>');function kl(N,$){Sr($,!1);const v=h();let ke=wt($,"selectedDiarioAnots",28,()=>[]),u=h({}),E=h({}),t=h(!1);const xe=Lo(),Ne=S=>{if(e(E)[S])de(E,e(E)[S]=!1);else{for(const s in e(E))de(E,e(E)[s]=!1);de(E,e(E)[S]=!0)}d(E,e(E))},D=S=>({Administrativo:"#6366f1",Emergencia:"#ef4444",Acad√©mico:"#f59e0b",Convivencia:"#22c55e",Infraestructura:"#0ea5e9",Salud:"#ec4899",Tecnol√≥gico:"#8b5cf6",Comunicaci√≥n:"#3b82f6",Disciplinario:"#64748b",Normalidad:"#10b981"})[S]||"#6366f1",le=async()=>{d(t,!0);try{const s=(await va()).situaciones||{},i={},w={};Object.entries(s).forEach(([Y,ge])=>{ge.length>0&&(w[Y]=!1,i[Y]=ge.map(G=>({id:G.id,text:G.descripcion,selected:!1,originalTitulo:G.titulo,categoria:G.categoria,impacto:G.impacto,tiempo_estimado:G.tiempo_estimado})))}),d(u,i),d(E,w)}catch(S){console.error("Error cargando opciones de diario:",S)}finally{d(t,!1)}};Ar(()=>{le()}),Ce(()=>(e(u),be(ke())),()=>{const S=Object.values(e(u)).flat().filter(s=>s.selected&&s.text.trim()!=="").map(s=>`[${s.categoria}] ${s.originalTitulo}: ${s.text}`);JSON.stringify(S)!==JSON.stringify(ke())&&(ke(S),xe("change",ke()))}),Ce(()=>{},()=>{d(v,{text:"rgb(var(--text-primary))",label:"rgb(var(--text-secondary))",border:"rgb(var(--border-primary))",inputBg:"rgb(var(--bg-secondary))"})}),Nr(),jr();var H=yl(),V=o(H);{var j=S=>{var s=xl(),i=o(s);po(i,{message:"Cargando opciones de diario..."}),p(S,s)},R=S=>{var s=io(),i=Qt(s);ye(i,1,()=>(e(u),r(()=>Object.entries(e(u)))),Se,(w,Y)=>{var ge=mo(()=>Eo(e(Y),2));let G=()=>e(ge)[0],Ie=()=>e(ge)[1];const fe=Bt(()=>(G(),r(()=>D(G()))));var Je=_l(),ft=o(Je),Ze=o(ft),Qe=o(Ze),Ve=a(Ze,2),m=a(Ve,2);let I;var re=a(ft,2);{var X=ee=>{var Be=ml();ye(Be,5,Ie,Fe=>Fe.id,(Fe,ne,me)=>{var ut=hl(),Pe=o(ut),Xe=o(Pe),Me=o(Xe),Ye=o(Me),lt=o(Ye),rt=a(lt,2),c=o(rt);{var k=pe=>{var _e=fl();p(pe,_e)};W(c,pe=>{e(ne),r(()=>e(ne).selected)&&pe(k)})}var z=a(Ye,2),T=o(z),Q=a(Me,2),F=o(Q),K=o(F),he=a(F,2),_=o(he),Ee=a(Xe,2);B(()=>{l(ut,`
                  background-color: ${e(ne),be(e(fe)),e(v),r(()=>e(ne).selected?`${e(fe)}10`:e(v).inputBg)??""};
                  border-color: ${e(ne),be(e(fe)),e(v),r(()=>e(ne).selected?e(fe):e(v).border)??""};
                `),l(rt,`
                            border-color: ${e(ne),be(e(fe)),e(v),r(()=>e(ne).selected?e(fe):e(v).border)??""};
                            background-color: ${e(ne),be(e(fe)),r(()=>e(ne).selected?e(fe):"transparent")??""};
                          `),l(z,`color: ${e(v),r(()=>e(v).text)??""};`),f(T,(e(ne),r(()=>e(ne).originalTitulo))),l(F,`color: ${e(v),r(()=>e(v).text)??""};`),f(K,`IMP: ${e(ne),r(()=>e(ne).impacto)??""}`),l(he,`color: ${e(v),r(()=>e(v).text)??""};`),f(_,`${e(ne),r(()=>e(ne).tiempo_estimado)??""} MIN`),l(Ee,`color: ${e(v),r(()=>e(v).text)??""};`)}),_o(lt,()=>e(ne).selected,pe=>(e(ne).selected=pe,$e(()=>(Ie(),e(u))))),P("change",lt,()=>{d(u,e(u))}),cr(Ee,()=>e(ne).text,pe=>(e(ne).text=pe,$e(()=>(Ie(),e(u))))),P("input",Ee,()=>{d(u,e(u))}),p(Fe,ut)}),to(3,Be,()=>Io),p(ee,Be)};W(re,ee=>{e(E),G(),r(()=>e(E)[G()])&&ee(X)})}B(()=>{l(Ze,`background-color: ${e(fe)??""};`),f(Qe,G()),l(Ve,`background-color: ${e(fe)??""}; opacity: 0.2;`),I=Nt(m,0,"w-5 h-5 text-gray-500 transform transition-transform duration-200 flex-shrink-0",null,I,{"rotate-180":e(E)[G()]})}),P("click",ft,()=>Ne(G())),p(w,Je)}),p(S,s)};W(V,S=>{e(t)?S(j):S(R,!1)})}p(N,H),Ir()}var wl=pt('<svg class="w-5 h-5 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>'),$l=pt('<svg class="w-5 h-5 text-amber-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>'),Cl=pt('<svg class="w-5 h-5 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>'),Al=y('<div class="mb-6 p-4 rounded-xl border flex items-start gap-4 animate-fade-in relative transition-all duration-300 bg-green-50 dark:bg-indigo-900/40 border-green-200 dark:border-indigo-700 shadow-sm svelte-qemcko"><div class="p-2 rounded-lg bg-green-100 dark:bg-indigo-800 text-green-700 dark:text-indigo-200 flex-shrink-0"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div> <div class="flex-1 pr-6 pt-0.5"><h4 class="text-sm font-bold mb-1 text-green-900 dark:text-indigo-100">Informaci√≥n</h4> <p class="text-sm leading-relaxed text-green-800 dark:text-indigo-200"> </p></div> <button class="absolute top-3 right-3 p-1.5 rounded-lg hover:bg-green-100 dark:hover:bg-indigo-700 text-green-600 hover:text-green-800 dark:text-indigo-400 dark:hover:text-indigo-100 transition-colors" aria-label="Cerrar alerta"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div>'),Sl=y("<option> </option>"),Il=y("<option> </option>"),El=y("<option> </option>"),Dl=y("<option> </option>"),Bl=pt('<svg class="animate-spin h-7 w-7 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>'),zl=pt('<svg class="w-8 h-8 transform rotate-90" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg>'),Fl=y('<div class="min-h-screen flex flex-col lg:flex-row transition-colors duration-200"><aside class="w-full lg:w-80 lg:h-screen lg:sticky lg:top-0 border-b lg:border-b-0 lg:border-r transition-colors duration-200 p-6 lg:p-8 flex flex-col flex-shrink-0 z-40"><div class="flex flex-col lg:flex-col items-center justify-between lg:justify-start gap-4 lg:gap-8"><div class="flex items-center gap-4 lg:flex-col"><img alt="EIE Logo" class="h-12 lg:h-20 w-auto"/> <h1 class="text-xl lg:text-2xl tracking-tight font-bold lg:text-center">Diario de Campo</h1></div> <div class="flex flex-wrap justify-center lg:flex-col gap-3 w-full"><button class="inline-flex items-center justify-center gap-2 px-3 lg:px-4 py-2 lg:py-3 border rounded-lg transition-all duration-200 hover:bg-black/5 dark:hover:bg-white/5" title="Abrir hoja de c√°lculo"><svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z"></path></svg> <span class="text-sm font-medium hidden lg:inline">Hoja de C√°lculo</span></button> <button class="inline-flex items-center justify-center gap-2 px-3 lg:px-4 py-2 lg:py-3 border rounded-lg transition-all duration-200 hover:bg-black/5 dark:hover:bg-white/5" title="Volver al Dashboard"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path></svg> <span class="text-sm font-medium hidden lg:inline">Dashboard</span></button> <button class="inline-flex items-center justify-center gap-2 px-3 lg:px-4 py-2 lg:py-3 border rounded-lg transition-all duration-200 hover:bg-black/5 dark:hover:bg-white/5 w-full" aria-label="Cambiar tema"><!> <span class="text-sm font-medium hidden lg:inline capitalize"> </span></button></div></div></aside> <main class="flex-1 p-4 sm:p-6 lg:p-8 overflow-y-auto pb-32"><div class="max-w-4xl mx-auto rounded-2xl p-6 lg:p-8 transition-colors duration-200 border"><!> <form class="space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="space-y-2"><label for="fecha" class="block text-sm font-medium">Fecha</label> <input type="date" id="fecha" required="" class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-indigo-500 transition-all outline-none"/></div> <div class="space-y-2"><label for="docente" class="block text-sm font-medium">Docente</label> <select id="docente" required="" class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-indigo-500 transition-all outline-none appearance-none cursor-pointer disabled:opacity-50"><option> </option><!></select></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="space-y-2"><label for="materia" class="block text-sm font-medium">Asignatura</label> <select id="materia" required="" class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-indigo-500 transition-all outline-none appearance-none cursor-pointer disabled:opacity-50"><option> </option><!></select></div> <div class="space-y-2"><label for="grado" class="block text-sm font-medium">Grado</label> <select id="grado" required="" class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-indigo-500 transition-all outline-none appearance-none cursor-pointer disabled:opacity-50"><option> </option><!></select></div></div> <div class="space-y-2"><label for="horas" class="block text-sm font-medium">Horas</label> <select id="horas" required="" class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-indigo-500 transition-all outline-none appearance-none cursor-pointer"><option>Seleccione horas</option><!></select></div> <div class="space-y-2"><!></div> <div class="fixed bottom-8 right-8 z-50"><button type="submit" class="w-16 h-16 bg-indigo-600 hover:bg-indigo-700 disabled:bg-slate-400 dark:disabled:bg-slate-700 disabled:cursor-not-allowed disabled:scale-100 text-white rounded-full shadow-2xl transition-all duration-300 transform hover:scale-110 active:scale-95 backdrop-blur-sm bg-opacity-95 flex items-center justify-center overflow-hidden border border-white/20" aria-label="Guardar Diario de Campo"><!></button></div></form></div></main></div>');function Tl(N,$){Sr($,!1);const v=()=>vo(Vr,"$theme",ke),[ke,u]=co(),E=h(),t=h(),xe=h();let Ne=wt($,"onBack",8),D=h([]),le=h([]),H=h([]),V=h(!1),j=h(!1),R=h(!1),S=h(!1),s=h([]),i=h({fecha:new Date().toISOString().split("T")[0],docente:localStorage.getItem("lastDocenteDiario")||"",materia:"",grado:"",horas:""}),w=h(JSON.parse(localStorage.getItem("docenteMateriasDiario")||"{}"));const Y=(O,q)=>{!O||!q||(e(w)[O]||de(w,e(w)[O]=[]),e(w)[O].includes(q)||(de(w,e(w)[O]=[...e(w)[O],q]),localStorage.setItem("docenteMateriasDiario",JSON.stringify(e(w)))))};let ge=h(localStorage.getItem("dismissedInfoDiarioContent")!==fo);const G=()=>{d(ge,!1),localStorage.setItem("dismissedInfoDiarioContent",fo)},Ie=()=>`https://docs.google.com/spreadsheets/d/${So}`,fe=()=>{window.open(Ie(),"_blank")},Je=()=>{Vr.update(O=>O==="light"?"dim":O==="dim"?"dark":"light")},ft=async()=>{d(V,!0),d(j,!0),d(R,!0);try{const[O,q,ce]=await Promise.all([Zr(),Qr(),Xr()]);d(D,O),d(le,q),d(H,ce)}catch(O){console.error("Error cargando datos iniciales:",O)}finally{d(V,!1),d(j,!1),d(R,!1)}},Ze=async O=>{if(O.preventDefault(),e(S))return;const q=e(s).join(" | ");if((await Ot.fire({title:"¬øConfirmar Registro?",html:`
        <div class="text-left space-y-2 p-2 rounded-xl bg-black/5 dark:bg-white/5 border border-black/10 dark:border-white/10" style="font-size: 0.9rem; line-height: 1.4;">
          <div style="margin-bottom: 8px;"><strong style="color: #6366f1;">Fecha:</strong> ${e(i).fecha}</div>
          <div style="margin-bottom: 8px;"><strong style="color: #6366f1;">Docente:</strong> ${e(i).docente}</div>
          <div style="margin-bottom: 8px;"><strong style="color: #6366f1;">Asignatura:</strong> ${e(i).materia}</div>
          <div style="margin-bottom: 8px;"><strong style="color: #6366f1;">Grado:</strong> ${e(i).grado}</div>
          <div style="margin-bottom: 8px;"><strong style="color: #6366f1;">Horas:</strong> ${e(i).horas}</div>
          <div style="margin-top: 12px; border-top: 1px solid rgba(0,0,0,0.1); padding-top: 8px;">
            <strong style="color: #6366f1;">Diario de Campo:</strong>
            <ul style="list-style-type: disc; padding-left: 20px; margin-top: 4px; font-size: 0.8rem; opacity: 0.8;">
              ${e(s).map(Oe=>`<li>${Oe}</li>`).join("")}
            </ul>
          </div>
        </div>
      `,icon:"question",showCancelButton:!0,confirmButtonText:"Si, de acuerdo",cancelButtonText:"No",confirmButtonColor:"#4f46e5",cancelButtonColor:"#64748b",reverseButtons:!0,background:v()==="light"?"#fff":"#1e293b",color:v()==="light"?"#1e293b":"#f1f5f9"})).isConfirmed){d(S,!0);try{const nt=[[new Date().toLocaleString(),e(i).fecha,e(i).horas,e(i).docente,e(i).materia,e(i).grado,q]];await ba({spreadsheetId:So,worksheetTitle:da,datos:nt}),Y(e(i).docente,e(i).materia),await Ot.fire({icon:"success",title:"¬°√âxito!",text:"Diario de Campo registrado exitosamente",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,position:"top-end",toast:!0}),d(i,{fecha:new Date().toISOString().split("T")[0],docente:e(i).docente,materia:e(i).materia,grado:e(i).grado,horas:""}),d(s,[])}catch(Oe){console.error("Error enviando:",Oe),await Ot.fire({icon:"error",title:"Error",text:"Error al registrar el Diario de Campo",confirmButtonColor:"#ef4444"})}finally{d(S,!1)}}};Ar(()=>{ft()}),Ce(()=>e(i),()=>{e(i).docente&&localStorage.setItem("lastDocenteDiario",e(i).docente)}),Ce(()=>(e(i),e(le),e(w)),()=>{d(E,e(i).docente?[...e(le)].sort((O,q)=>{const ce=e(w)[e(i).docente]?.includes(O.materia),Oe=e(w)[e(i).docente]?.includes(q.materia);return ce&&!Oe?-1:!ce&&Oe?1:O.materia.localeCompare(q.materia)}):e(le))}),Ce(()=>{},()=>{d(t,{bg:"rgb(var(--bg-primary))",text:"rgb(var(--text-primary))",label:"rgb(var(--text-secondary))",border:"rgb(var(--border-primary))",placeholder:"rgb(var(--text-muted))",icon:"rgb(var(--text-muted))",cardBg:"rgb(var(--card-bg))",cardBorder:"rgb(var(--card-border))",inputBg:"rgb(var(--bg-secondary))"})}),Ce(()=>(e(i),e(s)),()=>{d(xe,e(i).fecha&&e(i).docente&&e(i).materia&&e(i).grado&&e(i).horas&&e(s).length>0)}),Nr(),jr();var Qe=Fl(),Ve=o(Qe),m=o(Ve),I=o(m),re=o(I),X=a(re,2),ee=a(I,2),Be=o(ee),Fe=a(Be,2),ne=a(Fe,2),me=o(ne);{var ut=O=>{var q=wl();p(O,q)},Pe=O=>{var q=$l();p(O,q)},Xe=O=>{var q=Cl();p(O,q)};W(me,O=>{v()==="dark"?O(ut):v()==="light"?O(Pe,1):O(Xe,!1)})}var Me=a(me,2),Ye=o(Me),lt=a(Ve,2),rt=o(lt),c=o(rt);{var k=O=>{var q=Al(),ce=a(o(q),2),Oe=a(o(ce),2),nt=o(Oe),Pt=a(ce,2);B(()=>f(nt,fo)),P("click",Pt,G),p(O,q)};W(c,O=>{e(ge)&&O(k)})}var z=a(c,2),T=o(z),Q=o(T),F=o(Q),K=a(F,2),he=a(Q,2),_=o(he),Ee=a(_,2),pe=o(Ee),_e=o(pe);pe.value=pe.__value="";var U=a(pe);ye(U,1,()=>e(D),Se,(O,q)=>{var ce=Sl(),Oe=o(ce),nt={};B(()=>{f(Oe,e(q)),nt!==(nt=e(q))&&(ce.value=(ce.__value=e(q))??"")}),p(O,ce)});var se=a(T,2),ie=o(se),ze=o(ie),He=a(ze,2),Ct=o(He),zt=o(Ct);Ct.value=Ct.__value="";var lr=a(Ct);ye(lr,1,()=>e(E),Se,(O,q)=>{const ce=Bt(()=>(e(w),e(i),e(q),r(()=>e(w)[e(i).docente]?.includes(e(q).materia))));var Oe=Il(),nt=o(Oe),Pt={};B(()=>{l(Oe,e(ce)?"color: #6366f1; font-weight: 600;":""),f(nt,`${e(ce)?"‚≠ê ":""}${e(q),r(()=>e(q).materia)??""}`),Pt!==(Pt=(e(q),r(()=>e(q).materia)))&&(Oe.value=(Oe.__value=(e(q),r(()=>e(q).materia)))??"")}),p(O,Oe)});var x=a(ie,2),M=o(x),J=a(M,2),Z=o(J),Re=o(Z);Z.value=Z.__value="";var bt=a(Z);ye(bt,1,()=>(e(H),r(()=>[...new Set(e(H).map(O=>O.grado.toString()))])),Se,(O,q)=>{var ce=El(),Oe=o(ce),nt={};B(Pt=>{f(Oe,Pt),nt!==(nt=e(q))&&(ce.value=(ce.__value=e(q))??"")},[()=>(e(q),r(()=>e(q).replace(/0(\d)$/,"¬∞$1").replace(/(\d{1,2})0(\d)/,"$1¬∞$2")))]),p(O,ce)});var Ft=a(se,2),we=o(Ft),Xt=a(we,2),$t=o(Xt);$t.value=$t.__value="";var jt=a($t);ye(jt,0,()=>[1,2,3,4],Se,(O,q)=>{var ce=Dl(),Oe=o(ce),nt={};B(Pt=>{f(Oe,`${q??""} ${q===1?"Hora":"Horas"}`),nt!==(nt=Pt)&&(ce.value=(ce.__value=Pt)??"")},[()=>r(()=>q.toString())]),p(O,ce)});var er=a(Ft,2),Rt=o(er);kl(Rt,{get selectedDiarioAnots(){return e(s)},set selectedDiarioAnots(O){d(s,O)},$$legacy:!0});var vt=a(er,2),It=o(vt),Tt=o(It);{var Lt=O=>{var q=Bl();p(O,q)},At=O=>{var q=zl();p(O,q)};W(Tt,O=>{e(S)?O(Lt):O(At,!1)})}B(()=>{l(Qe,`background-color: ${e(t),r(()=>e(t).bg)??""};`),l(Ve,`background-color: ${e(t),r(()=>e(t).cardBg)??""}; border-color: ${e(t),r(()=>e(t).cardBorder)??""};`),ct(re,"src",Kr),l(X,`color: ${e(t),r(()=>e(t).text)??""};`),l(Be,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(Fe,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),l(ne,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),f(Ye,v()),l(rt,`background-color: ${e(t),r(()=>e(t).cardBg)??""}; border-color: ${e(t),r(()=>e(t).cardBorder)??""};`),l(F,`color: ${e(t),r(()=>e(t).label)??""};`),l(K,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""}; color-scheme: ${v()==="light"?"light":"dark"};`),l(_,`color: ${e(t),r(()=>e(t).label)??""};`),l(Ee,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),f(_e,e(V)?"Cargando...":"Seleccione docente"),l(ze,`color: ${e(t),r(()=>e(t).label)??""};`),l(He,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),f(zt,e(j)?"Cargando...":"Seleccione asignatura"),l(M,`color: ${e(t),r(()=>e(t).label)??""};`),l(J,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),f(Re,e(R)?"Cargando...":"Seleccione grado"),l(we,`color: ${e(t),r(()=>e(t).label)??""};`),l(Xt,`background-color: ${e(t),r(()=>e(t).inputBg)??""}; border-color: ${e(t),r(()=>e(t).border)??""}; color: ${e(t),r(()=>e(t).text)??""};`),It.disabled=e(S)||!e(xe),ct(It,"title",e(xe)?"Guardar Diario de Campo":"Complete todos los campos requeridos")}),P("click",Be,fe),P("click",Fe,function(...O){Ne()?.apply(this,O)}),P("click",ne,Je),cr(K,()=>e(i).fecha,O=>(de(i,e(i).fecha=O),$e(()=>{e(t),e(V),e(D),e(j),e(E),e(w),e(R),e(H)}))),st(Ee,()=>e(i).docente,O=>(de(i,e(i).docente=O),$e(()=>{e(t),e(V),e(D),e(j),e(E),e(w),e(R),e(H)}))),st(He,()=>e(i).materia,O=>(de(i,e(i).materia=O),$e(()=>{e(t),e(V),e(D),e(j),e(E),e(w),e(R),e(H)}))),st(J,()=>e(i).grado,O=>(de(i,e(i).grado=O),$e(()=>{e(t),e(V),e(D),e(j),e(E),e(w),e(R),e(H)}))),st(Xt,()=>e(i).horas,O=>(de(i,e(i).horas=O),$e(()=>{e(t),e(V),e(D),e(j),e(E),e(w),e(R),e(H)}))),P("submit",z,Ze),p(N,Qe),Ir(),u()}var Ml=y('<div class="w-full h-screen flex flex-col bg-[rgb(var(--bg-primary))]"><div class="h-16 flex items-center justify-between px-6 border-b transition-colors duration-200" style="background-color: rgb(var(--card-bg)); border-color: rgb(var(--card-border));"><button class="flex items-center gap-2 px-4 py-2 rounded-xl transition-all duration-200 hover:bg-black/5 dark:hover:bg-white/5 font-medium" style="color: rgb(var(--text-primary));"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg> Volver al Dashboard</button> <h2 class="text-lg font-bold" style="color: rgb(var(--text-primary));">Horas Laborables</h2> <div class="w-10"></div></div> <iframe src="https://ceslep.github.io/horas_laborables" title="Horas Laborables" class="flex-1 w-full border-none"></iframe></div>'),Ol=y('<main class="w-full min-h-screen"><!></main>');function Nl(N){let $=h("dashboard");const v=H=>{d($,H)},ke=()=>{d($,"dashboard")};var u=Ol(),E=o(u);{var t=H=>{ea(H,{onSelect:v})},xe=H=>{hs(H,{onBack:ke})},Ne=H=>{bl(H,{onBack:ke})},D=H=>{Tl(H,{onBack:ke})},le=H=>{var V=Ml(),j=o(V),R=o(j);P("click",R,ke),p(H,V)};W(E,H=>{e($)==="dashboard"?H(t):e($)==="inasistencia"?H(xe,1):e($)==="anotador"?H(Ne,2):e($)==="diario"?H(D,3):e($)==="horas_laborables"&&H(le,4)})}p(N,u)}Po(Nl,{target:document.getElementById("app")});
